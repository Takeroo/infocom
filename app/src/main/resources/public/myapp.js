!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=21)}([function(t,e,n){"use strict";n.d(e,"c",function(){return l});var r=n(23);n.d(e,"a",function(){return r.a});var i=n(2);n.d(e,"b",function(){return i.a});var o=(n(9),n(29),n(30),n(31),n(32)),a=n(33),s=n(36),u=n(37),c=n(38),p=n(39),f=n(40),l={UnloadGuard:o.a,Locale:a.a,Menu:s.a,Theme:c.a,User:f.a,Status:u.a,UrlParam:p.a};window.Promise||(window.Promise=webix.promise)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BaseDetailView",function(){return s});var a=n(0),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.config=function(){var t=this;this.formConfig=this.getFormConfig(),this.position=this.formConfig.position||function(t){t.width=this.$scope.formConfig.width||400,t.left=t.maxWidth-t.width,t.top=0,t.height=t.maxHeight};var e={rows:[this.formConfig,{localId:"formButtons"}]};return this.formConfig.withoutButtons&&(e=this.formConfig),{view:"popup",padding:0,position:this.position,body:e,on:{onHide:function(){t.getForm().clearValidation()}}}},e.prototype.getForm=function(){return this.$$(this.formConfig.localId)},e.prototype.bindTo=function(t){t.id?this.updateButtons(2):this.updateButtons(1),this.getForm().setValues(t)},e.prototype.show=function(){this.getRoot().show()},e.prototype.hide=function(){this.getRoot().hide()},e.prototype.validate=function(){return!!this.getForm().validate()||(webix.message({type:"error",text:"Form data is invalid"}),!1)},e.prototype.save=function(t){this.validate()&&(this.formConfig.isDetail?this.getParentView().saveDetail(this.getForm().getValues(),t):this.getParentView().save(this.getForm().getValues(),t))},e.prototype.updateButtons=function(t){var e=this;if(1==t){var n={localId:"formButtons",padding:15,cols:[{view:"button",width:150,align:"left",label:"Save & Continue",click:function(){return e.save("CONTINUE")}},{},{view:"button",type:"form",width:125,align:"right",label:"Save",click:function(){return e.save()}}]};webix.ui(n,this.$$("formButtons"))}else{var n={localId:"formButtons",padding:15,rows:[{view:"button",type:"form",width:125,align:"right",label:"Save",click:function(){return e.save()}}]};webix.ui(n,this.$$("formButtons"))}},e}(a.b)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(7),i=n(8),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e,n){var r=t.call(this)||this;return r.app=e,r._name=n,r._children=[],r}return a(e,t),e.prototype.ui=function(t,e){e=e||{};var n=e.container||t.container,i=this.app.createView(t);return this._children.push(i),i.render(n,null,this),"object"!==(void 0===t?"undefined":o(t))||t instanceof r.a?i:i.getRoot()},e.prototype.show=function(t,e){var n=this;if(e=e||{},"string"==typeof t){if("/"===t.substr(0,1))return this.app.show(t);if(0===t.indexOf("../")){var r=this.getParentView();return void(r?r.show("./"+t.substr(3),e):this.app.show("/"+t.substr(3)))}0===t.indexOf("./")&&(t=t.substr(2));var a=this.getSubViewInfo(e.target);if(!a)return this.app.show("/"+t);if(a.parent!==this)return a.parent.show(t,e)}var s=Object(i.a)(this.app.getRouter().get());if("object"===(void 0===t?"undefined":o(t)))if(webix.isArray(t)){var u=this._index+t[0];s[u]||(s[u]={}),s[u].page=t[1],t=""}else{var c=[];for(var p in t)c.push(encodeURIComponent(p)+"="+encodeURIComponent(t[p]));t="?"+c.join("&")}if("string"==typeof t){if("?"===t.substr(0,1)){var f=t.indexOf("/"),l=t;f>-1&&(l=t.substr(0,f));var h=Object(i.a)(l);webix.extend(s[this._index-1].params,h[0].params,!0),t=f>-1?t.substr(f+1):""}var d=""===t?s.slice(this._index):Object(i.a)(t),g=null;if(this._index){g=s.slice(0,this._index).concat(d);for(var y=0;y<g.length;y++)g[y].index=y+1;var m=Object(i.b)(g);return this.app.canNavigate(m,this).then(function(t){return null!==t?m!==t?n.app.show(t):n._finishShow(g,t):null})}return this._finishShow(d,"")}},e.prototype.init=function(t,e){},e.prototype.ready=function(t,e){},e.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},e.prototype.urlChange=function(t,e){},e.prototype.destroy=function(){},e.prototype.destructor=function(){this.destroy(),this._destroyKids(),this.app=this._parentFrame=null,this._root.destructor(),t.prototype.destructor.call(this)},e.prototype.use=function(t,e){t(this.app,this,e)},e.prototype.refresh=function(){var t=this;this._destroyKids();var e=[];this._index>1&&(e=Object(i.a)(this.app.getRouter().get()).slice(this._index-1)),this._render(e).then(function(){t._parentFrame.id=t.getRoot().config.id})},e.prototype._render=function(t){var e=this,n=this.config();return n.then?n.then(function(n){return e._render_final(n,t)}):this._render_final(n,t)},e.prototype._render_final=function(t,e){var n=this,r=this._container;if(r&&r.$destructed)return Promise.reject("Container destroyed");var i,o={ui:{}};this.app.copyConfig(t,o.ui,this._subs),this.app.callEvent("app:render",[this,e,o]),o.ui.$scope=this;try{if(r&&r.getParentView){var a=r.getParentView();a&&"multiview"===a.name&&!o.ui.id&&(o.ui.id=r.config.id)}this._root=this.app.webix.ui(o.ui,this._container),this._root.getParentView()&&(this._container=this._root),this._init(this._root,e),i=this._urlChange(e).then(function(){return n.ready(n._root,e)})}catch(t){i=Promise.reject(t)}return i.catch(function(t){return n._initError(n,t)})},e.prototype._init=function(t,e){return this.init(t,e)},e.prototype._urlChange=function(t){var e=this;this.app.callEvent("app:urlchange",[this,t,this._index]);var n=[];for(var r in this._subs){var i=this._renderFrame(r,this._subs[r],t);i&&n.push(i)}return Promise.all(n).then(function(){e.urlChange(e._root,t)})},e.prototype._renderFrame=function(t,e,n){if(e.url){if("string"==typeof e.url){var r=Object(i.a)(e.url);return r.map(function(t){t.index=0}),this._createSubView(e,r)}var o=e.view;return"function"!=typeof e.url||o instanceof e.url||(o=new e.url(this.app,"")),o||(o=e.url),this._renderSubView(e,o,n)}if("default"===t&&n&&n.length>1){var a=n.slice(1);return this._createSubView(e,a)}},e.prototype._initError=function(t,e){return this.app.error("app:error:initview",[e,t]),!0},e.prototype._createSubView=function(t,e){var n=this;return this.app.createFromURL(e,t.view).then(function(r){return n._renderSubView(t,r,e)})},e.prototype._renderSubView=function(t,n,r){var i=this.app.webix.$$(t.id);return n.render(i,r,this).then(function(r){return t.view&&t.view!==n&&t.view.destructor(),t.view=n,t.id=r.config.id,n instanceof e&&(n._parentFrame=t),r})},e.prototype._finishShow=function(t,e){var n;return this._index?(n=this._renderPartial(t.slice(this._index-1)),this.app.getRouter().set(e,{silent:!0}),this.app.callEvent("app:route",[t])):(t.map(function(t){return t.index=0}),n=this._renderPartial([null].concat(t))),n},e.prototype._renderPartial=function(t){return this._init_url_data(t),this._urlChange(t)},e.prototype._destroyKids=function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e]&&t[e].destructor&&t[e].destructor();this._children=[]},e}(r.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BaseMasterView",function(){return c});var a=n(0),s=n(4),u=n(11),c=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.config=function(){var t=this;return this.confirmOptions={ok:"Yes",cancel:"No",text:"Are you sure you want to continue?"},this.getData().then(function(e){t.data=e,t.gridConfig=t.getGridConfig();var n={rows:[t.createGridToolbar(t.gridConfig),t.gridConfig]};return t.getDetailGridConfig&&(t.detailGridConfig=t.getDetailGridConfig(),n.rows.push({view:"resizer"}),n.rows.push({rows:[t.createDetailGridToolbar(t.detailGridConfig),t.detailGridConfig]}),n.rows[1].on=n.rows[1].on||{},null==n.rows[1].on.onSelectChange&&(n.rows[1].on.onSelectChange=function(){var e=t.getSelected();if(e){var n=t.getDetailGrid();n.clearAll(),t.detailGridConfig.load&&t.detailGridConfig.load(e).then(function(t){n.parse(t.json());var e=n.getFirstId();e&&n.select(e)})}})),n})},e.prototype.createGridToolbar=function(){var t=this;return Object(s.CrudToolbar)({title:this.gridConfig.title,add:function(){return t.add()},edit:function(){return t.update()},remove:function(){return t.remove()},extra:this.gridConfig.extra||[]})},e.prototype.createDetailGridToolbar=function(){var t=this;return Object(s.CrudToolbar)({title:this.detailGridConfig.title,add:function(){return t.addDetail()},edit:function(){return t.updateDetail()},remove:function(){return t.removeDetail()},extra:this.detailGridConfig.extra||[]})},e.prototype.getItemOptions=function(){return this.data.map(function(t){return{id:t.id,value:t.name}})},e.prototype.init=function(){this.getGrid().parse(this.data)},e.prototype.ready=function(){var t=this.gridConfig.localId||this.gridConfig.gridId,e=webix.storage.local.get(t);if(e&&this.$$(t).setState(e),this.detailGridConfig){var n=this.detailGridConfig.localId||this.detailGridConfig.gridId,r=webix.storage.local.get(n);r&&this.$$(n).setState(r)}},e.prototype.destroy=function(){var t=this.gridConfig.localId||this.gridConfig.gridId;if(webix.storage.local.put(t,this.getGrid().getState()),this.detailGridConfig){var e=this.detailGridConfig.localId||this.detailGridConfig.gridId;webix.storage.local.put(e,this.getDetailGrid().getState())}},e.prototype.getGrid=function(){return this.$$(this.gridConfig.localId||this.gridConfig.gridId)},e.prototype.getDetailGrid=function(){return this.$$(this.detailGridConfig.localId||this.detailGridConfig.gridId)},e.prototype.getSelected=function(){var t=this.getGrid(),e=t.getSelectedId();return e?t.getItem(e):null},e.prototype.getSelectedDetail=function(){var t=this.getDetailGrid(),e=t.getSelectedId();return e?t.getItem(e):null},e.prototype.showPopup=function(t){var e=this.getPopup();e.bindTo(t),e.show()},e.prototype.showDetailPopup=function(t,e){var n=this.getDetailPopup();n.bindTo(t,e),n.show()},e.prototype.hidePopup=function(){this.getPopup().hide()},e.prototype.hideDetailPopup=function(){this.getDetailPopup().hide()},e.prototype.add=function(){this.showPopup({})},e.prototype.addDetail=function(){this.getSelected()?this.showDetailPopup(this.getSelected(),{}):webix.message({type:"error",text:"Please select a master record first"})},e.prototype.update=function(){var t=this.getSelected();t&&this.showPopup(t)},e.prototype.updateDetail=function(){var t=this.getSelectedDetail();t&&this.showDetailPopup(this.getSelected(),t)},e.prototype.remove=function(){var t=this,e=this.getSelected();e&&Object(u.a)(this.confirmOptions,function(){return t.removeItem(e).then(function(){t.getGrid().remove(e.id),t.data.splice(t.data.findIndex(function(t){return t.id==e.id}),1);var n=t.getDetailGrid();n&&n.clearAll(),webix.message("Item removed")})})},e.prototype.removeDetail=function(){var t=this,e=this.getSelected(),n=this.getSelectedDetail();n&&Object(u.a)(this.confirmOptions,function(){return t.removeItemDetail(e,n).then(function(){t.getDetailGrid().remove(n.id),webix.message("Item detail removed")})})},e.prototype.save=function(t,e){var n=this;t.id?Object(u.a)(this.confirmOptions,function(){return n.updateItem(t).then(function(){n.getGrid().updateItem(t.id,t),n.data[n.data.findIndex(function(e){return e.id==t.id})]=t,webix.message("Item updated"),n.hidePopup()})}):Object(u.a)(this.confirmOptions,function(){return n.addItem(t).then(function(t){var r=t.json(),i=n.getGrid(),o=i.add(r);n.data.push(r),i.select(o),i.showItem(o),webix.message("A new item added"),e||n.hidePopup()})})},e.prototype.saveDetail=function(t,e){var n=this,r=this.getSelected();t.id?Object(u.a)(this.confirmOptions,function(){return n.updateItemDetail(r,t).then(function(){n.getDetailGrid().updateItem(t.id,t),webix.message("Item detail updated"),n.hideDetailPopup()})}):Object(u.a)(this.confirmOptions,function(){return n.addItemDetail(r,t).then(function(t){var r=t.json(),i=n.getDetailGrid(),o=i.add(r);i.select(o),i.showItem(o),webix.message("A new item detail added"),e||n.hideDetailPopup()})})},e}(a.b)},function(t,e,n){"use strict";function r(t){var e=[];if(e.push({view:"label",label:t.title||""}),null!=t.extra)for(var n=0;n<t.extra.length;n++)e.push(t.extra[n]);return e.push({view:"icon",icon:"plus",click:t.add,hidden:!t.add}),e.push({view:"icon",icon:"pencil",click:t.edit,hidden:!t.edit}),e.push({view:"icon",icon:"minus",click:t.remove,hidden:!t.remove}),{view:"toolbar",cols:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.CrudToolbar=r;n(0)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"CFormView",function(){return s});var a=n(1),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getFormConfig=function(){var t=this;return{localId:"companyForm",view:"form",borderless:!0,width:500,elementsConfig:{labelWidth:150},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:"Company Form"},{},{view:"icon",icon:"window-close",click:function(){return t.hide()}}]},{height:20},{template:"Company",type:"section"},{name:"id",hidden:!0},{view:"text",label:"Name",name:"name",required:!0},{view:"text",label:"Ownership",name:"ownership",required:!0},{view:"text",label:"Website",name:"website"},{view:"text",label:"Legal Form",name:"legalForm"},{view:"text",label:"Chief",name:"chiefName",required:!0},{template:"Contacts",type:"section"},{view:"text",label:"Fax",name:"fax"},{view:"text",label:"Phone Number",name:"phoneNumber",required:!0},{view:"text",label:"Address",name:"address",required:!0},{template:"License",type:"section"},{view:"text",label:"Licence Number",name:"licenceNumber",required:!0},{view:"datepicker",label:"Licence Date",name:"licenceDate",format:"%d/%m/%Y %H:%i",stringResult:!0},{view:"text",label:"Certificate Number",name:"certificetNumber"},{view:"datepicker",label:"Certificate Date",name:"certificateDate",format:"%d/%m/%Y %H:%i",stringResult:!0},{}]}]}},e}(a.BaseDetailView)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"EFormView",function(){return s});var a=n(1),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getFormConfig=function(){var t=this;return{localId:"employeeForm",view:"form",borderless:!0,width:500,isDetail:!0,elementsConfig:{labelWidth:150},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:"Employee Form"},{},{view:"icon",icon:"window-close",click:function(){return t.hide()}}]},{height:20},{template:"Employee",type:"section"},{id:"id",hidden:!0},{view:"combo",label:"Company",name:"companyId",localId:"companyCombo",readonly:!0,required:!0,options:this.getParentView().getSelectedCompany(),on:{onChange:function(e){t.refreshCompanyCombo()}}},{view:"text",label:"Name",name:"name",required:!0},{view:"text",label:"Surname",name:"surname",required:!0},{view:"text",label:"Email",name:"email",required:!0},{view:"text",label:"Position",name:"position",required:!0},{template:"Contact Details",type:"section"},{view:"text",label:"Phone Number",name:"phoneNumber",required:!0},{view:"text",label:"Home Number",name:"homeNumber",required:!0},{view:"text",label:"Work Number",name:"workNumber"},{view:"text",label:"Address",name:"address"},{view:"textarea",label:"Account Details",name:"accountDetails"}]}]}},e.prototype.refreshCompanyCombo=function(){this.$$("companyCombo").define("options",this.getParentView().getSelectedCompanyOption()),this.$$("companyCombo").refresh()},e.prototype.bindTo=function(e,n){n.companyId=e.id,t.prototype.bindTo.call(this,n)},e}(a.BaseDetailView)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.webixJet=!0,this._id=webix.uid(),this._events=[],this._subs={},this._data={}}return t.prototype.getRoot=function(){return this._root},t.prototype.destructor=function(){for(var t=this._events,e=t.length-1;e>=0;e--)t[e].obj.detachEvent(t[e].id);for(var n in this._subs){var r=this._subs[n].view;r&&r.destructor()}this._events=this._container=this.app=this._parent=null},t.prototype.setParam=function(t,e,n){this._data[t]!==e&&(this._data[t]=e,this.app.callEvent("app:paramchange",[this,t,e,n])&&n&&this.show((r={},r[t]=e,r)));var r},t.prototype.getParam=function(t,e){var n=this._data[t];if(void 0!==n||!e)return n;var r=this.getParentView();return r?r.getParam(t,e):void 0},t.prototype.getUrl=function(){return this._url},t.prototype.render=function(t,e,n){var r=this;this._parent=n,e&&(this._index=e[0].index),this._init_url_data(e),t=t||document.body;var i="string"==typeof t?webix.toNode(t):t;return this._container!==i?(this._container=i,this._render(e).then(function(){return r.getRoot()})):this._urlChange(e).then(function(){return r.getRoot()})},t.prototype.getIndex=function(){return this._index},t.prototype.getId=function(){return this._id},t.prototype.getParentView=function(){return this._parent},t.prototype.$$=function(t){if("string"==typeof t){var e=this.getRoot();return e.queryView(function(n){return(n.config.id===t||n.config.localId===t)&&n.$scope===e.$scope},"self")}return t},t.prototype.on=function(t,e,n){var r=t.attachEvent(e,n);return this._events.push({obj:t,id:r}),r},t.prototype.contains=function(t){for(var e in this._subs){var n=this._subs[e].view;if(n===t||n.contains(t))return!0}return!1},t.prototype.getSubView=function(t){var e=this.getSubViewInfo(t);if(e)return e.subview.view},t.prototype.getSubViewInfo=function(t){var e=this._subs[t||"default"];return e?{subview:e,parent:this}:this._parent?this._parent.getSubViewInfo(t):null},t.prototype.getName=function(){return this._name},t.prototype._init_url_data=function(t){t&&t[0]&&(this._data={},webix.extend(this._data,t[0].params,!0)),this._url=t},t}()},function(t,e,n){"use strict";function r(t){"/"===t[0]&&(t=t.substr(1));for(var e=t.split("/"),n=[],r=0;r<e.length;r++){var i=e[r],o={},a=i.indexOf(":");if(-1===a&&(a=i.indexOf("?")),-1!==a)for(var s=i.substr(a+1).split(/[\:\?\&]/g),u=0,c=s;u<c.length;u++){var p=c[u],f=p.split("=");o[f[0]]=decodeURIComponent(f[1])}n[r]={page:a>-1?i.substr(0,a):i,params:o,index:r+1}}return n}function i(t){for(var e=[],n=0,r=t;n<r.length;n++){var i=r[n];e.push("/"+i.page);var a=o(i.params);a&&e.push("?"+a)}return e.join("")}function o(t){var e=[];for(var n in t)e.length&&e.push("&"),e.push(n+"="+encodeURIComponent(t[n]));return e.join("")}e.a=r,e.b=i},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(26),i=n.n(r),o=function(){function t(t,e){var n=this;this.config=e||{},this._prefix=this.config.routerPrefix,void 0===this._prefix&&(this._prefix="!");var r=function(t){};i()(this._prefix+"*",function(){return n._lastUrl="",r(n.get())}),r=t}return t.prototype.set=function(t,e){if(this.config.routes){var n=t.split("?",2);for(var r in this.config.routes)if(this.config.routes[r]===n[0]){t=r+(n.length>1?"?"+n[1]:"");break}}this._lastUrl=t,i.a.navigate(this._prefix+t,e)},t.prototype.get=function(){var t=this._lastUrl||(window.location.hash||"").replace("#"+this._prefix,"");if(this.config.routes){var e=t.split("?",2),n=this.config.routes[e[0]];n&&(t=n+(e.length>1?"?"+e[1]:""))}return t},t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.config=function(){return{view:"template",template:"About Us"}},e}(a.b);e.default=s},function(t,e,n){"use strict";function r(t,e,n){webix.html.addCss(webix.confirm({type:"confirm-warning",ok:t.ok||"Yes",cancel:t.cancel||"No",text:t.text,callback:function(t){t?e():n&&n()}}),"animated bounceIn")}e.a=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),s=n(5),u=n(6),c=n(13),p=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.getData=function(){var t=this;return new Promise(function(e,n){Object(c.c)().then(function(n){t.companies=n.json(),e(t.companies)}).catch(function(t){e([])})})},e.prototype.getGridConfig=function(){var t=this;return{localId:"companiesGrid",title:"Companies",view:"datatable",select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"name",header:[{content:"textFilter"},"Name"],adjust:!0},{id:"ownership",header:[{content:"textFilter"},"Ownership"],adjust:!0},{id:"website",header:"Website",adjust:!0},{id:"legalForm",header:"Legal Form",adjust:!0},{id:"chiefName",header:"Fax",adjust:!0},{id:"phoneNumber",header:"Phone Number",adjust:!0},{id:"licenceNumber",header:"LicenceNumber",adjust:!0},{id:"licenceDate",header:"LicenceDate",adjust:!0},{id:"certificetNumber",header:"CertificateNumber",adjust:!0},{id:"certificateDate",header:"CertificateDate",adjust:!0},{id:"address",header:"Address"}],on:{onSelectChange:function(){var e=t.getSelectedCompany();t.refreshEmployees(e.id)}}}},e.prototype.getDetailGridConfig=function(){return{localId:"employeesGrid",title:"Employees",view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0,required:!0},{id:"companyId",hidden:!0,required:!0},{id:"name",header:[{content:"textFilter"},"Name"],fillspace:!0},{id:"surname",header:[{content:"textFilter"},"Surname"],fillspace:!0},{id:"email",header:"Email",adjust:!0},{id:"accountDetails",header:"AccountDetails",adjust:!0},{id:"position",header:"Position",adjust:!0},{id:"phoneNumber",header:"PhoneNumber",adjust:!0},{id:"homeNumber",header:"HomeNumber",adjust:!0},{id:"workNumber",header:"WorkNumber",adjust:!0},{id:"address",header:"Address",adjust:!0}],load:function(t){return getCompanyTags(t.id)}}},e.prototype.getSelectedCompany=function(){return this.$$("companiesGrid").getSelectedItem()},e.prototype.getSelectedCompanyOption=function(){var t=this.$$("companiesGrid").getSelectedItem();return[{id:t.id,value:t.name}]},e.prototype.refreshEmployees=function(t){var e=this;this.$$("employeesGrid").clearAll(),Object(c.d)(t).then(function(t){e.$$("employeesGrid").parse(t.json())})},e.prototype.getPopup=function(){return this.cForm||(this.cForm=this.ui(s.CFormView)),this.cForm},e.prototype.getDetailPopup=function(){return this.eForm||(this.eForm=this.ui(u.EFormView)),this.eForm},e.prototype.addItem=function(t){return Object(c.a)(t)},e.prototype.updateItem=function(t){return Object(c.g)(t)},e.prototype.removeItem=function(t){return Object(c.e)(t)},e.prototype.addItemDetail=function(t,e){return Object(c.b)(e)},e.prototype.updateItemDetail=function(t,e){return Object(c.h)(e)},e.prototype.removeItemDetail=function(t,e){return Object(c.f)(e)},e}(a.BaseMasterView);e.default=p},function(t,e,n){"use strict";function r(){return Object(f.b)("/employees")}function i(t){return Object(f.c)("/employees",t)}function o(t){return Object(f.d)("/employees/"+t.id,t)}function a(t){return Object(f.a)("/employees/"+t.id)}function s(){return Object(f.b)("/companies")}function u(t){return Object(f.c)("/companies",t)}function c(t){return Object(f.d)("/companies/"+t.id,t)}function p(t){return Object(f.a)("/companies/"+t.id)}e.d=r,e.b=i,e.h=o,e.f=a,e.c=s,e.a=u,e.g=c,e.e=p;var f=n(14)},function(t,e,n){"use strict";function r(t){return webix.ajax().headers(u).get(s+t)}function i(t,e){return webix.ajax().headers(u).post(s+t,JSON.stringify(e))}function o(t,e){return webix.ajax().headers(u).put(s+t,JSON.stringify(e))}function a(t){return webix.ajax().headers(u).del(s+t)}e.b=r,e.c=i,e.d=o,e.a=a;var s="http://"+window.location.host+"/api",u={"Content-Type":"application/json"}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.config=function(){return{view:"template",template:"Help Me"}},e}(a.b);e.default=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.config=function(){return{view:"template",template:"Welcome home"}},e}(a.b);e.default=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=(n(18),function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.config=function(){return this.userService=this.app.getService("user"),{rows:[{},{cols:[{},{view:"form",elements:[{view:"label",height:150,align:"center",label:"<img src='/images/user.png' style='height:150px'>"},{localId:"loginForm",view:"form",width:425,borderless:!1,margin:10,elementsConfig:{labelPosition:"top"},rows:[{view:"text",name:"username",label:"Username"},{view:"text",name:"password",label:"Password",type:"password"},{view:"button",value:"Login",click:function(){this.$scope.doLogin()},hotkey:"enter"}],rules:{username:webix.rules.isNotEmpty,password:webix.rules.isNotEmpty}}]},{}]},{}]}},e.prototype.doLogin=function(){var t=this.$$("loginForm");if(t.validate()){var e=t.getValues();this.userService.login(e.username,e.password).catch(function(){webix.html.removeCss(t.$view,"invalid_login"),t.elements.password.focus(),webix.delay(function(){webix.html.addCss(t.$view,"invalid_login")})})}},e.prototype.init=function(t){t.$view.querySelector("input").focus()},e}(a.b));e.default=s},function(t,e,n){"use strict";function r(){return new Promise(function(t,e){if(!u)return void e();Object(s.b)("/").then(function(){return t(u)}).catch(function(){a(),e()})})}function i(t,e){return new Promise(function(e,n){t.username,t.customization;u={username:"Admin",token:"token"},e(u)})}function o(){if(u)return Object(s.c)("/authentication/logout",{token:u.token}).then(function(){return a()})}function a(){u=null,webix.detachEvent(c),c=null}var s=n(14),u=null,c=null;e.a={status:r,login:i,logout:o}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=n(11),u=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.config=function(){var t=this;this.app.getService("user").getUser();return{rows:[{view:"toolbar",elements:[{view:"icon",icon:"bars",click:function(){return $$("top:menu").toggle()}},{view:"label",label:"INFOCOM"},{},{view:"icon",icon:"envelope",width:45},{view:"icon",icon:"cog",width:45},{view:"button",type:"icon",icon:"sign-out",width:30,click:function(){return t.logout()}}]},{cols:[{view:"sidebar",id:"top:menu",select:!0,data:[{value:"Home",id:"home",icon:"home",page:"home"},{value:"Companies",id:"companies",icon:"building-o",page:"companies.companies"},{value:"Help",id:"help",icon:"support",page:"help"},{value:"About",id:"about",icon:"info-circle",page:"about"}]},{$subview:!0}]}]}},e.prototype.init=function(){var t=this;this.$$("top:menu").attachEvent("onItemClick",function(e){t.showPage(e)}),this.$$("top:menu").getPopupList().attachEvent("onItemClick",function(e){t.showPage(e)})},e.prototype.showPage=function(t){var e=this.$$("top:menu").getItem(t);e.page&&this.app.show("/top/"+e.page)},e.prototype.logout=function(){var t=this;Object(s.a)({ok:"Yes",cancel:"No",text:"You are about to logged out. Are you sure you want to proceed?"},function(){return t.app.show("/logout")})},e}(a.b);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22),i=(n.n(r),n(0)),o=n(18);webix.ready(function(){var t=new i.a({id:"infocom ui",version:1,start:"/top/home",debug:!0});t.use(i.c.User,{model:o.a}),t.use(i.c.Locale),t.render(),t.attachEvent("app:error:resolve",function(t,e){window.console.error(e)})})},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n(7),i=n(24),o=n(25),a=n(9),s=n(8),u=n(27),c=(n.n(u),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=t.call(this)||this;return n.webix=e.webix||webix,n.config=n.webix.extend({name:"App",version:"1.0",start:"/home"},e,!0),n._name=n.config.name,n._services={},webix.extend(n,webix.EventSystem),n}return p(e,t),e.prototype.getService=function(t){var e=this._services[t];return"function"==typeof e&&(e=this._services[t]=e(this)),e},e.prototype.setService=function(t,e){this._services[t]=e},e.prototype.copyConfig=function(t,e,n){if(t.$ui?t={$subview:new i.a(this,"",t)}:(t instanceof r.a||"function"==typeof t&&t.prototype instanceof r.a)&&(t={$subview:t}),t.$subview)return this.addSubView(t,e,n);e=e||(t instanceof Array?[]:{});for(var o in t){var a=t[o];"function"==typeof a&&a.prototype instanceof r.a&&(a={$subview:a}),!a||"object"!==(void 0===a?"undefined":c(a))||a instanceof webix.DataCollection||a instanceof RegExp?e[o]=a:a instanceof Date?e[o]=new Date(a):e[o]=this.copyConfig(a,a instanceof Array?[]:{},n)}return e},e.prototype.getRouter=function(){return this.$router},e.prototype.clickHandler=function(t){if(t){var e=t.target||t.srcElement;if(e&&e.getAttribute){var n=e.getAttribute("trigger");n&&this.trigger(n);var r=e.getAttribute("route");r&&this.show(r)}}},e.prototype.refresh=function(){var t=this._container;this._view.destructor(),this._view=this._container=null,this.render(t,Object(s.a)(this.getRouter().get()),this._parent)},e.prototype.loadView=function(t){var e=this,r=this.config.views,i=null;if(""===t)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{r&&"string"==typeof(i="function"==typeof r?r(t):r[t])&&(t=i,i=null),i||(t=t.replace(/\./g,"/"),i=n(28)("./"+t))}catch(e){i=this._loadError(t,e)}return i.then||(i=Promise.resolve(i)),i=i.then(function(t){return t.__esModule?t.default:t}).catch(function(n){return e._loadError(t,n)})},e.prototype.createFromURL=function(t,e){var n=this,r=t[0],i=r.page;return e&&e.getName()===i?Promise.resolve(e):this.loadView(r.page).then(function(t){return n.createView(t,i)})},e.prototype.createView=function(t,e){if("function"==typeof t){if(t.prototype instanceof r.a)return new t(this,e);t=t()}return t instanceof r.a?t:t.$ui?new i.a(this,e,t):new o.a(this,e,t)},e.prototype.show=function(t){return this.$router.get()!==t?this._render(t):Promise.resolve(!0)},e.prototype.canNavigate=function(t,e){var n={url:Object(s.a)(t),redirect:t,confirm:Promise.resolve(!0)};return this.callEvent("app:guard",[t,e||this._view,n])?n.confirm.catch(function(){return n.redirect=null}).then(function(){return n.redirect}):Promise.reject("")},e.prototype.destructor=function(){this._view.destructor()},e.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.apply(t,e)},e.prototype.apply=function(t,e){this.callEvent(t,e)},e.prototype.action=function(t){return this.webix.bind(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.apply(t,e)},this)},e.prototype.on=function(t,e){this.attachEvent(t,e)},e.prototype.use=function(t,e){t(this,null,e)},e.prototype.error=function(t,e){if(this.callEvent(t,e),this.callEvent("app:error",e),this.config.debug)for(var n=0;n<e.length;n++)if(console.error(e[n]),e[n]instanceof Error){var r=e[n].message;0===r.indexOf("Module build failed")?(r=r.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+r+"</pre>"):(r+="<br><br>Check console for more details",webix.message({type:"error",text:r,expire:-1}))}},e.prototype._render=function(t){var e=this;!this.$router&&(webix.attachEvent("onClick",function(t){return e.clickHandler(t)}),t=this._first_start(t));var n="string"==typeof t?t:Object(s.b)(t);return this.canNavigate(n).then(function(t){return null!==t?(e.$router.set(t,{silent:!0}),e._render_stage(t)):null})},e.prototype._render_stage=function(t){var e=this,n="string"==typeof t?Object(s.a)(t):t;return webix.ui.freeze(function(){return e.createFromURL(n,e._view).then(function(t){var r=e._view;return e._view=t,t.render(e._container,n,e._parent).then(function(i){return r&&r!==e._view&&r.destructor(),e._view.getRoot().getParentView()&&(e._container=i),e._root=i,e.callEvent("app:route",[n]),t})}).catch(function(t){e.error("app:error:render",[t])})})},e.prototype._urlChange=function(t){return alert("Not implemented"),Promise.resolve(!0)},e.prototype._first_start=function(t){var e=this,n=function(t){return setTimeout(function(){e._render(t)},1)};if(this.$router=new(this.config.router||a.a)(n,this.config),this._container===document.body&&!1!==this.config.animation){var r=this._container;webix.html.addCss(r,"webixappstart"),setTimeout(function(){webix.html.removeCss(r,"webixappstart"),webix.html.addCss(r,"webixapp")},10)}return t&&1!==t.length||(t=this.$router.get()||this.config.start,this.$router.set(t,{silent:!0})),t},e.prototype._loadError=function(t,e){return this.error("app:error:resolve",[e,t]),{template:" "}},e.prototype.addSubView=function(t,e,n){var i=!0!==t.$subview?t.$subview:null,o=t.name||(i?this.webix.uid():"default");e.id=t.id||"s"+this.webix.uid();var a=n[o]={id:e.id,url:i};return a.url instanceof r.a&&(a.view=a.url),e},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(2),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i._ui=r,i._windows=[],i}return i(e,t),e.prototype.getRoot=function(){if(this.app.config.jet1xMode){var t=this.getParentView();if(t)return t.getRoot()}return this._root},e.prototype.config=function(){return this._ui.$ui||this._ui},e.prototype.destructor=function(){var e=this._ui.$ondestroy;e&&e();for(var n=0,r=this._windows;n<r.length;n++){r[n].destructor()}t.prototype.destructor.call(this)},e.prototype.show=function(e,n){if(0===e.indexOf("/")||0===e.indexOf("./"))return t.prototype.show.call(this,e,n);t.prototype.show.call(this,"../"+e,n)},e.prototype.init=function(){this.app.config.legacyEarlyInit&&this._realInitHandler()},e.prototype.ready=function(){this.app.config.legacyEarlyInit||this._realInitHandler()},e.prototype._realInitHandler=function(){var t=this._ui.$oninit;if(t){var n=this.getRoot();t(n,n.$scope)}var r=this._ui.$onevent;if(r)for(var i in r)this.on(this.app,i,r[i]);var o=this._ui.$windows;if(o)for(var a=0,s=o;a<s.length;a++){var u=s[a];if(u.$ui){var c=new e(this.app,this.getName(),u);c.render(document.body),this._windows.push(c)}else this.ui(u)}},e.prototype._urlChange=function(e){var n=this;return t.prototype._urlChange.call(this,e).then(function(){var t=n._ui.$onurlchange;if(t){var r=n.getRoot();t(e[0].params,e.slice(1),r.$scope)}})},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(2),i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i._ui=r,i}return i(e,t),e.prototype.config=function(){return this._ui},e}(r.a)},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e){var n,i=[],o={},a=t.routie,s=function(t,e){this.name=e,this.path=t,this.keys=[],this.fns=[],this.params={},this.regex=u(this.path,this.keys,!1,!1)};s.prototype.addHandler=function(t){this.fns.push(t)},s.prototype.removeHandler=function(t){for(var e=0,n=this.fns.length;e<n;e++){if(t==this.fns[e])return void this.fns.splice(e,1)}},s.prototype.run=function(t){for(var e=0,n=this.fns.length;e<n;e++)if(!1===this.fns[e].apply(this,t))return!1;return!0},s.prototype.match=function(t,e){var n=this.regex.exec(t);if(!n)return!1;for(var r=1,i=n.length;r<i;++r){var o=this.keys[r-1],a="string"==typeof n[r]?decodeURIComponent(n[r]):n[r];o&&(this.params[o.name]=a),e.push(a)}return!0},s.prototype.toURL=function(t){var e=this.path;for(var n in t)e=e.replace("/:"+n,"/"+t[n]);if(e=e.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=e.indexOf(":"))throw new Error("missing parameters for url: "+e);return e};var u=function(t,e,n,r){return t instanceof RegExp?t:(t instanceof Array&&(t="("+t.join("|")+")"),t=t.concat(r?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,n,r,i,o,a){return e.push({name:i,optional:!!a}),n=n||"",(a?"":n)+"(?:"+(a?n:"")+(r||"")+(o||r&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+t+"$",n?"":"i"))},c=function(t,e){var n=t.split(" "),r=2==n.length?n[0]:null;t=2==n.length?n[1]:n[0],o[t]||(o[t]=new s(t,r),i.push(o[t])),o[t].addHandler(e)},p=function t(e,n){if("function"==typeof n)c(e,n),t.reload();else if("object"==(void 0===e?"undefined":r(e))){for(var i in e)c(i,e[i]);t.reload()}else void 0===n&&t.navigate(e)};p.lookup=function(t,e){for(var n=0,r=i.length;n<r;n++){var o=i[n];if(o.name==t)return o.toURL(e)}},p.remove=function(t,e){var n=o[t];n&&n.removeHandler(e)},p.removeAll=function(){o={},i=[],n=""},p.navigate=function(t,e){e=e||{};var n=e.silent||!1;n&&g(),setTimeout(function(){window.location.hash=t,n&&setTimeout(function(){d()},1)},1)},p.noConflict=function(){return t.routie=a,p};var f=function(){return window.location.hash.substring(1)},l=function(t,e){var n=[];return e.match(t,n)?!1!==e.run(n)?1:0:-1},h=p.reload=function(){for(var t=f(),e=0,r=i.length;e<r;e++){var o=i[e],a=l(t,o);if(1===a){n=t;break}if(0===a){p.navigate(n,{silent:!0});break}}},d=function(){t.addEventListener?t.addEventListener("hashchange",h,!1):t.attachEvent("onhashchange",h)},g=function(){t.removeEventListener?t.removeEventListener("hashchange",h):t.detachEvent("onhashchange",h)};if(d(),n=f(),e)return p;t.routie=p};t.exports=i(window,!0),t.exports.default=t.exports},function(t,e){var n=webix,r=webix.version.split(".");10*r[0]+1*r[1]<53&&(n.ui.freeze=function(t){var e=t();return e&&e.then?e.then(function(t){return n.ui.$freeze=!1,n.ui.resize(),t}):(n.ui.$freeze=!1,n.ui.resize()),e});var i=n.ui.baselayout.prototype.addView,o=n.ui.baselayout.prototype.removeView,a={addView:function(t,e){if(this.$scope&&this.$scope.webixJet){var n=this.$scope,r={};t=n.app.copyConfig(t,{},r),i.apply(this,[t,e]);for(var o in r)!function(t){n._renderFrame(t,r[t],n.getUrl()).then(function(){n._subs[t]=r[t]})}(o);return t.id}return i.apply(this,arguments)},removeView:function(){if(o.apply(this,arguments),this.$scope&&this.$scope.webixJet){var t=this.$scope._subs;for(var e in t)webix.$$(t[e].id)||delete t[e]}}};n.extend(n.ui.layout.prototype,a,!0),n.extend(n.ui.baselayout.prototype,a,!0),webix.protoUI({name:"jetapp",$init:function(t){this.$app=new this.app(t);var e=webix.uid().toString();t.body={id:e},this.$ready.push(function(){this.$app.render(webix.$$(e))})}},webix.ui.proxy)},function(t,e,n){function r(t){return n(i(t))}function i(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./about":10,"./about.js":10,"./baseDetailView":1,"./baseDetailView.js":1,"./baseMasterView":3,"./baseMasterView.js":3,"./companies/companies":12,"./companies/companies.js":12,"./companies/companyForm":5,"./companies/companyForm.js":5,"./companies/employeeForm":6,"./companies/employeeForm.js":6,"./crudToolbar":4,"./crudToolbar.js":4,"./help":15,"./help.js":15,"./home":16,"./home.js":16,"./login":17,"./login.js":17,"./top":19,"./top.js":19};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=28},function(t,e,n){"use strict";!function(){function t(t,e){this.name=e.storeName||e.id+":route",this.cb=t}t.prototype.set=function(t,e){var n=this;webix.storage.session.put(this.name,t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return webix.storage.session.get(this.name)}}()},function(t,e,n){"use strict";!function(){function t(t,e){var n=this;this.cb=t,window.onpopstate=function(){return n.cb(n.get())},this.prefix=e.routerPrefix||""}t.prototype.set=function(t,e){var n=this;this.get()!==t&&window.history.pushState(null,null,this.prefix+t),e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){var t=window.location.pathname.replace(this.prefix,"");return"/"!==t?t:""}}()},function(t,e,n){"use strict";!function(){function t(t,e){this.path="",this.cb=t}t.prototype.set=function(t,e){var n=this;this.path=t,e&&e.silent||setTimeout(function(){return n.cb(t)},1)},t.prototype.get=function(){return this.path}}()},function(t,e,n){"use strict";function r(t,e,n){e.on(t,"app:guard",function(t,r,i){if(r===e||r.contains(e)){var o=n();i.confirm=!1===o?Promise.reject(o):i.confirm.then(function(){return o})}})}e.a=r},function(t,e,n){"use strict";function r(t,e,r){r=r||{};var i=r.storage,a=i?i.get("lang")||"en":r.lang||"en",s={_:null,polyglot:null,getLang:function(){return a},setLang:function(e,u){var c=(r.path?r.path+"/":"")+e,p=n(35)("./"+c);p.__esModule&&(p=p.default);var f=s.polyglot=new o.a({phrases:p});f.locale(e),s._=webix.bind(f.t,f),a=e,i&&i.put("lang",a),u||t.refresh()}};t.setService("locale",s),s.setLang(a,!0)}e.a=r;var i=n(34),o=n.n(i)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function i(t,e,n){for(var i in t)r(t,i)&&e.call(n||t,t[i],i,t)}function o(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function a(t){t="Warning: "+t,"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(t){}}function s(t){var e={};return i(t,function(t,n){i(t,function(t){e[t]=n})}),e}function u(t){var e=s(w);return e[t]||e[y.call(t,/-/,1)[0]]||e.en}function c(t,e){return b[u(t)](e)}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(t){var e=t&&t.prefix||"%{",n=t&&t.suffix||"}";if(e===m||n===m)throw new RangeError('"'+m+'" token is reserved for pluralization');return new RegExp(p(e)+"(.*?)"+p(n),"g")}function l(t,e,n,i){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var a=t,s=i||j,u="number"==typeof e?{smart_count:e}:e;if(null!=u.smart_count&&a){var p=y.call(a,m);a=o(p[c(n||"en",u.smart_count)]||p[0])}return a=g.call(a,s,function(t,e){return r(u,e)&&null!=u[e]?g.call(u[e],_,x):t})}function h(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var n=e.allowMissing?l:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:n,this.warn=e.warn||a,this.tokenRegex=f(e.interpolation)}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=String.prototype.replace,y=String.prototype.split,m="||||",v=function(t){var e=t%10;return 11!==t&&1===e?0:2<=e&&e<=4&&!(t>=12&&t<=14)?1:2},b={arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:v,chinese:function(){return 0},croatian:v,french:function(t){return t>1?1:0},german:function(t){return 1!==t?1:0},russian:v,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},w={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]},_=/\$/g,x="$$",j=/%\{(.*?)\}/g;h.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},h.prototype.extend=function(t,e){i(t,function(t,n){var r=e?e+"."+n:n;"object"===(void 0===t?"undefined":d(t))?this.extend(t,r):this.phrases[r]=t},this)},h.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:i(t,function(t,n){var r=e?e+"."+n:n;"object"===(void 0===t?"undefined":d(t))?this.unset(t,r):delete this.phrases[r]},this)},h.prototype.clear=function(){this.phrases={}},h.prototype.replace=function(t){this.clear(),this.extend(t)},h.prototype.t=function(t,e){var n,r,i=null==e?{}:e;if("string"==typeof this.phrases[t])n=this.phrases[t];else if("string"==typeof i._)n=i._;else if(this.onMissingKey){var o=this.onMissingKey;r=o(t,i,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+t+'"'),r=t;return"string"==typeof n&&(r=l(n,i,this.currentLocale,this.tokenRegex)),r},h.prototype.has=function(t){return r(this.phrases,t)},h.transformPhrase=function(t,e,n){return l(t,e,n)},t.exports=h},function(t,e,n){function r(t){return n(i(t))}function i(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var o={"./en":20,"./en.js":20};r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=35},function(t,e,n){"use strict";function r(t,e,n){e.urls&&(n=e.urls[n]||n),t.show("./"+n)}function i(t,e,n){var i=e.$$(n.id||n),o=!1;i.attachEvent("onchange",function(){o||r(e,n,this.getValue())}),i.attachEvent("onafterselect",function(){if(!o){var t=null;i.setValue?t=this.getValue():i.getSelectedId&&(t=i.getSelectedId()),r(e,n,t)}}),e.on(t,"app:route",function(t){var n=t[e.getIndex()];if(n){o=!0;var r=n.page;i.setValue&&i.getValue()!==r?i.setValue(r):i.select&&i.exists(r)&&i.getSelectedId()!==r&&i.select(r),o=!1}})}e.a=i},function(t,e,n){"use strict";function r(t,e,n){function r(t){var r=e.$$(n.target);r&&(t||(t="<div class='status_"+h+"'><span class='webix_icon fa-"+v[h]+"'></span> "+m[h]+"</div>"),r.setHTML(t))}function a(){d--,f("good")}function s(t){d--,f("error",t)}function u(t){d++,f("saving"),t&&t.then&&t.then(a,s)}function c(){return h}function p(){0===d&&r(" ")}function f(e,n){d<0&&(d=0),"saving"===e?(h="saving",r()):(g="error"===e,0===d&&(h=g?"error":"good",g?t.error("app:error:server",[n.responseText||n]):y&&setTimeout(p,y),r()))}function l(t){var n=webix.dp(t);n&&(e.on(n,"onAfterDataSend",u),e.on(n,"onAfterSaveError",function(t,e,n){return s(n)}),e.on(n,"onAfterSave",a))}var h="good",d=0,g=!1,y=n.expire;y||!1===y||(y=2e3);var m=n.texts||o,v=n.icons||i;"string"==typeof n&&(n={target:n}),t.setService("status",{getStatus:c,setStatus:f,track:l}),n.remote&&e.on(webix,"onRemoteCall",u),n.ajax&&e.on(webix,"onBeforeAjax",function(t,e,n,r,i,o,a){u(a)}),n.data&&l(n.data)}e.a=r;var i={good:"check",error:"warning",saving:"refresh fa-spin"},o={good:"Ok",error:"Error",saving:"Connecting..."}},function(t,e,n){"use strict";function r(t,e,n){n=n||{};var r=n.storage,i=r?r.get("theme")||"flat-default":n.theme||"flat-default",o={getTheme:function(){return i},setTheme:function(e,n){for(var o=e.split("-"),a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s].getAttribute("title");u&&(u===e||u===o[0]?a[s].disabled=!1:a[s].disabled=!0)}webix.skin.set(o[0]),webix.html.removeCss(document.body,"theme-"+i),webix.html.addCss(document.body,"theme-"+e),i=e,r&&r.put("theme",e),n||t.refresh()}};t.setService("theme",o),o.setTheme(i,!0)}e.a=r},function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<n.length;r++)t.setParam(n[r],e[r+1]?e[r+1].page:"")}function i(t,e,n){var i=n.route||n;e.on(t,"app:urlchange",function(t,n){e===t&&(r(e,n,i),n.splice(1,i.length))}),e.on(t,"app:paramchange",function(t,n,r,o){if(e===t&&o)for(var a=0;a<i.length;a++)if(i[a]===n)return e.show([a,r]),!1}),r(e,e.getUrl(),i)}e.a=i},function(t,e,n){"use strict";function r(t,e,n){function r(t,e){t===o?(f.logout(),e.redirect=s):t===i||f.getStatus()||(e.redirect=i)}n=n||{};var i=n.login||"/login",o=n.logout||"/logout",a=n.afterLogin||t.config.start,s=n.afterLogout||"/login",u=n.ping||3e5,c=n.model,p=n.user,f={getUser:function(){return p},getStatus:function(t){return t?c.status().catch(function(){return null}).then(function(t){p=t}):null!==p},login:function(e,n){return c.login(e,n).then(function(e){if(p=e,!e)throw new Error("Access denied");t.callEvent("app:user:login",[p]),t.show(a)})},logout:function(){return p=null,c.logout().then(function(e){return t.callEvent("app:user:logout",[]),e})}};t.setService("user",f),t.attachEvent("app:guard",function(t,e,n){return void 0===p&&(n.confirm=f.getStatus(!0).then(function(){return r(t,n)})),r(t,n)}),u&&setInterval(function(){return f.getStatus(!0)},u)}e.a=r}]);