!function(e){function t(o){if(i[o])return i[o].exports;var r=i[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=123)}([function(e,t,i){"use strict";i.d(t,"c",function(){return d});var o=i(126);i.d(t,"a",function(){return o.a});var r=i(20);i.d(t,"b",function(){return r.a});var n=(i(87),i(137),i(138),i(139),i(140)),a=i(141),s=i(144),l=i(145),c=i(146),h=i(147),u=i(148),d={UnloadGuard:n.a,Locale:a.a,Menu:s.a,Theme:c.a,User:u.a,Status:l.a,UrlParam:h.a};window.Promise||(window.Promise=webix.promise)},function(e,t,i){"use strict";function o(e,t,i){return i?"<div class='webix_icon fa-check-square-o'></div>":"<div class='webix_icon fa-square-o'></div>"}function r(e,t,i){webix.html.addCss(webix.confirm({type:"confirm-warning",ok:e.ok||"Yes",cancel:e.cancel||"No",text:e.text,callback:function(e){e?t():i&&i()}}),"animated bounceIn")}function n(e){webix.message(e)}function a(e){webix.message({type:"error",text:e})}function s(e,t,i,o){var r,n,a=[];r=t>1?2:t,n=i-t>5-r?4-r:i-t-1;var s={view:"button",label:"<<",width:60,height:35,on:{onItemClick:function(){e.pagerFunction(0)}}};a.push(s);var l={view:"button",label:"<",width:60,height:35,on:{onItemClick:function(){e.pagerFunction(t-1)}}};a.push(l);for(var c=0;c<r;c++){var h;!function(){var i=t-r+c+1;h={view:"button",label:i,width:60,height:35,on:{onItemClick:function(){e.pagerFunction(i-1)}}},a.push(h)}()}var u={view:"button",type:"form",label:t+1,width:60,height:35,on:{onItemClick:function(){e.pagerFunction(t)}}};a.push(u);for(var c=0;c<n;c++){var h;!function(){var i=t+c+2;h={view:"button",label:i,width:60,height:35,on:{onItemClick:function(){e.pagerFunction(i-1)}}},a.push(h)}()}var d=t+1;d>=i&&(d=i-1);var p={view:"button",label:">",width:60,height:35,on:{onItemClick:function(){e.pagerFunction(d)}}};a.push(p);var f={view:"button",label:">>",width:60,height:35,on:{onItemClick:function(){e.pagerFunction(i-1)}}};a.push(f),webix.ui({id:o,cols:a},e.$$(o))}function l(e){function t(t){if(!((new Date).getTime()-e.lt<10)){e.lt=(new Date).getTime();var i=$$("calc-val"),o=t.substr(8,1),r=i.getValue();if(t.startsWith("calc-but"))switch(o){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":r&&"0"!=r?i.setValue(r+o):i.setValue(o);break;case"d":-1==r.indexOf(".")&&i.setValue(r+".");break;case"c":return void $$("calc-win").close();case"b":r.length>1?i.setValue(r.substr(0,r.length-1)):i.setValue("0");break;case"e":e.callback&&e.callback(1*r),$$("calc-win").close();break;case"-":r.startsWith("-")?i.setValue(r.substr(1)):i.setValue("-"+r)}}}if($$("calc-win"))return void $$("calc-win").close();e=e||{},e.lt=(new Date).getTime();var i={rows:[{cols:[{rows:[{view:"text",readonly:!0,value:e.initialValue||"0",id:"calc-val",width:217,height:48},{padding:5,margin:5,cols:[{view:"button",label:"7",id:"calc-but7",width:65,height:55,click:t},{view:"button",label:"8",id:"calc-but8",width:65,height:55,click:t},{view:"button",label:"9",id:"calc-but9",width:65,height:55,click:t}]},{padding:5,margin:5,borderless:!1,cols:[{view:"button",label:"4",id:"calc-but4",width:65,height:55,click:t},{view:"button",label:"5",id:"calc-but5",width:65,height:55,click:t},{view:"button",label:"6",id:"calc-but6",width:65,height:55,click:t}]},{padding:5,margin:5,cols:[{view:"button",label:"1",id:"calc-but1",width:65,height:55,click:t},{view:"button",label:"2",id:"calc-but2",width:65,height:55,click:t},{view:"button",label:"3",id:"calc-but3",width:65,height:55,click:t}]},{padding:5,margin:5,cols:[{view:"button",label:"0",id:"calc-but0",width:65,height:55,click:t},!1===e.hasDecimal?{}:{view:"button",label:".",id:"calc-butd",width:65,height:55,click:t},!1===e.hasNegative?{}:{view:"button",label:"-",id:"calc-but-",width:65,height:55,click:t}]}]},{width:70,rows:[{padding:5,width:68,height:48,cols:[{view:"button",id:"calc-butb",click:t,type:"htmlbutton",label:'<span class="webix_icon fa-angle-left"></span>',width:60}]},{padding:5,margin:5,width:68,height:131,cols:[{view:"button",id:"calc-butc",click:t,label:"C",width:60}]},{padding:5,margin:5,width:68,height:131,cols:[{view:"button",id:"calc-bute",click:t,type:"form",label:"OK",width:60}]}]}]}]};webix.ui({view:"window",modal:!0,id:"calc-win",head:{view:"toolbar",cols:[{view:"label",label:e.msg||"Yeni deger giriniz"},{view:"icon",icon:"times",click:function(){$$("calc-win").close()}}]},position:"center",body:i}).show()}function c(e,t,i){for(var o={view:"window",move:!0,resize:!0,width:500,height:700,head:!1,position:"center",id:"summaryPopup",body:{view:"form",elementsConfig:{labelWidth:100},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:i},{},{view:"icon",icon:"window-close",click:function(){webix.$$("summaryPopup").close()}}]},{view:"form",scroll:!0,elements:[{rows:[]}]}]}]}},r=Object.keys(e),n=Object.keys(t),a=0;a<r.length;a++)for(var s=0;s<n.length;s++)if(r[a]==n[s]){var l={view:"text",value:e[r[a]],label:t[n[s]].header[0].text,readonly:!0};o.body.elements[0].rows[1].elements[0].rows.push(l);break}webix.ui(o).show()}t.b=o,t.a=r,t.d=n,t.h=a,t.f=s,t.e=l,t.g=c,i.d(t,"c",function(){return h});var h="AIzaSyC4n8lEdIIep_8Gmgfd4rW3p-qI4QfeTck"},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"BaseDetailView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._,this.formConfig=this.getFormConfig(),this.position=this.formConfig.position||function(e){e.width=this.$scope.formConfig.width||400,e.left=e.maxWidth-e.width,e.top=0,e.height=e.maxHeight};var t={rows:[this.formConfig,{localId:"formButtons"}]};return this.formConfig.withoutButtons&&(t=this.formConfig),{view:"popup",padding:0,position:this.position,body:t,on:{onHide:function(){e.getForm().clearValidation()}}}},t.prototype.getForm=function(){return this.$$(this.formConfig.localId)},t.prototype.bindTo=function(e){e.id?this.updateButtons(2):this.updateButtons(1),this.getForm().setValues(e)},t.prototype.show=function(){this.getRoot().show()},t.prototype.hide=function(){this.getRoot().hide()},t.prototype.validate=function(){return!!this.getForm().validate()||(webix.message({type:"error",text:this._("Form data is invalid")}),!1)},t.prototype.save=function(e){this.validate()&&(this.formConfig.isDetail?this.getParentView().saveDetail(this.getForm().getValues(),e):this.getParentView().save(this.getForm().getValues(),e))},t.prototype.updateButtons=function(e){var t=this;if(1==e){var i={localId:"formButtons",padding:15,cols:[{view:"button",width:150,align:"left",label:this._("Save & Continue"),click:function(){return t.save("CONTINUE")}},{},{view:"button",type:"form",width:125,align:"right",label:this._("Save"),click:function(){return t.save()}}]};webix.ui(i,this.$$("formButtons"))}else{var i={localId:"formButtons",padding:15,rows:[{view:"button",type:"form",width:125,align:"right",label:this._("Save"),click:function(){return t.save()}}]};webix.ui(i,this.$$("formButtons"))}},t}(a.b)},function(e,t,i){"use strict";function o(){return Object(c.c)("/projects")}function r(e){return Object(c.d)("/projects",e)}function n(e){return Object(c.e)("/projects/"+e.id,e)}function a(e){return Object(c.b)("/projects/"+e.id)}function s(e){return Object(c.d)("/projects/wizard/generate",e)}function l(e){window.open(c.a+"/projects/export/"+e)}i.d(t,"a",function(){return h}),t.e=o,t.b=r,t.g=n,t.f=a,t.d=s,t.c=l;var c=i(5),h=Array.from(Array(32).keys()).slice(1)},function(e,t,i){"use strict";function o(e){var t=[];if(t.push({view:"label",label:e.title||""}),null!=e.extra)for(var i=0;i<e.extra.length;i++)t.push(e.extra[i]);return t.push({view:"icon",icon:"plus",click:e.add,hidden:!e.add}),t.push({view:"icon",icon:"pencil",click:e.edit,hidden:!e.edit}),t.push({view:"icon",icon:"minus",click:e.remove,hidden:!e.remove}),{view:"toolbar",cols:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.CrudToolbar=o;i(0)},function(e,t,i){"use strict";function o(e){return webix.ajax().headers(l).get(s+e)}function r(e,t){return webix.ajax().headers(l).post(s+e,JSON.stringify(t))}function n(e,t){return webix.ajax().headers(l).put(s+e,JSON.stringify(t))}function a(e){return webix.ajax().headers(l).del(s+e)}i.d(t,"a",function(){return s}),t.c=o,t.d=r,t.e=n,t.b=a;var s="http://192.168.2.154:8081/api",l={"Content-Type":"application/json"}},function(e,t,i){"use strict";function o(){return Object(w.c)("/variables")}function r(e){return Object(w.c)("/variables?projectId="+e)}function n(e){return Object(w.c)("/variables?frameId="+e)}function a(e){return Object(w.d)("/variables",e)}function s(e){return Object(w.e)("/variables/"+e.id,e)}function l(e){return Object(w.b)("/variables/"+e.id)}function c(e){for(var t="",i=0;i<e.length;i++)t=t+"variableIds[]="+e[i]+"&";return Object(w.c)("/variables/values?"+t)}function h(e){return Object(w.c)("/variables/values?projectId="+e)}function u(e){return Object(w.c)("/variables/values?frameId="+e)}function d(e){return Object(w.c)("/variables/"+e+"/values")}function p(e,t,i,o){for(var r="",n=0;n<e.length;n++)r=r+"variableIds[]="+e[n].id+"&";return r+="startDate="+t+"&endDate="+i+"&interval="+o,Object(w.c)("/variables/loggedValues?"+r)}function f(e,t,i){for(var o="&",r=0;r<t.length;r++)o=o+"names[]="+t[r]+"&";return null!=i&&"undefined"!=i&&(o=o+"index="+i),Object(w.c)("/variables/loggedValues/"+e+"/previous?"+o)}function m(e,t,i,o){for(var r="?",n=0;n<e.length;n++)r=r+"variableIds[]="+e[n].id+"&";for(var a in o)o.hasOwnProperty(a)&&(r+=a+"="+o[a]+"&");return r+="startDate="+t+"&endDate="+i,Object(w.c)("/variables/loggedValues"+r)}function g(e,t,i,o){for(var r="?",n=0;n<e.length;n++)r=r+"variableIds[]="+e[n].id+"&";for(var a in o)o.hasOwnProperty(a)&&(r+=a+"="+o[a]+"&");return r+="startDate="+t+"&endDate="+i,Object(w.c)("/variables/loggedValues/pagedHourly"+r)}function v(e,t,i){var o={value:t};if(i)for(var r in i)o[r]=i[r];return Object(w.d)("/variables/"+e+"/value",o)}function b(e,t,i){return Object(w.d)("/variables/value?projectId="+e+"&name="+t,i)}i.d(t,"d",function(){return y}),i.d(t,"b",function(){return C}),i.d(t,"e",function(){return x}),i.d(t,"a",function(){return S}),i.d(t,"c",function(){return P}),t.o=o,t.q=r,t.p=n,t.f=a,t.u=s,t.r=l,t.l=c,t.n=h,t.m=u,t.k=d,t.g=p,t.j=f,t.i=m,t.h=g,t.s=v,t.t=b;var w=i(5),y=["Float","Integer","Byte","Boolean","Short","Double"],C=["No Log","When Changed","Periodically","Threshold","Expression","Custom"],x=["m3","Cal","Kcal","Mcal","Adet/Piece","Set","litre (L)","cl","ml","cc","%","% mole","Sm3","kg/Sm3","Kcal/Sm3","USM  Mcal","USM Sm3","m3/h","kg/h","kcal/h","sm3/h","HF1","HF2","barrel/varil","gallon","joule","Btu","Kg","g","Ton","therm","KVA","KW","KVAR","MVA","MW","MVAR","A","V","Watt","KW/h","MW/h","ohm","Ah","Hz","m","km","cm","mm","m/s","km/h","RPM","Angle","Angle/s","m2","km2","cm2","mm/s","kg/m3","Vol","Second","Minute","Hour","Day","Week","Month","Year","Pascal","ATM","Bar(a)","Bar(g)","Bar","mBar","Box","°C ","°F","K","stroke","stroke/s","cc/s","cc/stroke","psi"],S=["NONE","CUSTOM","EXPRESSION"],P=["Class0","Class1","Class2","Class3"]},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"BaseMasterView",function(){return c});var a=i(0),s=i(4),l=i(1),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;return this._=this.app.getService("locale")._,this.customCheckbox=l.b,this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure you want to continue?")},this.getData().then(function(t){e.data=t,e.gridConfig=e.getGridConfig();var i={rows:[e.createGridToolbar(e.gridConfig),e.gridConfig]};return e.getDetailGridConfig&&(e.detailGridConfig=e.getDetailGridConfig(),i.rows.push({view:"resizer"}),i.rows.push({rows:[e.createDetailGridToolbar(e.detailGridConfig),e.detailGridConfig]}),i.rows[1].on=i.rows[1].on||{},null==i.rows[1].on.onSelectChange&&(i.rows[1].on.onSelectChange=function(){var t=e.getSelected();if(t){var i=e.getDetailGrid();i.clearAll(),e.detailGridConfig.load&&e.detailGridConfig.load(t).then(function(e){i.parse(e.json());var t=i.getFirstId();t&&i.select(t)})}})),i})},t.prototype.createGridToolbar=function(){var e=this;return Object(s.CrudToolbar)({title:this._(this.gridConfig.title),add:function(){return e.add()},edit:function(){return e.update()},remove:function(){return e.remove()},extra:this.gridConfig.extra||[]})},t.prototype.createDetailGridToolbar=function(){var e=this;return Object(s.CrudToolbar)({title:this._(this.detailGridConfig.title),add:function(){return e.addDetail()},edit:function(){return e.updateDetail()},remove:function(){return e.removeDetail()},extra:this.detailGridConfig.extra||[]})},t.prototype.getItemOptions=function(){return this.data.map(function(e){return{id:e.id,value:e.name}})},t.prototype.init=function(){this.getGrid().parse(this.data)},t.prototype.ready=function(){var e=this.gridConfig.localId||this.gridConfig.gridId,t=webix.storage.local.get(e);if(t&&this.$$(e).setState(t),this.detailGridConfig){var i=this.detailGridConfig.localId||this.detailGridConfig.gridId,o=webix.storage.local.get(i);o&&this.$$(i).setState(o)}},t.prototype.destroy=function(){var e=this.gridConfig.localId||this.gridConfig.gridId;if(webix.storage.local.put(e,this.getGrid().getState()),this.detailGridConfig){var t=this.detailGridConfig.localId||this.detailGridConfig.gridId;webix.storage.local.put(t,this.getDetailGrid().getState())}},t.prototype.getGrid=function(){return this.$$(this.gridConfig.localId||this.gridConfig.gridId)},t.prototype.getDetailGrid=function(){return this.$$(this.detailGridConfig.localId||this.detailGridConfig.gridId)},t.prototype.getSelected=function(){var e=this.getGrid(),t=e.getSelectedId();return t?e.getItem(t):null},t.prototype.getSelectedDetail=function(){var e=this.getDetailGrid(),t=e.getSelectedId();return t?e.getItem(t):null},t.prototype.showPopup=function(e){var t=this.getPopup();t.bindTo(e),t.show()},t.prototype.showDetailPopup=function(e,t){var i=this.getDetailPopup();i.bindTo(e,t),i.show()},t.prototype.hidePopup=function(){this.getPopup().hide()},t.prototype.hideDetailPopup=function(){this.getDetailPopup().hide()},t.prototype.add=function(){this.showPopup({})},t.prototype.addDetail=function(){this.getSelected()?this.showDetailPopup(this.getSelected(),{}):Object(l.h)(this._("Please select a master record first"))},t.prototype.update=function(){var e=this.getSelected();e&&this.showPopup(e)},t.prototype.updateDetail=function(){var e=this.getSelectedDetail();e&&this.showDetailPopup(this.getSelected(),e)},t.prototype.remove=function(){var e=this,t=this.getSelected();t&&Object(l.a)(this.confirmOptions,function(){return e.removeItem(t).then(function(){e.getGrid().remove(t.id),e.data.splice(e.data.findIndex(function(e){return e.id==t.id}),1);var i=e.getDetailGrid();i&&i.clearAll(),Object(l.d)(e._("Item removed"))})})},t.prototype.removeDetail=function(){var e=this,t=this.getSelected(),i=this.getSelectedDetail();i&&Object(l.a)(this.confirmOptions,function(){return e.removeItemDetail(t,i).then(function(){e.getDetailGrid().remove(i.id),Object(l.d)(e._("Item detail removed"))})})},t.prototype.save=function(e,t){var i=this;e.id?Object(l.a)(this.confirmOptions,function(){return i.updateItem(e).then(function(){i.getGrid().updateItem(e.id,e),i.data[i.data.findIndex(function(t){return t.id==e.id})]=e,Object(l.d)(i._("Item updated")),i.hidePopup()})}):Object(l.a)(this.confirmOptions,function(){return i.addItem(e).then(function(e){var o=e.json(),r=i.getGrid(),n=r.add(o);i.data.push(o),r.select(n),r.showItem(n),Object(l.d)(i._("A new item added")),t||i.hidePopup()})})},t.prototype.saveDetail=function(e,t){var i=this,o=this.getSelected();e.id?Object(l.a)(this.confirmOptions,function(){return i.updateItemDetail(o,e).then(function(){i.getDetailGrid().updateItem(e.id,e),Object(l.d)(i._("Item detail updated")),i.hideDetailPopup()})}):Object(l.a)(this.confirmOptions,function(){return i.addItemDetail(o,e).then(function(e){var o=e.json(),r=i.getDetailGrid(),n=r.add(o);r.select(n),r.showItem(n),Object(l.d)(i._("A new item detail added")),t||i.hideDetailPopup()})})},t}(a.b)},function(e,t,i){"use strict";function o(){return Object(d.c)("/connections/devices")}function r(e){return Object(d.c)("/connections/"+e+"/devices")}function n(e){return Object(d.d)("/connections/"+e.connectionId+"/devices",e)}function a(e){return Object(d.e)("/connections/"+e.connectionId+"/devices/"+e.id,e)}function s(e){return Object(d.b)("/connections/"+e.connectionId+"/devices/"+e.id)}function l(e,t){return Object(d.c)("/connections/"+e+"/devices/"+t+"/frames")}function c(e,t){return Object(d.d)("/connections/"+e.connectionId+"/devices/"+e.id+"/frames",t)}function h(e,t){return Object(d.e)("/connections/"+e.connectionId+"/devices/"+e.id+"/frames/"+t.id,t)}function u(e,t){return Object(d.b)("/connections/"+e.connectionId+"/devices/"+e.id+"/frames/"+t.id)}i.d(t,"d",function(){return p}),i.d(t,"b",function(){return f}),i.d(t,"c",function(){return m}),i.d(t,"a",function(){return g}),t.g=o,t.h=r,t.e=n,t.l=a,t.j=s,t.i=l,t.f=c,t.m=h,t.k=u;var d=i(5),p=["Modbus TCP","Modbus UDP","Modbus RTU Over TCP","Modbus TCP Slave","Modbus UDP Slave","Modbus RTU Over TCP Slave","DNP3","DNP3 Slave"],f=["Coil","Discrete Input","Holding Register","Input Register"],m=["Frozen Counter","Binary Input","Double Input","Binary Output","Counter","Analog Input","Analog Output"],g=["Class0","Class1","Class2","Class3"]},function(e,t,i){"use strict";function o(){return Object(u.c)("/connections")}function r(e){return Object(u.c)("/connections?projectId="+e)}function n(e){return Object(u.d)("/connections",e)}function a(e){return Object(u.e)("/connections/"+e.id,e)}function s(e){return Object(u.b)("/connections/"+e.id)}function l(e){for(var t="",i=0;i<e.length;i++)t=t+"connectionIds[]="+e[i].id+"&";return Object(u.c)("/connections/statuses?"+t)}function c(e){return Object(u.d)("/connections/"+e+"/start")}function h(e){return Object(u.d)("/connections/"+e+"/stop")}t.c=o,t.d=r,t.a=n,t.h=a,t.e=s,t.b=l,t.f=c,t.g=h;var u=i(5)},function(e,t,i){"use strict";function o(){return Object(p.c)("/animations")}function r(e){return Object(p.c)("/animations?projectId="+e)}function n(e){return Object(p.d)("/animations",e)}function a(e){return Object(p.e)("/animations/"+e.id,e)}function s(e){return Object(p.b)("/animations/"+e)}function l(e){return Object(p.c)("/animations/"+e+"/elements")}function c(e){return Object(p.d)("/animations/"+e.animationId+"/elements",e)}function h(e){return Object(p.e)("/animations/"+e.animationId+"/elements/"+e.id,e)}function u(e,t){return Object(p.b)("/animations/"+e+"/elements/"+t)}function d(e){return Object(p.d)("/animations/"+e+"/elements/eval")}i.d(t,"c",function(){return f}),t.f=o,t.g=r,t.a=n,t.j=a,t.h=s,t.e=l,t.b=c,t.k=h,t.i=u,t.d=d;var p=i(5),f=["Bar","Color","Get","Opacity","Rotate","Open","Script","Set","Tooltip","QRCodeGeneration","QRCodeScan"]},function(e,t,i){"use strict";function o(){return Object(g.c)("/alarms")}function r(e){return Object(g.c)("/alarms?projectId="+e)}function n(e){return Object(g.d)("/alarms",e)}function a(e){return Object(g.e)("/alarms/"+e.id,e)}function s(e){return Object(g.b)("/alarms/"+e.id)}function l(e){var t="?";for(var i in e)e.hasOwnProperty(i)&&(t+=i+"="+e[i]+"&");return Object(g.c)("/alarms/fired-alarms"+t)}function c(e){return Object(g.c)("/alarms/monitor?projectId="+e)}function h(e){return Object(g.d)("/alarms/fired-alarms/"+e+"/acknowledge")}function u(e){for(var t="",i=0;i<e.length;i++)t=t+"alarmIds[]="+e[i].id+"&";return Object(g.c)("/alarms/statuses?"+t)}function d(e){return Object(g.d)("/alarms/"+e+"/activate")}function p(e){return Object(g.d)("/alarms/"+e+"/deactivate")}function f(e){return Object(g.c)("/alarms/settings?projectId="+e)}function m(e,t){return Object(g.e)("/alarms/settings?projectId="+e,t)}i.d(t,"a",function(){return v}),t.h=o,t.i=r,t.d=n,t.n=a,t.l=s,t.j=l,t.k=c,t.b=h,t.g=u,t.c=d,t.e=p,t.f=f,t.m=m;var g=i(5),v=["On","Off"]},function(e,t,i){"use strict";function o(e){return Object(p.c)("/scripts")}function r(e){return Object(p.c)("/scripts?projectId="+e)}function n(e){return Object(p.d)("/scripts",e)}function a(e){return Object(p.e)("/scripts/"+e.id,e)}function s(e){return Object(p.b)("/scripts/"+e.id)}function l(e){for(var t="",i=0;i<e.length;i++)t=t+"scriptIds[]="+e[i].id+"&";return Object(p.c)("/scripts/statuses?"+t)}function c(e){return Object(p.d)("/scripts/"+e+"/schedule")}function h(e){return Object(p.d)("/scripts/"+e+"/cancel")}function u(e){return Object(p.d)("/scripts/"+e+"/run")}function d(e){return Object(p.d)("/scripts/runner",e)}t.d=o,t.e=r,t.a=n,t.j=a,t.f=s,t.c=l,t.i=c,t.b=h,t.h=u,t.g=d;var p=i(5)},function(e,t,i){"use strict";function o(){return Object(b.c)("/templates/devices")}function r(e){return Object(b.d)("/templates/devices",e)}function n(e){return Object(b.e)("/templates/devices/"+e.id,e)}function a(e){return Object(b.b)("/templates/devices/"+e.id)}function s(e){return Object(b.c)("/templates/devices/"+e+"/frames")}function l(e){return Object(b.d)("/templates/devices/"+e.deviceId+"/frames",e)}function c(e){return Object(b.e)("/templates/devices/"+e.deviceId+"/frames/"+e.id,e)}function h(e){return Object(b.b)("/templates/devices/"+e.deviceId+"/frames/"+e.id)}function u(e){return Object(b.c)("/templates/devices/"+e.deviceId+"/frames/"+e.id+"/variables")}function d(e,t){return Object(b.d)("/templates/devices/"+e.deviceId+"/frames/"+e.id+"/variables",t)}function p(e,t){return Object(b.e)("/templates/devices/"+e.deviceId+"/frames/"+e.id+"/variables/"+t.id,t)}function f(e,t){return Object(b.b)("/templates/devices/"+e.deviceId+"/frames/"+e.id+"/variables/"+t.id)}function m(e){window.open(b.a+"/templates/devices/"+e+"/export")}function g(){return b.a+"/templates/devices/import"}function v(e,t,i){return Object(b.d)("/templates/"+e+"/devices/"+t+"/import",i)}i.d(t,"e",function(){return w}),i.d(t,"c",function(){return y}),i.d(t,"d",function(){return C}),i.d(t,"b",function(){return x}),i.d(t,"a",function(){return S}),i.d(t,"g",function(){return P}),i.d(t,"f",function(){return T}),i.d(t,"h",function(){return O}),t.m=o,t.i=r,t.u=n,t.r=a,t.n=s,t.j=l,t.v=c,t.s=h,t.o=u,t.k=d,t.w=p,t.t=f,t.l=m,t.p=g,t.q=v;var b=i(5),w=["Modbus TCP","Modbus UDP","Modbus RTU Over TCP","Modbus TCP Slave","Modbus UDP Slave","Modbus RTU Over TCP Slave","DNP3","DNP3 Slave"],y=["Coil","Discrete Input","Holding Register","Input Register"],C=["Frozen Counter","Binary Input","Double Input","Binary Output","Counter","Analog Input","Analog Output"],x=["Class0","Class1","Class2","Class3"],S=["FLOWCOMPUTER","ANALYZER","RTU/PLC"],P=["TURBINE","ULTRASONIC","ORIFICE","CALCULATION"],T=["NOTUSED","C6PLUS","C7PLUS","C8PLUS","C9PLUS","C10PLUS"],O=["32BIT","INTEGER","FLOAT"]},function(e,t,i){"use strict";function o(){return Object(S.c)("/reports")}function r(e){return Object(S.d)("/reports",e)}function n(e){return Object(S.e)("/reports/"+e.id,e)}function a(e){return Object(S.b)("/reports/"+e)}function s(e){return Object(S.c)("/reports/"+e+"/groups")}function l(e){return Object(S.d)("/reports/"+e.reportId+"/groups",e)}function c(e){return Object(S.e)("/reports/"+e.reportId+"/groups/"+e.id,e)}function h(e){return Object(S.b)("/reports/"+e.reportId+"/groups/"+e.id)}function u(e,t){return Object(S.c)("/reports/"+e+"/groups/"+t+"/subgroups")}function d(e,t){return Object(S.d)("/reports/"+e+"/groups/"+t.groupId+"/subgroups",t)}function p(e,t){return Object(S.e)("/reports/"+e+"/groups/"+t.groupId+"/subgroups/"+t.id,t)}function f(e,t){return Object(S.b)("/reports/"+e+"/groups/"+t.groupId+"/subgroups/"+t.id)}function m(e,t,i){return Object(S.c)("/reports/"+e+"/groups/"+t+"/subgroups/"+i+"/variables")}function g(e,t,i){return Object(S.d)("/reports/"+e+"/groups/"+t+"/subgroups/"+i.subgroupId+"/variables",i)}function v(e,t,i){return Object(S.e)("/reports/"+e+"/groups/"+t+"/subgroups/"+i.subgroupId+"/variables/"+i.id,i)}function b(e,t,i){return Object(S.b)("/reports/"+e+"/groups/"+t+"/subgroups/"+i.subgroupId+"/variables/"+i.id)}function w(e,t,i){return Object(S.d)("/reports/"+e+"/print?startDate="+t+"&endDate="+i)}function y(e){return Object(S.c)("/reports/"+e+"/status")}function C(e){return Object(S.d)("/reports/"+e+"/schedule")}function x(e){return Object(S.d)("/reports/"+e+"/cancel")}i.d(t,"g",function(){return P}),i.d(t,"m",function(){return T}),i.d(t,"e",function(){return O}),t.l=o,t.a=r,t.t=n,t.o=a,t.h=s,t.b=l,t.u=c,t.p=h,t.j=u,t.c=d,t.v=p,t.q=f,t.k=m,t.d=g,t.w=v,t.r=b,t.n=w,t.i=y,t.s=C,t.f=x;var S=i(5),P=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],T=["Hourly","Daily"],O=["Min","Max","Avg","Sum","Count","First Value","Last Value"]},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"AnimationElementView",function(){return c});var a=i(0),s=(i(9),i(8),i(12)),l=i(1),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.element={},{view:"popup",padding:0,position:function(e){e.width=800,e.left=e.maxWidth-e.width,e.top=0,e.height=e.maxHeight},resize:!0,body:{localId:"animationElementForm",view:"form",elementsConfig:{labelWidth:120},elements:[{view:"toolbar",cols:[{view:"label",label:t("Animation Element")},{},{view:"icon",icon:"window-close",click:function(){return e.hideWindow()}}]},{rows:[{height:20},{margin:20,cols:[{rows:[{id:"id",hidden:!0},{view:"combo",label:t("Animation"),name:"animationId",localId:"animationCombo",readonly:!0,required:!0},{view:"text",label:t("Description"),name:"dsc"},{view:"combo",label:t("Animation Type"),name:"type",localId:"animationTypeCombo",required:!0,on:{onChange:function(t){e.updateForm(t)}}},{view:"text",label:t("Dom Id"),name:"domId",required:!0,readonly:!0},{view:"checkbox",label:t("Status"),name:"status"}]},{localId:"additionals"}]},{height:20},{template:this._("Expression"),type:"section"},{view:"textarea",localId:"element-expression",label:t("Expression"),labelPosition:"top",name:"expression",hidden:!0},{localId:"element-editor",view:"ace-editor",theme:"monokai-light"},{height:30},{cols:[{localId:"deleteButton"},{},{view:"button",type:"form",label:t("Save"),click:function(){if(e.validate()){e.$$("element-expression").setValue(e.$$("element-editor").getValue());var t=e.$$("animationElementForm").getValues(),t=e.generateProps(t),i={name:t.name,projectId:t.animationId,code:"function f(){"+t.expression+"}; f();",log:!0};Object(s.g)(i).then(function(i){e.getParentView().saveElement(t)}).catch(function(e){var t=JSON.parse(e.responseText);Object(l.h)(t.message)})}}}]}]}]}}},t.prototype.validate=function(){return!!this.$$("animationElementForm").validate()||(webix.message({type:"error",text:this._("Form data is invalid")}),!1)},t.prototype.bindTo=function(e,t){var i=this,o={localId:"deleteButton"};null!=t.id&&(t=this.setProps(t),this.element=t,o={localId:"deleteButton",view:"button",type:"danger",label:"Delete",click:function(){i.getParentView().removeElement(i.element.id),i.hideWindow()}}),webix.ui(o,this.$$("deleteButton")),this.$$("element-editor").setValue(t.expression),this.$$("animationElementForm").setValues(t);var r=this.$$("animationCombo");r.define("options",e),r.refresh()},t.prototype.showWindow=function(){this.getRoot().show()},t.prototype.hideWindow=function(){this.getRoot().hide()},t.prototype.init=function(){var e=this.$$("animationTypeCombo");e.define("options",this.getParentView().getAnimationTypeOptions()),e.refresh()},t.prototype.updateForm=function(e){var t={localId:"additionals",rows:[]};if(e){var i={view:"text",label:this._("Min"),name:"min",type:"number",required:!0,value:this.element.min},o={view:"text",label:this._("Max"),name:"max",type:"number",required:!0,value:this.element.max};if("Opacity"==e||"Rotate"==e)t.rows.push(i),t.rows.push(o);else if("Bar"==e){t.rows.push(i),t.rows.push(o);var r={view:"combo",label:this._("Orientation"),name:"orientation",options:["horizontal","vertical"],required:!0,value:this.element.orientation};t.rows.push(r)}else if("Set"==e){var n={view:"combo",label:this._("Set Type"),name:"setType",options:["AUTO","MANUAL","YES/NO"],required:!0,value:this.element.setType},a={view:"text",label:this._("Title"),name:"title",required:!0,value:this.element.title},s={view:"text",label:this._("Message"),name:"message",required:!0,value:this.element.message};t.rows.push(n),t.rows.push(a),t.rows.push(s);var l={view:"combo",label:this._("Variable"),name:"variableId",id:"element-variable",options:this.getParentView().getVariableOptions(),required:!0,value:this.element.variableId};t.rows.push(l)}else if("Tooltip"==e){var c,a={view:"text",label:this._("Title"),name:"title",required:!0,value:this.element.title},h={view:"text",label:this._("Size"),name:"size",type:"number",required:!0,value:this.element.size},u=(c={view:"colorpicker",label:this._("Color"),name:"color",value:"#00DDDC",required:!0},c.value=this.element.color,c);t.rows.push(a),t.rows.push(h),t.rows.push(u)}}webix.ui(t,this.$$("additionals"))},t.prototype.setProps=function(e){if(e.props&&"undefined"!=e.props){var t=JSON.parse(e.props);e.type&&("Opacity"==e.type||"Rotate"==e.type?(e.min=t.min,e.max=t.max):"Bar"==e.type?(e.min=t.min,e.max=t.max,e.orientation=t.orientation):"Set"==e.type?(e.setType=t.setType,e.variableId=t.variableId,e.title=t.title,e.message=t.message):"Tooltip"==e.type&&(e.size=t.size,e.title=t.title,e.color=t.color))}return e},t.prototype.generateProps=function(e){var t={};return e.type&&("Opacity"==e.type||"Rotate"==e.type?t={min:e.min,max:e.max}:"Bar"==e.type?t={min:e.min,max:e.max,orientation:e.orientation}:"Set"==e.type?t={setType:e.setType,title:e.title,message:e.message,variableId:e.variableId}:"Tooltip"==e.type&&(t={size:e.size,title:e.title,color:e.color})),e.props=JSON.stringify(t),e},t}(a.b)},function(e,t,i){"use strict";i.d(t,"n",function(){return o}),i.d(t,"g",function(){return r}),i.d(t,"k",function(){return n}),i.d(t,"d",function(){return a}),i.d(t,"m",function(){return s}),i.d(t,"f",function(){return l}),i.d(t,"j",function(){return c}),i.d(t,"c",function(){return h}),i.d(t,"l",function(){return u}),i.d(t,"e",function(){return d}),i.d(t,"i",function(){return p}),i.d(t,"b",function(){return f}),i.d(t,"h",function(){return m}),i.d(t,"a",function(){return g});var o=["Group21Var1","Group21Var2","Group21Var5","Group21Var6","Group21Var9","Group21Var10"],r=["Group23Var1","Group23Var2","Group23Var5","Group23Var6"],n=["Group1Var1","Group1Var2"],a=["Group2Var1","Group2Var2","Group2Var3"],s=["Group3Var2"],l=["Group4Var1","Group4Var2","Group4Var3"],c=["Group10Var2"],h=["Group11Var1","Group11Var2"],u=["Group20Var1","Group20Var2","Group20Var5","Group20Var6"],d=["Group22Var1","Group22Var2","Group22Var5","Group22Var6"],p=["Group30Var1","Group30Var2","Group30Var3","Group30Var4","Group30Var5","Group30Var6"],f=["Group32Var1","Group32Var2","Group32Var3","Group32Var4","Group32Var5","Group32Var6","Group32Var7","Group32Var8"],m=["Group40Var1","Group40Var2","Group40Var3","Group40Var4"],g=["Group42Var1","Group42Var2","Group42Var3","Group42Var4","Group42Var5","Group42Var6","Group42Var7","Group42Var8"]},function(e,t,i){"use strict";function o(){return Object(u.c)("/trends")}function r(e){return Object(u.d)("/trends",e)}function n(e){return Object(u.e)("/trends/"+e.id,e)}function a(e){return Object(u.b)("/trends/"+e.id)}function s(e){return Object(u.c)("/trends/"+e+"/tags")}function l(e,t){return Object(u.d)("/trends/"+e.id+"/tags",t)}function c(e,t){return Object(u.e)("/trends/"+e.id+"/tags/"+t.id,t)}function h(e,t){return Object(u.b)("/trends/"+e.id+"/tags/"+t.id)}t.d=o,t.a=r,t.g=n,t.e=a,t.c=s,t.b=l,t.h=c,t.f=h;var u=i(5)},function(e,t){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e;window.AmCharts?e=window.AmCharts:(e={},window.AmCharts=e,e.themes={},e.maps={},e.inheriting={},e.charts=[],e.onReadyArray=[],e.useUTC=!1,e.updateRate=60,e.uid=0,e.lang={},e.translations={},e.mapTranslations={},e.windows={},e.initHandlers=[],e.amString="am",e.pmString="pm"),e.Class=function(t){var i=function(){arguments[0]!==e.inheriting&&(this.events={},this.construct.apply(this,arguments))};t.inherits?(i.prototype=new t.inherits(e.inheriting),i.base=t.inherits.prototype,delete t.inherits):(i.prototype.createEvents=function(){for(var e=0;e<arguments.length;e++)this.events[arguments[e]]=[]},i.prototype.listenTo=function(e,t,i){this.removeListener(e,t,i),e.events[t].push({handler:i,scope:this})},i.prototype.addListener=function(e,t,i){this.removeListener(this,e,t),e&&this.events[e]&&this.events[e].push({handler:t,scope:i})},i.prototype.removeListener=function(e,t,i){if(e&&e.events&&(e=e.events[t]))for(t=e.length-1;0<=t;t--)e[t].handler===i&&e.splice(t,1)},i.prototype.fire=function(e){for(var t=this.events[e.type],i=0;i<t.length;i++){var o=t[i];o.handler.call(o.scope,e)}});for(var o in t)i.prototype[o]=t[o];return i},e.addChart=function(t){window.requestAnimationFrame?e.animationRequested||(e.animationRequested=!0,window.requestAnimationFrame(e.update)):e.updateInt||(e.updateInt=setInterval(function(){e.update()},Math.round(1e3/e.updateRate))),e.charts.push(t)},e.removeChart=function(t){for(var i=e.charts,o=i.length-1;0<=o;o--)i[o]==t&&i.splice(o,1);0===i.length&&(e.requestAnimation&&(window.cancelAnimationFrame(e.requestAnimation),e.animationRequested=!1),e.updateInt&&(clearInterval(e.updateInt),e.updateInt=NaN))},e.isModern=!0,e.getIEVersion=function(){var e,t,i=0;return"Microsoft Internet Explorer"==navigator.appName&&(e=navigator.userAgent,t=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==t.exec(e)&&(i=parseFloat(RegExp.$1))),i},e.applyLang=function(t,i){var o=e.translations;i.dayNames=e.extend({},e.dayNames),i.shortDayNames=e.extend({},e.shortDayNames),i.monthNames=e.extend({},e.monthNames),i.shortMonthNames=e.extend({},e.shortMonthNames),i.amString="am",i.pmString="pm",o&&(o=o[t])&&(e.lang=o,i.langObj=o,o.monthNames&&(i.dayNames=e.extend({},o.dayNames),i.shortDayNames=e.extend({},o.shortDayNames),i.monthNames=e.extend({},o.monthNames),i.shortMonthNames=e.extend({},o.shortMonthNames)),o.am&&(i.amString=o.am),o.pm&&(i.pmString=o.pm)),e.amString=i.amString,e.pmString=i.pmString},e.IEversion=e.getIEVersion(),9>e.IEversion&&0<e.IEversion&&(e.isModern=!1,e.isIE=!0),e.dx=0,e.dy=0,(document.addEventListener||window.opera)&&(e.isNN=!0,e.isIE=!1,e.dx=.5,e.dy=.5),document.attachEvent&&(e.isNN=!1,e.isIE=!0,e.isModern||(e.dx=0,e.dy=0)),window.chrome&&(e.chrome=!0),e.handleMouseUp=function(t){for(var i=e.charts,o=0;o<i.length;o++){var r=i[o];r&&r.handleReleaseOutside&&r.handleReleaseOutside(t)}},e.handleMouseMove=function(t){for(var i=e.charts,o=0;o<i.length;o++){var r=i[o];r&&r.handleMouseMove&&r.handleMouseMove(t)}},e.handleWheel=function(t){for(var i=e.charts,o=0;o<i.length;o++){var r=i[o];if(r&&r.mouseIsOver){(r.mouseWheelScrollEnabled||r.mouseWheelZoomEnabled)&&r.handleWheel&&(r.handleMouseMove(t),r.handleWheel(t));break}}},e.resetMouseOver=function(){for(var t=e.charts,i=0;i<t.length;i++){var o=t[i];o&&(o.mouseIsOver=!1)}},e.ready=function(t){e.onReadyArray.push(t)},e.handleLoad=function(){e.isReady=!0;for(var t=e.onReadyArray,i=0;i<t.length;i++){var o=t[i];isNaN(e.processDelay)?o():setTimeout(o,e.processDelay*i)}e.onReadyArray=[]},e.addInitHandler=function(t,i){e.initHandlers.push({method:t,types:i})},e.callInitHandler=function(t){var i=e.initHandlers;if(e.initHandlers)for(var o=0;o<i.length;o++){var r=i[o];r.types?e.isInArray(r.types,t.type)&&r.method(t):r.method(t)}},e.getUniqueId=function(){return"AmChartsEl-"+ ++e.uid},e.isNN&&(document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp,!0),window.addEventListener("load",e.handleLoad,!0)),e.isIE&&(document.attachEvent("onmousemove",e.handleMouseMove),document.attachEvent("onmouseup",e.handleMouseUp),window.attachEvent("onload",e.handleLoad)),e.addWheelListeners=function(){e.wheelIsListened||(e.isNN&&(window.addEventListener("DOMMouseScroll",e.handleWheel,!0),document.addEventListener("mousewheel",e.handleWheel,!0)),e.isIE&&document.attachEvent("onmousewheel",e.handleWheel)),e.wheelIsListened=!0},e.clear=function(){var t=e.charts;if(t)for(var i=t.length-1;0<=i;i--)t[i].clear();e.updateInt&&clearInterval(e.updateInt),e.requestAnimation&&window.cancelAnimationFrame(e.requestAnimation),e.charts=[],e.isNN&&(document.removeEventListener("mousemove",e.handleMouseMove,!0),document.removeEventListener("mouseup",e.handleMouseUp,!0),window.removeEventListener("load",e.handleLoad,!0),window.removeEventListener("DOMMouseScroll",e.handleWheel,!0),document.removeEventListener("mousewheel",e.handleWheel,!0)),e.isIE&&(document.detachEvent("onmousemove",e.handleMouseMove),document.detachEvent("onmouseup",e.handleMouseUp),window.detachEvent("onload",e.handleLoad))},e.makeChart=function(t,i,o){var r=i.type,n=i.theme;e.isString(n)&&(n=e.themes[n],i.theme=n);var a;switch(r){case"serial":a=new e.AmSerialChart(n);break;case"xy":a=new e.AmXYChart(n);break;case"pie":a=new e.AmPieChart(n);break;case"radar":a=new e.AmRadarChart(n);break;case"gauge":a=new e.AmAngularGauge(n);break;case"funnel":a=new e.AmFunnelChart(n);break;case"map":a=new e.AmMap(n);break;case"stock":a=new e.AmStockChart(n);break;case"gantt":a=new e.AmGanttChart(n)}return e.extend(a,i),e.isReady?isNaN(o)?a.write(t):setTimeout(function(){e.realWrite(a,t)},o):e.ready(function(){isNaN(o)?a.write(t):setTimeout(function(){e.realWrite(a,t)},o)}),a},e.realWrite=function(e,t){e.write(t)},e.updateCount=0,e.validateAt=Math.round(e.updateRate/10),e.update=function(){var t=e.charts;e.updateCount++;var i=!1;if(e.updateCount==e.validateAt&&(i=!0,e.updateCount=0),t)for(var o=t.length-1;0<=o;o--)t[o].update&&t[o].update(),i&&(t[o].autoResize?t[o].validateSize&&t[o].validateSize():t[o].premeasure&&t[o].premeasure());window.requestAnimationFrame&&(e.requestAnimation=window.requestAnimationFrame(e.update))},"complete"==document.readyState&&e.handleLoad()}(),function(){var e=window.AmCharts;e.toBoolean=function(e,t){if(void 0===e)return t;switch(String(e).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!e}},e.removeFromArray=function(e,t){var i;if(void 0!==t&&void 0!==e)for(i=e.length-1;0<=i;i--)e[i]==t&&e.splice(i,1)},e.getPath=function(){var e=document.getElementsByTagName("script");if(e)for(var t=0;t<e.length;t++){var i=e[t].src;if(-1!==i.search(/\/(amcharts|ammap)\.js/))return i.replace(/\/(amcharts|ammap)\.js.*/,"/")}},e.normalizeUrl=function(e){return""!==e&&-1===e.search(/\/$/)?e+"/":e},e.isAbsolute=function(e){return 0===e.search(/^http[s]?:|^\//)},e.isInArray=function(e,t){for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1},e.getDecimals=function(e){var t=0;return isNaN(e)||(e=String(e),-1!=e.indexOf("e-")?t=Number(e.split("-")[1]):-1!=e.indexOf(".")&&(t=e.split(".")[1].length)),t},e.wordwrap=function(t,i,o,r){var n,a,s,l;if(t+="",1>i)return t;for(n=-1,t=(l=t.split(/\r\n|\n|\r/)).length;++n<t;l[n]+=s){for(s=l[n],l[n]="";s.length>i;l[n]+=e.trim(s.slice(0,a))+((s=s.slice(a)).length?o:""))a=2==r||(a=s.slice(0,i+1).match(/\S*(\s)?$/))[1]?i:a.input.length-a[0].length||1==r&&i||a.input.length+(a=s.slice(i).match(/^\S*/))[0].length;s=e.trim(s)}return l.join(o)},e.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.wrappedText=function(t,i,o,r,n,a,s,l){var c=e.text(t,i,o,r,n,a,s);if(c){var h=c.getBBox();if(h.width>l){var u="\n";e.isModern||(u="<br>"),l=Math.floor(l/(h.width/i.length)),2<l&&(l-=2),i=e.wordwrap(i,l,u,!0),c.remove(),c=e.text(t,i,o,r,n,a,s)}}return c},e.getStyle=function(e,t){var i="";if(document.defaultView&&document.defaultView.getComputedStyle)try{i=document.defaultView.getComputedStyle(e,"").getPropertyValue(t)}catch(e){}else e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),i=e.currentStyle[t]);return i},e.removePx=function(e){if(void 0!==e)return Number(e.substring(0,e.length-2))},e.getURL=function(t,i){if(t)if("_self"!=i&&i)if("_top"==i&&window.top)window.top.location.href=t;else if("_parent"==i&&window.parent)window.parent.location.href=t;else if("_blank"==i)window.open(t);else{var o=document.getElementsByName(i)[0];o?o.src=t:(o=e.windows[i])&&o.opener&&!o.opener.closed?o.location.href=t:e.windows[i]=window.open(t)}else window.location.href=t},e.ifArray=function(e){return!!(e&&"object"==(void 0===e?"undefined":i(e))&&0<e.length)},e.callMethod=function(e,t){var i;for(i=0;i<t.length;i++){var o=t[i];if(o){o[e]&&o[e]();var r=o.length;if(0<r){var n;for(n=0;n<r;n++){var a=o[n];a&&a[e]&&a[e]()}}}}},e.toNumber=function(e){return"number"==typeof e?e:Number(String(e).replace(/[^0-9\-.]+/g,""))},e.toColor=function(e){if(""!==e&&void 0!==e)if(-1!=e.indexOf(",")){e=e.split(",");var t;for(t=0;t<e.length;t++){var i=e[t].substring(e[t].length-6,e[t].length);e[t]="#"+i}}else e=e.substring(e.length-6,e.length),e="#"+e;return e},e.toCoordinate=function(e,t,i){var o;return void 0!==e&&(e=String(e),i&&i<t&&(t=i),o=Number(e),-1!=e.indexOf("!")&&(o=t-Number(e.substr(1))),-1!=e.indexOf("%")&&(o=t*Number(e.substr(0,e.length-1))/100)),o},e.fitToBounds=function(e,t,i){return e<t&&(e=t),e>i&&(e=i),e},e.isDefined=function(e){return void 0!==e},e.stripNumbers=function(e){return e.replace(/[0-9]+/g,"")},e.roundTo=function(e,t){if(0>t)return e;var i=Math.pow(10,t);return Math.round(e*i)/i},e.toFixed=function(e,t){var i=!1;0>e&&(i=!0,e=Math.abs(e));var o=String(Math.round(e*Math.pow(10,t)));if(0<t){var r=o.length;if(r<t){var n;for(n=0;n<t-r;n++)o="0"+o}return r=o.substring(0,o.length-t),""===r&&(r=0),o=r+"."+o.substring(o.length-t,o.length),i?"-"+o:o}return String(o)},e.formatDuration=function(t,i,o,r,n,a){var s=e.intervals,l=a.decimalSeparator;if(t>=s[i].contains){var c=t-Math.floor(t/s[i].contains)*s[i].contains;return"ss"==i?(c=e.formatNumber(c,a),1==c.split(l)[0].length&&(c="0"+c)):c=e.roundTo(c,a.precision),("mm"==i||"hh"==i)&&10>c&&(c="0"+c),o=c+""+r[i]+o,t=Math.floor(t/s[i].contains),i=s[i].nextInterval,e.formatDuration(t,i,o,r,n,a)}if("ss"==i&&(t=e.formatNumber(t,a),1==t.split(l)[0].length&&(t="0"+t)),"mm"==i&&(t=e.roundTo(t,a.precision)),("mm"==i||"hh"==i)&&10>t&&(t="0"+t),o=t+""+r[i]+o,s[n].count>s[i].count)for(t=s[i].count;t<s[n].count;t++)i=s[i].nextInterval,"ss"==i||"mm"==i||"hh"==i?o="00"+r[i]+o:"DD"==i&&(o="0"+r[i]+o);return":"==o.charAt(o.length-1)&&(o=o.substring(0,o.length-1)),o},e.formatNumber=function(t,i,o,r,n){t=e.roundTo(t,i.precision),isNaN(o)&&(o=i.precision);var a=i.decimalSeparator;i=i.thousandsSeparator,void 0==a&&(a=","),void 0==i&&(i=" ");var s;s=0>t?"-":"",t=Math.abs(t);var l=String(t),c=!1;-1!=l.indexOf("e")&&(c=!0),0<=o&&!c&&(l=e.toFixed(t,o));var h="";if(c)h=l;else{var u,l=l.split("."),c=String(l[0]);for(u=c.length;0<=u;u-=3)h=u!=c.length?0!==u?c.substring(u-3,u)+i+h:c.substring(u-3,u)+h:c.substring(u-3,u);void 0!==l[1]&&(h=h+a+l[1]),void 0!==o&&0<o&&"0"!=h&&(h=e.addZeroes(h,a,o))}return h=s+h,""===s&&!0===r&&0!==t&&(h="+"+h),!0===n&&(h+="%"),h},e.addZeroes=function(t,i,o){return t=t.split(i),void 0===t[1]&&0<o&&(t[1]="0"),t[1].length<o?(t[1]+="0",e.addZeroes(t[0]+i+t[1],i,o)):void 0!==t[1]?t[0]+i+t[1]:t[0]},e.scientificToNormal=function(e){var t;e=String(e).split("e");var i;if("-"==e[1].substr(0,1)){for(t="0.",i=0;i<Math.abs(Number(e[1]))-1;i++)t+="0";t+=e[0].split(".").join("")}else{var o=0;for(t=e[0].split("."),t[1]&&(o=t[1].length),t=e[0].split(".").join(""),i=0;i<Math.abs(Number(e[1]))-o;i++)t+="0"}return t},e.toScientific=function(e,t){if(0===e)return"0";var i=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),o=String(o).split(".").join(t);return String(o)+"e"+i},e.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},e.hitTest=function(t,i,o){var r=!1,n=t.x,a=t.x+t.width,s=t.y,l=t.y+t.height,c=e.isInRectangle;return r||(r=c(n,s,i)),r||(r=c(n,l,i)),r||(r=c(a,s,i)),r||(r=c(a,l,i)),r||!0===o||(r=e.hitTest(i,t,!0)),r},e.isInRectangle=function(e,t,i){return e>=i.x-5&&e<=i.x+i.width+5&&t>=i.y-5&&t<=i.y+i.height+5},e.isPercents=function(e){if(-1!=String(e).indexOf("%"))return!0},e.formatValue=function(t,i,o,r,n,a,s,l){if(i){void 0===n&&(n="");var c;for(c=0;c<o.length;c++){var h=o[c],u=i[h];void 0!==u&&(u=a?e.addPrefix(u,l,s,r):e.formatNumber(u,r),t=t.replace(new RegExp("\\[\\["+n+h+"\\]\\]","g"),u))}}return t},e.formatDataContextValue=function(e,t){if(e){var i,o=e.match(/\[\[.*?\]\]/g);for(i=0;i<o.length;i++){var r=o[i],r=r.substr(2,r.length-4);void 0!==t[r]&&(e=e.replace(new RegExp("\\[\\["+r+"\\]\\]","g"),t[r]))}}return e},e.massReplace=function(e,t){for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];void 0===o&&(o=""),e=e.replace(i,o)}return e},e.cleanFromEmpty=function(e){return e.replace(/\[\[[^\]]*\]\]/g,"")},e.addPrefix=function(t,i,o,r,n){var a,s,l,c=e.formatNumber(t,r),h="";if(0===t)return"0";if(0>t&&(h="-"),1<(t=Math.abs(t))){for(a=i.length-1;-1<a;a--)if(t>=i[a].number&&(s=t/i[a].number,l=Number(r.precision),1>l&&(l=1),o=e.roundTo(s,l),l=e.formatNumber(o,{precision:-1,decimalSeparator:r.decimalSeparator,thousandsSeparator:r.thousandsSeparator}),!n||s==o)){c=h+""+l+i[a].prefix;break}}else for(a=0;a<o.length;a++)if(t<=o[a].number){s=t/o[a].number,l=Math.abs(Math.floor(Math.log(s)*Math.LOG10E)),s=e.roundTo(s,l),c=h+""+s+o[a].prefix;break}return c},e.remove=function(e){e&&e.remove()},e.getEffect=function(e){return">"==e&&(e="easeOutSine"),"<"==e&&(e="easeInSine"),"elastic"==e&&(e="easeOutElastic"),e},e.getObjById=function(e,t){var i,o;for(o=0;o<e.length;o++){var r=e[o];if(r.id==t){i=r;break}}return i},e.applyTheme=function(t,i,o){i||(i=e.theme);try{i=JSON.parse(JSON.stringify(i))}catch(e){}i&&i[o]&&e.extend(t,i[o])},e.isString=function(e){return"string"==typeof e},e.extend=function(e,t,i){var o;e||(e={});for(o in t)i?e.hasOwnProperty(o)||(e[o]=t[o]):e[o]=t[o];return e},e.copyProperties=function(e,t){for(var i in e)e.hasOwnProperty(i)&&"events"!=i&&void 0!==e[i]&&"function"!=typeof e[i]&&"cname"!=i&&(t[i]=e[i])},e.processObject=function(t,i,o,r){if(!1==t instanceof i&&(t=r?e.extend(new i(o),t):e.extend(t,new i(o),!0),t.listeners))for(var n in t.listeners)i=t.listeners[n],t.addListener(i.event,i.method);return t},e.fixNewLines=function(e){var t=RegExp("\\n","g");return e&&(e=e.replace(t,"<br />")),e},e.fixBrakes=function(t){if(e.isModern){var i=RegExp("<br>","g");t&&(t=t.replace(i,"\n"))}else t=e.fixNewLines(t);return t},e.deleteObject=function(t,o){if(t&&(void 0!==o&&null!==o||(o=20),0!==o))if("[object Array]"===Object.prototype.toString.call(t))for(var r=0;r<t.length;r++)e.deleteObject(t[r],o-1),t[r]=null;else if(t&&!t.tagName)try{for(r in t.theme=null,t)t[r]&&("object"==i(t[r])&&e.deleteObject(t[r],o-1),"function"!=typeof t[r]&&(t[r]=null))}catch(e){}},e.bounce=function(e,t,i,o,r){return(t/=r)<1/2.75?7.5625*o*t*t+i:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+i:o*(7.5625*(t-=2.625/2.75)*t+.984375)+i},e.easeInOutQuad=function(e,t,i,o,r){return 1>(t/=r/2)?o/2*t*t+i:(t--,-o/2*(t*(t-2)-1)+i)},e.easeInSine=function(e,t,i,o,r){return-o*Math.cos(t/r*(Math.PI/2))+o+i},e.easeOutSine=function(e,t,i,o,r){return o*Math.sin(t/r*(Math.PI/2))+i},e.easeOutElastic=function(e,t,i,o,r){e=1.70158;var n=0,a=o;return 0===t?i:1==(t/=r)?i+o:(n||(n=.3*r),a<Math.abs(o)?(a=o,e=n/4):e=n/(2*Math.PI)*Math.asin(o/a),a*Math.pow(2,-10*t)*Math.sin(2*(t*r-e)*Math.PI/n)+o+i)},e.fixStepE=function(t){t=t.toExponential(0).split("e");var i=Number(t[1]);return 9==Number(t[0])&&i++,e.generateNumber(1,i)},e.generateNumber=function(e,t){var i,o="";i=0>t?Math.abs(t)-1:Math.abs(t);var r;for(r=0;r<i;r++)o+="0";return 0>t?Number("0."+o+String(e)):Number(String(e)+o)},e.setCN=function(e,t,i,o){if(e.addClassNames&&t&&(t=t.node)&&i){var r=t.getAttribute("class");e=e.classNamePrefix+"-",o&&(e=""),r?t.setAttribute("class",r+" "+e+i):t.setAttribute("class",e+i)}},e.removeCN=function(e,t,i){t&&(t=t.node)&&i&&(t=t.classList)&&t.remove(e.classNamePrefix+"-"+i)},e.parseDefs=function(t,o){for(var r in t){var n=i(t[r]);if(0<t[r].length&&"object"==n)for(var a=0;a<t[r].length;a++)n=document.createElementNS(e.SVG_NS,r),o.appendChild(n),e.parseDefs(t[r][a],n);else"object"==n?(n=document.createElementNS(e.SVG_NS,r),o.appendChild(n),e.parseDefs(t[r],n)):o.setAttribute(r,t[r])}}}(),function(){var e=window.AmCharts;e.AxisBase=e.Class({construct:function(t){this.createEvents("clickItem","rollOverItem","rollOutItem","rollOverGuide","rollOutGuide","clickGuide"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.titleWidth=0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},e.applyTheme(this,t,"AxisBase")},zoom:function(e,t){this.start=e,this.end=t,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var e=this.position;"H"==this.orientation?("left"==e&&(e="bottom"),"right"==e&&(e="top")):("bottom"==e&&(e="left"),"top"==e&&(e="right")),this.position=e},init:function(){this.createBalloon()},draw:function(){var e=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[];var t=e.container,i=t.set();e.gridSet.push(i),this.set=i,t=t.set(),e.axesLabelsSet.push(t),this.labelsSet=t,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?3>(e=this.height/this.minVerticalGap)&&(e=3):e=this.width/this.minHorizontalGap,this.gridCountR=Math.max(e,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(e){this.orientation=e?"H":"V"},addTitle:function(){var t=this.title;if(this.titleLabel=null,t){var i=this.chart,o=this.titleColor;void 0===o&&(o=i.color);var r=this.titleFontSize;isNaN(r)&&(r=i.fontSize+1),t=e.text(i.container,t,o,i.fontFamily,r,this.titleAlign,this.titleBold),e.setCN(i,t,this.bcn+"title"),this.titleLabel=t}},positionTitle:function(){var t=this.titleLabel;if(t){var i,o,r=this.labelsSet,n={};0<r.length()?n=r.getBBox():(n.x=0,n.y=0,n.width=this.width,n.height=this.height,e.VML&&(n.y+=this.y,n.x+=this.x)),r.push(t);var r=n.x,a=n.y;e.VML&&(a-=this.y,r-=this.x);var s=n.width,n=n.height,l=this.width,c=this.height,h=0,u=t.getBBox().height/2,d=this.inside,p=this.titleAlign;switch(this.position){case"top":i="left"==p?-1:"right"==p?l:l/2,o=a-10-u;break;case"bottom":i="left"==p?-1:"right"==p?l:l/2,o=a+n+10+u;break;case"left":i=r-10-u,d&&(i-=5),h=-90,o=("left"==p?c+1:"right"==p?-1:c/2)+this.titleDY,this.titleWidth=u+10;break;case"right":i=r+s+10+u,d&&(i+=7),o=("left"==p?c+2:"right"==p?-2:c/2)+this.titleDY,this.titleWidth=u+10,h=-90}this.marginsChanged?(t.translate(i,o),this.tx=i,this.ty=o):t.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(h=this.titleRotation),0!==h&&t.rotate(h)}},pushAxisItem:function(e,t){var i=this,o=e.graphics();0<o.length()&&(t?i.labelsSet.push(o):i.set.push(o)),(o=e.getLabel())&&(i.labelsSet.push(o),o.click(function(t){i.handleMouse(t,e,"clickItem")}).touchend(function(t){i.handleMouse(t,e,"clickItem")}).mouseover(function(t){i.handleMouse(t,e,"rollOverItem")}).mouseout(function(t){i.handleMouse(t,e,"rollOutItem")}))},handleMouse:function(e,t,i){this.fire({type:i,value:t.value,serialDataItem:t.serialDataItem,axis:this,target:t.label,chart:this.chart,event:e})},addGuide:function(t){for(var i=this.guides,o=!1,r=i.length,n=0;n<i.length;n++)i[n]==t&&(o=!0,r=n);t=e.processObject(t,e.Guide,this.theme),t.id||(t.id="guideAuto"+r+"_"+(new Date).getTime()),o||i.push(t)},removeGuide:function(e){var t,i=this.guides;for(t=0;t<i.length;t++)i[t]==e&&i.splice(t,1)},handleGuideOver:function(e){clearTimeout(this.chart.hoverInt);var t={x:0,y:0,width:0,height:0};e.graphics&&(t=e.graphics.getBBox());var i=this.x+t.x+t.width/2,t=this.y+t.y+t.height/2,o=e.fillColor;void 0===o&&(o=e.lineColor),this.chart.showBalloon(e.balloonText,o,!0,i,t),this.fire({type:"rollOverGuide",guide:e,chart:this.chart})},handleGuideOut:function(e){this.chart.hideBalloon(),this.fire({type:"rollOutGuide",guide:e,chart:this.chart})},handleGuideClick:function(e){this.chart.hideBalloon(),this.fire({type:"clickGuide",guide:e,chart:this.chart})},addEventListeners:function(e,t){var i=this;e.mouseover(function(){i.handleGuideOver(t)}),e.mouseup(function(){i.handleGuideClick(t)}),e.touchstart(function(){i.handleGuideOver(t)}),e.mouseout(function(){i.handleGuideOut(t)})},getBBox:function(){var t;return this.labelsSet&&(t=this.labelsSet.getBBox()),t?e.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}):t={x:0,y:0,width:0,height:0},t},destroy:function(){e.remove(this.set),e.remove(this.labelsSet);var t=this.axisLine;t&&e.remove(t.axisSet),e.remove(this.grid0)},chooseMinorFrequency:function(e){for(var t=10;0<t;t--)if(e/t==Math.round(e/t))return e/t},parseDatesDraw:function(){var t,i,o,r,n,a,s,l=this.chart,c=this.showFirstLabel,h=this.showLastLabel,u="",d=e.extractPeriod(this.minPeriod),p=e.getPeriodDuration(d.period,d.count),f=this.firstDayOfWeek,m=this.boldPeriodBeginning;t=this.minorGridEnabled;var g,v,b=this.gridAlpha,w=this.choosePeriod(0),y=w.period,w=w.count,C=e.getPeriodDuration(y,w);C<p&&(y=d.period,w=d.count,C=p),d=y,"WW"==d&&(d="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var x=Math.ceil(this.timeDifference/C)+5,S=o=e.resetDateToMin(new Date(this.startTime-C),y,w,f).getTime();(d==y&&1==w&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(n=C*this.stepWidth,this.autoWrap&&!this.centerLabels&&(n=-n)),this.cellWidth=p*this.stepWidth,a=Math.round(o/C),p=-1,a/2==Math.round(a/2)&&(p=-2,o-=C),a=this.firstTime;var P=0,T=0;if(t&&1<w&&(g=this.chooseMinorFrequency(w),v=e.getPeriodDuration(y,g),"DD"==y&&(v+=e.getPeriodDuration("hh")),"fff"==y&&(v=1)),0<this.gridCountR)for(x-5-p>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),t=p;t<=x;t++){if(s=a+C*(t+Math.floor((S-a)/C))-P,"DD"==y&&(s+=36e5),s=e.resetDateToMin(new Date(s),y,w,f).getTime(),"MM"==y&&(i=(s-o)/C,1.5<=(s-o)/C&&(s=s-(i-1)*C+e.getPeriodDuration("DD",3),s=e.resetDateToMin(new Date(s),y,1).getTime(),P+=C)),i=(s-this.startTime)*this.stepWidth,"radar"==l.type){if(0>(i=this.axisWidth-i)||i>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(T=-C*this.stepWidth/2):"date"==this.type&&(i=this.axisWidth-i);if(u=!1,this.nextPeriod[d]&&(u=this.checkPeriodChange(this.nextPeriod[d],1,s,o,d)),o=!1,u&&this.markPeriodChange?(u=this.dateFormatsObject[this.nextPeriod[d]],this.twoLineMode&&(u=this.dateFormatsObject[d]+"\n"+u,u=e.fixBrakes(u)),o=!0):u=this.dateFormatsObject[d],m||(o=!1),this.currentDateFormat=u,u=e.formatDate(new Date(s),u,l),(t==p&&!c||t==x&&!h)&&(u=" "),this.labelFunction&&(u=this.labelFunction(u,new Date(s),this,y,w,r).toString()),this.boldLabels&&(o=!0),r=new this.axisItemRenderer(this,i,u,!1,n,T,!1,o),this.pushAxisItem(r),r=o=s,!isNaN(g))for(i=1;i<w;i+=g)this.gridAlpha=this.minorGridAlpha,u=s+v*i,u=e.resetDateToMin(new Date(u),y,g,f).getTime(),u=new this.axisItemRenderer(this,(u-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(u);this.gridAlpha=b}},choosePeriod:function(t){var i=e.getPeriodDuration(this.periods[t].period,this.periods[t].count),o=this.periods;return this.timeDifference<i&&0<t?o[t-1]:Math.ceil(this.timeDifference/i)<=this.gridCountR?o[t]:t+1<o.length?this.choosePeriod(t+1):o[t]},getStepWidth:function(e){var t;return this.startOnAxis?(t=this.axisWidth/(e-1),1==e&&(t=this.axisWidth)):t=this.axisWidth/e,t},timeZoom:function(e,t){this.startTime=e,this.endTime=t},minDuration:function(){var t=e.extractPeriod(this.minPeriod);return e.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,i,o,r,n){o=new Date(o);var a=new Date(r),s=this.firstDayOfWeek;return r=i,"DD"==t&&(i=1),o=e.resetDateToMin(o,t,i,s).getTime(),i=e.resetDateToMin(a,t,i,s).getTime(),!("DD"==t&&"hh"!=n&&o-i<e.getPeriodDuration(t,r)-e.getPeriodDuration("hh",1))&&o!=i},generateDFObject:function(){this.dateFormatsObject={};var e;for(e=0;e<this.dateFormats.length;e++){var t=this.dateFormats[e];this.dateFormatsObject[t.period]=t.format}},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(e){return e},showBalloon:function(e,t,i,o){var r=this.offset;switch(this.position){case"bottom":t=this.height+r;break;case"top":t=-r;break;case"left":e=-r;break;case"right":e=this.width+r}if(i||(i=this.currentDateFormat),"V"==this.orientation){if(0>t||t>this.height)return;if(isNaN(t))return void this.hideBalloon();t=this.adjustBalloonCoordinate(t,o),o=this.coordinateToValue(t)}else{if(0>e||e>this.width)return;if(isNaN(e))return void this.hideBalloon();e=this.adjustBalloonCoordinate(e,o),o=this.coordinateToValue(e)}var n;(r=this.chart.chartCursor)&&(n=r.index),this.balloon&&void 0!==o&&this.balloon.enabled&&(this.balloonTextFunction?("date"!=this.type&&!0!==this.parseDates||(o=new Date(o)),o=this.balloonTextFunction(o)):this.balloonText?o=this.formatBalloonText(this.balloonText,n,i):isNaN(o)||(o=this.formatValue(o,i)),e==this.prevBX&&t==this.prevBY||(this.balloon.setPosition(e,t),this.prevBX=e,this.prevBY=t,o&&this.balloon.showBalloon(o)))},adjustBalloonCoordinate:function(e){return e},createBalloon:function(){var t=this.chart,i=t.chartCursor;i&&(i=i.cursorPosition,"mouse"!=i&&(this.stickBalloonToCategory=!0),"start"==i&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),e.extend(this.balloon,t.balloon,!0))},setBalloonBounds:function(){var e=this.balloon;if(e){var t=this.chart;e.cornerRadius=0,e.shadowAlpha=0,e.borderThickness=1,e.borderAlpha=1,e.adjustBorderColor=!1,e.showBullet=!1,this.balloon=e,e.chart=t,e.mainSet=t.plotBalloonsSet,e.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(e.pointerWidth=0),e.className=this.id,t="V","V"==this.orientation&&(t="H"),this.stickBalloonToCategory||(e.animationDuration=0);var i,o,r,n,a=this.inside,s=this.width,l=this.height;switch(this.position){case"bottom":i=0,o=s,a?(r=0,n=l):(r=l,n=l+1e3);break;case"top":i=0,o=s,a?(r=0,n=l):(r=-1e3,n=0);break;case"left":r=0,n=l,a?(i=0,o=s):(i=-1e3,o=0);break;case"right":r=0,n=l,a?(i=0,o=s):(i=s,o=s+1e3)}e.drop||(e.pointerOrientation=t),e.setBounds(i,r,o,n)}}})}(),function(){var e=window.AmCharts;e.ValueAxis=e.Class({inherits:e.AxisBase,construct:function(t){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),e.ValueAxis.base.construct.call(this,t),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,e.applyTheme(this,t,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(e.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),(0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)||isNaN(this.fullMin)&&isNaN(this.fullMax))&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){e.ValueAxis.base.draw.call(this);var t=this.chart,i=this.set;this.labelRotationR=this.labelRotation,e.setCN(t,this.set,"value-axis value-axis-"+this.id),e.setCN(t,this.labelsSet,"value-axis value-axis-"+this.id),e.setCN(t,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var o=this.type;if("duration"==o&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==o&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),this.logarithmic){var r=this.treatZeroAs,n=this.getExtremes(0,this.data.length-1).min;if(!isNaN(this.minimum)&&this.minimum<n&&(n=this.minimum),this.logMin=n,this.minReal<n&&(this.minReal=n),isNaN(this.minReal)&&(this.minReal=n),0<r&&0===n&&(this.minReal=n=r),0>=n||0>=this.minimum)return void this.fire({type:"logarithmicAxisFailed",chart:t})}this.grid0=null;var a,s,l=t.dx,c=t.dy,r=!1,n=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||1/0==this.min||-1/0==this.max)r=!0;else{"date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration());var h=this.labelFrequency,u=this.showFirstLabel,d=this.showLastLabel,p=1,f=0;if(this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;if(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic){s=this.fullMin;var m=this.fullMax;isNaN(this.minimum)||(s=this.minimum),isNaN(this.maximum)||(m=this.maximum);var m=Math.log(m)*Math.LOG10E-Math.log(s)*Math.LOG10E,g=Math.log(this.max)/Math.LN10-Math.log(s)*Math.LOG10E;this.relativeStart=e.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(s)*Math.LOG10E)/m,5),this.relativeEnd=e.roundTo(g/m,5)}else this.relativeStart=e.roundTo(e.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=e.roundTo(e.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5);var v,m=Math.round((this.maxCalc-this.minCalc)/this.step)+1;!0===n?(v=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/v,v>this.logGridLimit&&(m=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,f=Math.round(Math.log(this.minReal)*Math.LOG10E),m>this.gridCountR&&(p=Math.ceil(m/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var b=0;1>this.step&&-1<this.step&&(b=e.getDecimals(this.step)),this.integersOnly&&(b=0),b>this.maxDecCount&&(b=this.maxDecCount),g=this.precision,isNaN(g)||(b=g),isNaN(this.maxZoom)&&(this.max=e.roundTo(this.max,this.maxDecCount),this.min=e.roundTo(this.min,this.maxDecCount)),s={},s.precision=b,s.decimalSeparator=t.nf.decimalSeparator,s.thousandsSeparator=t.nf.thousandsSeparator,this.numberFormatter=s;var w;for(this.exponential=!1,s=f;s<m;s+=p){var y=e.roundTo(this.step*s+this.min,b);-1!=String(y).indexOf("e")&&(this.exponential=!0)}this.duration&&(this.maxInterval=e.getMaxInterval(this.max,this.duration));var C,b=this.step,y=this.minorGridAlpha;if(this.minorGridEnabled&&(C=this.getMinorGridStep(b,this.stepWidth*b)),this.autoGridCount||0!==this.gridCount)if("date"==o)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(m>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),o=this.minCalc,n&&(m++,o=this.maxCalc-m*b),this.gridCountReal=m,s=this.startCount=f;s<m;s+=p)if(f=b*s+o,f=e.roundTo(f,this.maxDecCount+1),(!this.integersOnly||Math.round(f)==f)&&(isNaN(g)||Number(e.toFixed(f,g))==f)){if(!0===n)if(v>this.logGridLimit){if((f=Math.pow(10,s))>this.max)continue}else if(0>=f&&0>=(f=o+b*s+b/2))continue;w=this.formatValue(f,!1,s),Math.round(s/h)!=s/h&&(w=void 0),(0===s&&!u||s==m-1&&!d)&&(w=" "),a=this.getCoordinate(f);var x;if(this.rotate&&this.autoWrap&&(x=this.stepWidth*b-10),w=new this.axisItemRenderer(this,a,w,void 0,x,void 0,void 0,this.boldLabels),this.pushAxisItem(w),f==this.baseValue&&"radar"!=t.type){var S,P,T=this.width,O=this.height;"H"==this.orientation?0<=a&&a<=T+1&&(S=[a,a,a+l],P=[O,0,c]):0<=a&&a<=O+1&&(S=[0,T,T+l],P=[a,a,a+c]),S&&(a=e.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(a=this.zeroGridAlpha),a=e.line(t.container,S,P,this.gridColor,a,1,this.dashLength),a.translate(this.x,this.y),this.grid0=a,t.axesSet.push(a),a.toBack(),e.setCN(t,a,this.bcn+"zero-grid-"+this.id),e.setCN(t,a,this.bcn+"zero-grid"))}if(!isNaN(C)&&0<y&&s<m-1){for(a=b/C,n&&(C=b*(s+p)+this.minCalc,C=e.roundTo(C,this.maxDecCount+1),v>this.logGridLimit&&(C=Math.pow(10,s+p)),a=9,C=(C-f)/a),T=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,O=1;O<a;O++){var k=this.getCoordinate(f+C*O),k=new this.axisItemRenderer(this,k,"",!1,0,0,!1,!1,0,!0);this.pushAxisItem(k)}this.gridAlpha=T}}if(v=this.guides,0<(x=v.length)){for(S=this.fillAlpha,s=this.fillAlpha=0;s<x;s++)P=v[s],l=NaN,C=P.above,isNaN(P.toValue)||(l=this.getCoordinate(P.toValue),w=new this.axisItemRenderer(this,l,"",!0,NaN,NaN,P),this.pushAxisItem(w,C)),c=NaN,isNaN(P.value)||(c=this.getCoordinate(P.value),w=new this.axisItemRenderer(this,c,P.label,!0,NaN,(l-c)/2,P),this.pushAxisItem(w,C)),isNaN(l)&&(c-=3,l=c+3),w&&(h=w.label)&&this.addEventListeners(h,P),isNaN(l-c)||0>c&&0>l||(l=new this.guideFillRenderer(this,c,l,P),this.pushAxisItem(l,C),C=l.graphics(),P.graphics=C,this.addEventListeners(C,P));this.fillAlpha=S}w=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(w=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(w=this.max),n&&w<this.minReal&&(w=this.minReal),this.baseCoord=this.getCoordinate(w,!0),w={type:"axisChanged",target:this,chart:t},w.min=n?this.minReal:this.min,w.max=this.max,this.fire(w),this.axisCreated=!0}n=this.axisLine.set,w=this.labelsSet,i.translate(this.x,this.y),w.translate(this.x,this.y),this.positionTitle(),"radar"!=t.type&&n.toFront(),!this.visible||r?(i.hide(),n.hide(),w.hide()):(i.show(),n.show(),w.show()),this.axisY=this.y,this.axisX=this.x},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=e.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=e.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(t,i,o){var r=this.exponential,n=this.logarithmic,a=this.numberFormatter,s=this.chart;if(a)return!0===this.logarithmic&&(r=-1!=String(t).indexOf("e")),this.useScientificNotation&&(r=!0),this.usePrefixes&&(r=!1),r?(o=-1==String(t).indexOf("e")?t.toExponential(15):String(t),r=o.split("e"),o=Number(r[0]),r=Number(r[1]),o=e.roundTo(o,14),i||isNaN(this.precision)||(o=e.roundTo(o,this.precision)),10==o&&(o=1,r+=1),o=o+"e"+r,0===t&&(o="0"),1==t&&(o="1")):(n&&(r=String(t).split("."),r[1]?(a.precision=r[1].length,0>o&&(a.precision=Math.abs(o)),i&&1<t&&(a.precision=0),i||isNaN(this.precision)||(a.precision=this.precision)):a.precision=-1),o=this.usePrefixes?e.addPrefix(t,s.prefixesOfBigNumbers,s.prefixesOfSmallNumbers,a,!i):e.formatNumber(t,a,a.precision)),this.duration&&(i&&(a.precision=0),o=e.formatDuration(t,this.duration,"",this.durationUnits,this.maxInterval,a)),"date"==this.type&&(o=e.formatDate(new Date(t),this.currentDateFormat,s)),this.recalculateToPercents?o+="%":(i=this.unit)&&(o="left"==this.unitPosition?i+o:o+i),this.labelFunction&&(o="date"==this.type?this.labelFunction(o,new Date(t),this).toString():this.labelFunction(t,o,this).toString()),o},getMinorGridStep:function(e,t){var i=[5,4,2];60>t&&i.shift();for(var o=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r=0;r<i.length;r++){var n=e/i[r],a=Math.floor(Math.log(Math.abs(n))*Math.LOG10E);if(!(1<Math.abs(o-a)))if(1>e){if((a=Math.pow(10,-a)*n)==Math.round(a))return n}else if(n==Math.round(n))return n}return 1},stackGraphs:function(t){var i=this.stackType;"stacked"==i&&(i="regular"),"line"==i&&(i="none"),"100% stacked"==i&&(i="100%"),this.stackType=i;var o,r,n,a,s,l,c=[],h=[],u=[],d=[],p=this.chart.graphs,f=this.baseValue,m=!1;if("line"!=t&&"step"!=t&&"smoothedLine"!=t||(m=!0),m&&("regular"==i||"100%"==i))for(s=0;s<p.length;s++)a=p[s],a.stackGraph=null,a.hidden||(n=a.type,a.chart==this.chart&&a.valueAxis==this&&t==n&&a.stackable&&(r&&(a.stackGraph=r),r=a));for(a=this.start-10,r=this.end+10,s=this.data.length-1,a=e.fitToBounds(a,0,s),r=e.fitToBounds(r,0,s),l=a;l<=r;l++){var g=0;for(s=0;s<p.length;s++)if(a=p[s],a.hidden)a.newStack&&(u[l]=NaN,h[l]=NaN);else if(n=a.type,a.chart==this.chart&&a.valueAxis==this&&t==n&&a.stackable)if(n=this.data[l].axes[this.id].graphs[a.id],o=n.values.value,isNaN(o))a.newStack&&(u[l]=NaN,h[l]=NaN);else{var v=e.getDecimals(o);g<v&&(g=v),isNaN(d[l])?d[l]=Math.abs(o):d[l]+=Math.abs(o),d[l]=e.roundTo(d[l],g),v=a.fillToGraph,m&&v&&(v=this.data[l].axes[this.id].graphs[v.id])&&(n.values.open=v.values.value),"regular"==i&&(m&&(isNaN(c[l])?(c[l]=o,n.values.close=o,n.values.open=this.baseValue):(isNaN(o)?n.values.close=c[l]:n.values.close=o+c[l],n.values.open=c[l],c[l]=n.values.close)),"column"==t&&(a.newStack&&(u[l]=NaN,h[l]=NaN),n.values.close=o,0>o?(n.values.close=o,isNaN(h[l])?n.values.open=f:(n.values.close+=h[l],n.values.open=h[l]),h[l]=n.values.close):(n.values.close=o,isNaN(u[l])?n.values.open=f:(n.values.close+=u[l],n.values.open=u[l]),u[l]=n.values.close)))}}for(l=this.start;l<=this.end;l++)for(s=0;s<p.length;s++)a=p[s],a.hidden?a.newStack&&(u[l]=NaN,h[l]=NaN):(n=a.type,a.chart==this.chart&&a.valueAxis==this&&t==n&&a.stackable&&(n=this.data[l].axes[this.id].graphs[a.id],o=n.values.value,isNaN(o)||(c=o/d[l]*100,n.values.percents=c,n.values.total=d[l],a.newStack&&(u[l]=NaN,h[l]=NaN),"100%"==i&&(isNaN(h[l])&&(h[l]=0),isNaN(u[l])&&(u[l]=0),0>c?(n.values.close=e.fitToBounds(c+h[l],-100,100),n.values.open=h[l],h[l]=n.values.close):(n.values.close=e.fitToBounds(c+u[l],-100,100),n.values.open=u[l],u[l]=n.values.close)))))},recalculate:function(){var t,i=this.chart,o=i.graphs;for(t=0;t<o.length;t++){var r=o[t];if(r.valueAxis==this){var n="value";"candlestick"!=r.type&&"ohlc"!=r.type||(n="open");var a,s,l=this.end+2,l=e.fitToBounds(this.end+1,0,this.data.length-1),c=this.start;0<c&&c--;var h;if(s=this.start,r.compareFromStart&&(s=0),!isNaN(i.startTime)&&(h=i.categoryAxis)){var u=h.minDuration(),u=new Date(i.startTime+u/2),d=e.resetDateToMin(new Date(i.startTime),h.minPeriod).getTime();e.resetDateToMin(new Date(u),h.minPeriod).getTime()>d&&s++}for((h=i.recalculateFromDate)&&(h=e.getDate(h,i.dataDateFormat,"fff"),s=i.getClosestIndex(i.chartData,"time",h.getTime(),!0,0,i.chartData.length),l=i.chartData.length-1),h=s;h<=l&&(s=this.data[h].axes[this.id].graphs[r.id],a=s.values[n],r.recalculateValue&&(a=s.dataContext[r.valueField+r.recalculateValue]),isNaN(a));h++);for(this.recBaseValue=a,n=c;n<=l;n++){s=this.data[n].axes[this.id].graphs[r.id],s.percents={};var p,c=s.values;for(p in c)s.percents[p]="percents"!=p?c[p]/a*100-100:c[p]}}}},getMinMax:function(){var t,i=!1,o=this.chart,r=o.graphs;for(t=0;t<r.length;t++){var n=r[t].type;("line"==n||"step"==n||"smoothedLine"==n)&&this.expandMinMax&&(i=!0)}if(i&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==o.type&&(!0!==o.categoryAxis.parseDates||i||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),i=this.minMaxMultiplier,o=this.getExtremes(this.start,this.end),this.min=o.min,this.max=o.max,this.minRR=this.min,this.maxRR=this.max,i=(this.max-this.min)*(i-1),this.min-=i,this.max+=i,i=this.guides.length,this.includeGuidesInMinMax&&0<i)for(o=0;o<i;o++)r=this.guides[o],r.toValue<this.min&&(this.min=r.toValue),r.value<this.min&&(this.min=r.value),r.toValue>this.max&&(this.max=r.toValue),r.value>this.max&&(this.max=r.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(i=this.max,this.max=this.min,this.min=i),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),i=this.min,o=this.max,r=this.max-this.min,t=0===r?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/t)*t+t),isNaN(this.minimum)&&(this.min=Math.floor(this.min/t)*t-t),0>this.min&&0<=i&&(this.min=0),0<this.max&&0>=o&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),r=this.max-this.min,t=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E))/10,this.step=Math.ceil(r/this.gridCountR/t)*t,r=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),r=e.fixStepE(r),t=Math.ceil(this.step/r),5<t&&(t=10),5>=t&&2<t&&(t=5),this.step=Math.ceil(this.step/(r*t))*r*t,isNaN(this.setStep)||(this.step=this.setStep),1>r?(this.maxDecCount=Math.abs(Math.log(Math.abs(r))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=e.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=i&&(this.min=0),0<this.max&&0>=o&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),r=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=r),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(o)*Math.LOG10E-Math.log(i)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(o))*Math.LOG10E))):(i=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<i&&(this.minReal=this.min=10*i)))},getExtremes:function(e,t){var i,o,r;for(r=e;r<=t;r++){var n,a=this.data[r].axes[this.id].graphs;for(n in a)if(a.hasOwnProperty(n)){var s=this.chart.graphsById[n];if(s.includeInMinMax&&(!s.hidden||this.includeHidden)){isNaN(i)&&(i=1/0),isNaN(o)&&(o=-1/0),this.foundGraphs=!0,s=a[n].values,this.recalculateToPercents&&(s=a[n].percents);var l;if(this.minMaxField)l=s[this.minMaxField],l<i&&(i=l),l>o&&(o=l);else for(var c in s)s.hasOwnProperty(c)&&"percents"!=c&&"total"!=c&&"error"!=c&&(l=s[c],l<i&&(i=l),l>o&&(o=l))}}}return{min:i,max:o}},zoomOut:function(e){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,e)},zoomToRelativeValues:function(e,t,i){if(this.reversed){var o=e;e=1-t,t=1-o}var r=this.fullMax,o=this.fullMin,n=o+(r-o)*e,a=o+(r-o)*t;return 0<=this.minimum&&0>n&&(n=0),this.logarithmic&&(isNaN(this.minimum)||(o=this.minimum),isNaN(this.maximum)||(r=this.maximum),r=Math.log(r)*Math.LOG10E-Math.log(o)*Math.LOG10E,n=Math.pow(10,r*e+Math.log(o)*Math.LOG10E),a=Math.pow(10,r*t+Math.log(o)*Math.LOG10E)),this.zoomToValues(n,a,i)},zoomToValues:function(t,i,o){if(i<t){var r=i;i=t,t=r}var n=this.fullMax,r=this.fullMin;if(this.relativeStart=e.roundTo((t-r)/(n-r),9),this.relativeEnd=e.roundTo((i-r)/(n-r),9),this.logarithmic){isNaN(this.minimum)||(r=this.minimum),isNaN(this.maximum)||(n=this.maximum);var n=Math.log(n)*Math.LOG10E-Math.log(r)*Math.LOG10E,a=Math.log(i)/Math.LN10-Math.log(r)*Math.LOG10E;this.relativeStart=e.roundTo((Math.log(t)/Math.LN10-Math.log(r)*Math.LOG10E)/n,9),this.relativeEnd=e.roundTo(a/n,9)}if(this.minZoom!=t||this.maxZoom!=i)return this.minZoom=t,this.maxZoom=i,r={type:"axisZoomed"},r.chart=this.chart,r.valueAxis=this,r.startValue=t,r.endValue=i,r.relativeStart=this.relativeStart,r.relativeEnd=this.relativeEnd,this.prevStartValue==t&&this.prevEndValue==i||this.fire(r),this.prevStartValue=t,this.prevEndValue=i,o||(t={},e.copyProperties(r,t),t.type="axisIntZoomed",this.fire(t)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(e){if(isNaN(e))return NaN;var t=this.axisWidth,i=this.stepWidth,o=this.reversed,r=this.rotate,n=this.min,a=this.minReal;return!0===this.logarithmic?Math.pow(10,(r?!0===o?(t-e)/i:e/i:!0===o?e/i:(t-e)/i)+Math.log(a)*Math.LOG10E):!0===o?r?n-(e-t)/i:e/i+n:r?e/i+n:n-(e-t)/i},getCoordinate:function(e,t){if(isNaN(e))return NaN;var i=this.rotate,o=this.reversed,r=this.axisWidth,n=this.stepWidth,a=this.min,s=this.minReal;return!0===this.logarithmic?(0===e&&(e=this.treatZeroAs),a=Math.log(e)*Math.LOG10E-Math.log(s)*Math.LOG10E,i=i?!0===o?r-n*a:n*a:!0===o?n*a:r-n*a):i=!0===o?i?r-n*(e-a):n*(e-a):i?n*(e-a):r-n*(e-a),1e7<Math.abs(i)&&(i=i/Math.abs(i)*1e7),t||(i=Math.round(i)),i},synchronizeWithAxis:function(e){this.synchronizeWith=e,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){e.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var t=this.synchronizeWith,i=t.min,o=t.max,t=t.step,r=this.synchronizationMultiplier;r&&(this.min=i*r,this.max=o*r,this.step=t*r,i=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=i=Math.round(i),this.draw())}}})}(),function(){var e=window.AmCharts;e.RecAxis=e.Class({construct:function(t){var i=t.chart,o=t.axisThickness,r=t.axisColor,n=t.axisAlpha,a=t.offset,s=t.dx,l=t.dy,c=t.x,h=t.y,u=t.height,d=t.width,p=i.container;"H"==t.orientation?(r=e.line(p,[0,d],[0,0],r,n,o),this.axisWidth=t.width,"bottom"==t.position?(l=o/2+a+u+h-1,o=c):(l=-o/2-a+h+l,o=s+c)):(this.axisWidth=t.height,"right"==t.position?(r=e.line(p,[0,0,-s],[0,u,u-l],r,n,o),l=h+l,o=o/2+a+s+d+c-1):(r=e.line(p,[0,0],[0,u],r,n,o),l=h,o=-o/2-a+c)),r.translate(o,l),o=i.container.set(),o.push(r),i.axesSet.push(o),e.setCN(i,r,t.bcn+"line"),this.axisSet=o,this.set=r}})}(),function(){var e=window.AmCharts;e.RecItem=e.Class({construct:function(t,i,o,r,n,a,s,l,c,h,u,d){i=Math.round(i);var p=t.chart;this.value=o,void 0==o&&(o=""),c||(c=0),void 0==r&&(r=!0);var f=p.fontFamily,m=t.fontSize;void 0==m&&(m=p.fontSize);var g=t.color;void 0==g&&(g=p.color),void 0!==u&&(g=u);var v=t.chart.container,b=v.set();this.set=b;var w=t.axisThickness,y=t.axisColor,C=t.axisAlpha,x=t.tickLength,S=t.gridAlpha,P=t.gridThickness,T=t.gridColor,O=t.dashLength,k=t.fillColor,A=t.fillAlpha,N=t.labelsEnabled;u=t.labelRotationR;var B,j,I=t.counter,V=t.inside,D=t.labelOffset,_=t.dx,E=t.dy,$=t.orientation,M=t.position,R=t.previousCoord,L=t.height,G=t.width,F=t.offset;s?(void 0!==s.id&&(d=p.classNamePrefix+"-guide-"+s.id),N=!0,isNaN(s.tickLength)||(x=s.tickLength),void 0!=s.lineColor&&(T=s.lineColor),void 0!=s.color&&(g=s.color),isNaN(s.lineAlpha)||(S=s.lineAlpha),isNaN(s.dashLength)||(O=s.dashLength),isNaN(s.lineThickness)||(P=s.lineThickness),!0===s.inside&&(V=!0,0<F&&(F=0)),isNaN(s.labelRotation)||(u=s.labelRotation),isNaN(s.fontSize)||(m=s.fontSize),s.position&&(M=s.position),void 0!==s.boldLabel&&(l=s.boldLabel),isNaN(s.labelOffset)||(D=s.labelOffset)):""===o&&(x=0),h&&!isNaN(t.minorTickLength)&&(x=t.minorTickLength);var z="start";0<n&&(z="middle"),t.centerLabels&&(z="middle");var H,W,U=u*Math.PI/180,Y=0,X=0,q=0,Z=H=0,K=0;"V"==$&&(u=0);var J;N&&""!==o&&(J=t.autoWrap&&0===u?e.wrappedText(v,o,g,f,m,z,l,Math.abs(n),0):e.text(v,o,g,f,m,z,l),z=J.getBBox(),Z=z.width,K=z.height),"H"==$?(0<=i&&i<=G+1&&(0<x&&0<C&&i+c<=G+1&&(B=e.line(v,[i+c,i+c],[0,x],y,C,P),b.push(B)),0<S&&(j=e.line(v,[i,i+_,i+_],[L,L+E,E],T,S,P,O),b.push(j))),X=0,Y=i,s&&90==u&&V&&(Y-=m),!1===r?(z="start",X="bottom"==M?V?X+x:X-x:V?X-x:X+x,Y+=3,0<n&&(Y+=n/2-3,z="middle"),0<u&&(z="middle")):z="middle",1==I&&0<A&&!s&&!h&&R<G&&(r=e.fitToBounds(i,0,G),R=e.fitToBounds(R,0,G),0<(H=r-R)&&(W=e.rect(v,H,t.height,k,A),W.translate(r-H+_,E),b.push(W))),"bottom"==M?(X+=L+m/2+F,V?(0<u?(X=L-Z/2*Math.sin(U)-x-3,t.centerRotatedLabels||(Y+=Z/2*Math.cos(U)-4+2)):0>u?(X=L+Z*Math.sin(U)-x-3+2,Y+=-Z*Math.cos(U)-K*Math.sin(U)-4):X-=x+m+3+3,X-=D):(0<u?(X=L+Z/2*Math.sin(U)+x+3,t.centerRotatedLabels||(Y-=Z/2*Math.cos(U))):0>u?(X=L+x+3-Z/2*Math.sin(U)+2,Y+=Z/2*Math.cos(U)):X+=x+w+3+3,X+=D)):(X+=E+m/2-F,Y+=_,V?(0<u?(X=Z/2*Math.sin(U)+x+3,t.centerRotatedLabels||(Y-=Z/2*Math.cos(U))):X+=x+3,X+=D):(0<u?(X=-Z/2*Math.sin(U)-x-6,t.centerRotatedLabels||(Y+=Z/2*Math.cos(U))):X-=x+m+3+w+3,X-=D)),"bottom"==M?H=(V?L-x-1:L+w-1)+F:(q=_,H=(V?E:E-x-w+1)-F),a&&(Y+=a),m=Y,0<u&&(m+=Z/2*Math.cos(U)),J&&(a=0,V&&(a=Z/2*Math.cos(U)),m+a>G+2||0>m)&&(J.remove(),J=null)):(0<=i&&i<=L+1&&(0<x&&0<C&&i+c<=L+1&&(B=e.line(v,[0,x+1],[i+c,i+c],y,C,P),b.push(B)),0<S&&(j=e.line(v,[0,_,G+_],[i,i+E,i+E],T,S,P,O),b.push(j))),z="end",(!0===V&&"left"==M||!1===V&&"right"==M)&&(z="start"),X=i-K/2+2,1==I&&0<A&&!s&&!h&&(r=e.fitToBounds(i,0,L),R=e.fitToBounds(R,0,L),U=r-R,W=e.polygon(v,[0,t.width,t.width,0],[0,0,U,U],k,A),W.translate(_,r-U+E),b.push(W)),X+=m/2,"right"==M?(Y+=_+G+F,X+=E,V?(a||(X-=m/2+3),Y=Y-(x+4)-D):(Y+=x+4+w,X-=2,Y+=D)):V?(Y+=x+4-F,a||(X-=m/2+3),s&&(Y+=_,X+=E),Y+=D):(Y+=-x-w-4-2-F,X-=2,Y-=D),B&&("right"==M?(q+=_+F+G-1,H+=E,q=V?q-w:q+w):(q-=F,V||(q-=x+w))),a&&(X+=a),V=-3,"right"==M&&(V+=E),J&&(X>L+1||X<V-m/10)&&(J.remove(),J=null)),B&&(B.translate(q,H),e.setCN(p,B,t.bcn+"tick"),e.setCN(p,B,d,!0),s&&e.setCN(p,B,"guide")),!1===t.visible&&(B&&B.remove(),J&&(J.remove(),J=null)),J&&(J.attr({"text-anchor":z}),J.translate(Y,X,NaN,!0),0!==u&&J.rotate(-u,t.chart.backgroundColor),t.allLabels.push(J),this.label=J,e.setCN(p,J,t.bcn+"label"),e.setCN(p,J,d,!0),s&&e.setCN(p,J,"guide")),j&&(e.setCN(p,j,t.bcn+"grid"),e.setCN(p,j,d,!0),s&&e.setCN(p,j,"guide")),W&&(e.setCN(p,W,t.bcn+"fill"),e.setCN(p,W,d,!0)),h?j&&e.setCN(p,j,t.bcn+"grid-minor"):(t.counter=0===I?1:0,t.previousCoord=i),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var e=window.AmCharts;e.RecFill=e.Class({construct:function(t,o,r,n){var a=t.dx,s=t.dy,l=t.orientation,c=0;if(r<o){var h=o;o=r,r=h}var u=n.fillAlpha;isNaN(u)&&(u=0);var h=t.chart.container,d=n.fillColor;"V"==l?(o=e.fitToBounds(o,0,t.height),r=e.fitToBounds(r,0,t.height)):(o=e.fitToBounds(o,0,t.width),r=e.fitToBounds(r,0,t.width)),r-=o,isNaN(r)&&(r=4,c=2,u=0),0>r&&"object"==(void 0===d?"undefined":i(d))&&(d=d.join(",").split(",").reverse()),"V"==l?(l=e.rect(h,t.width,r,d,u),l.translate(a,o-c+s)):(l=e.rect(h,r,t.height,d,u),l.translate(o-c+a,s)),e.setCN(t.chart,l,"guide-fill"),n.id&&e.setCN(t.chart,l,"guide-fill-"+n.id),this.set=h.set([l])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var e=window.AmCharts;e.AmChart=e.Class({construct:function(t){this.svgIcons=this.tapToActivate=!0,this.theme=t,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.21.13",e.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var i=document.createElement("div"),o=i.style;o.overflow="hidden",o.position="relative",o.textAlign="left",this.chartDiv=i,i=document.createElement("div"),o=i.style,o.overflow="hidden",o.position="relative",o.textAlign="left",this.legendDiv=i,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new e.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},e.applyTheme(this,t,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(e,t,i){this.accessible&&e&&(i&&e.setAttr("role",i),e.setAttr("aria-label",t))},drawBackground:function(){e.remove(this.background);var t=this.container,i=this.backgroundColor,o=this.backgroundAlpha,r=this.set;e.isModern||0!==o||(o=.001);var n=this.updateWidth();this.realWidth=n;var a=this.updateHeight();this.realHeight=a,i=e.polygon(t,[0,n-1,n-1,0],[0,0,a-1,a-1],i,o,1,this.borderColor,this.borderAlpha),e.setCN(this,i,"bg"),this.background=i,r.push(i),(i=this.backgroundImage)&&(t=t.image(i,0,0,n,a),e.setCN(this,i,"bg-image"),this.bgImg=t,r.push(t))},drawTitles:function(t){var i=this.titles;if(this.titleHeight=0,e.ifArray(i)){var o,r=20;for(o=0;o<i.length;o++){var n=i[o],n=e.processObject(n,e.Title,this.theme);if(!1!==n.enabled){var a=n.color;void 0===a&&(a=this.color);var s=n.size;isNaN(s)&&(s=this.fontSize+2),isNaN(n.alpha);var l=this.marginLeft,c=!0;void 0!==n.bold&&(c=n.bold),a=e.wrappedText(this.container,n.text,a,this.fontFamily,s,"middle",c,this.realWidth-35-this.marginRight-l),a.translate(l+(this.realWidth-this.marginRight-l)/2,r),a.node.style.pointerEvents="none",n.sprite=a,void 0!==n.tabIndex&&a.setAttr("tabindex",n.tabIndex),e.setCN(this,a,"title"),n.id&&e.setCN(this,a,"title-"+n.id),a.attr({opacity:n.alpha}),r+=a.getBBox().height+5,t?a.remove():this.freeLabelsSet.push(a)}}this.titleHeight=r-10}},write:function(e){var t=this;if(t.listeners)for(var i=0;i<t.listeners.length;i++){var o=t.listeners[i];t.addListener(o.event,o.method)}t.fire({type:"buildStarted",chart:t}),t.afterWriteTO&&clearTimeout(t.afterWriteTO),0<t.processTimeout?t.afterWriteTO=setTimeout(function(){t.afterWrite.call(t,e)},t.processTimeout):t.afterWrite(e)},afterWrite:function(t){var o;if(o="object"!=(void 0===t?"undefined":i(t))?document.getElementById(t):t){for(;o.firstChild;)o.removeChild(o.firstChild);this.div=o,o.style.overflow="hidden",o.style.textAlign="left",t=this.chartDiv;var r=this.legendDiv,n=this.legend,a=r.style,s=t.style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var l,c=document.createElement("div");if(l=c.style,l.position="relative",this.containerDiv=c,c.className=this.classNamePrefix+"-main-div",t.className=this.classNamePrefix+"-chart-div",o.appendChild(c),(o=this.exportConfig)&&e.AmExport&&!this.AmExport&&(this.AmExport=new e.AmExport(this,o)),this.amExport&&e.AmExport&&(this.AmExport=e.extend(this.amExport,new e.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),n){if(n=this.addLegend(n,n.divId),n.enabled)switch(a.left=null,a.top=null,a.right=null,s.left=null,s.right=null,s.top=null,a.position="relative",s.position="relative",l.width="100%",l.height="100%",n.position){case"bottom":c.appendChild(t),c.appendChild(r);break;case"top":c.appendChild(r),c.appendChild(t);break;case"absolute":a.position="absolute",s.position="absolute",void 0!==n.left&&(a.left=n.left+"px"),void 0!==n.right&&(a.right=n.right+"px"),void 0!==n.top&&(a.top=n.top+"px"),void 0!==n.bottom&&(a.bottom=n.bottom+"px"),n.marginLeft=0,n.marginRight=0,c.appendChild(t),c.appendChild(r);break;case"right":a.position="relative",s.position="absolute",c.appendChild(t),c.appendChild(r);break;case"left":a.position="absolute",s.position="relative",c.appendChild(t),c.appendChild(r);break;case"outside":c.appendChild(t)}else c.appendChild(t);this.prevLegendPosition=n.position}else c.appendChild(t);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),(this.mouseWheelScrollEnabled||this.mouseWheelZoomEnabled)&&e.addWheelListeners(),this.initChart()}},createLabelsSet:function(){e.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=e.processObject(this.balloon,e.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=e.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=e.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(e.callInitHandler(this),this.initHC=!0),e.applyLang(this.language,this);var t=this.numberFormatter;t&&(isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator)),(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(t=this.container)?(t.container.innerHTML="",t.width=this.realWidth,t.height=this.realHeight,t.addDefs(this),this.chartDiv.appendChild(t.container)):t=new e.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=t,this.extension=".png",this.svgIcons&&e.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),t.chart=this,e.VML||e.SVG?(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,e.remove(this.set),this.set=t.set(),e.remove(this.gridSet),this.gridSet=t.set(),e.remove(this.cursorLineSet),this.cursorLineSet=t.set(),e.remove(this.graphsBehindSet),this.graphsBehindSet=t.set(),e.remove(this.bulletBehindSet),this.bulletBehindSet=t.set(),e.remove(this.columnSet),this.columnSet=t.set(),e.remove(this.graphsSet),this.graphsSet=t.set(),e.remove(this.trendLinesSet),this.trendLinesSet=t.set(),e.remove(this.axesSet),this.axesSet=t.set(),e.remove(this.cursorSet),this.cursorSet=t.set(),e.remove(this.scrollbarsSet),this.scrollbarsSet=t.set(),e.remove(this.bulletSet),this.bulletSet=t.set(),e.remove(this.freeLabelsSet),this.freeLabelsSet=t.set(),e.remove(this.axesLabelsSet),this.axesLabelsSet=t.set(),e.remove(this.balloonsSet),this.balloonsSet=t.set(),e.remove(this.plotBalloonsSet),this.plotBalloonsSet=t.set(),e.remove(this.zoomButtonSet),this.zoomButtonSet=t.set(),e.remove(this.zbSet),this.zbSet=null,e.remove(this.linkSet),this.linkSet=t.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var e=this.div;if(e){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(e){}var t=e.offsetWidth,i=e.offsetHeight;e.clientHeight&&(t=e.clientWidth,i=e.clientHeight),t==this.mw&&i==this.mh||(this.mw=t,this.mh=i,this.measure())}},measure:function(){var t=this.div;if(t){var i=this.chartDiv,o=t.offsetWidth,r=t.offsetHeight,n=this.container;t.clientHeight&&(o=t.clientWidth,r=t.clientHeight);var r=Math.round(r),o=Math.round(o),t=Math.round(e.toCoordinate(this.width,o)),a=Math.round(e.toCoordinate(this.height,r));(o!=this.previousWidth||r!=this.previousHeight)&&0<t&&0<a&&(i.style.width=t+"px",i.style.height=a+"px",i.style.padding=0,n&&n.setSize(t,a),this.balloon=e.processObject(this.balloon,e.AmBalloon,this.theme)),this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,t-2,a),this.updateWidth(),this.balloon.chart=this,this.realWidth=t,this.realHeight=a,this.divRealWidth=o,this.divRealHeight=r}},checkDisplay:function(){if(this.autoDisplay&&this.container){var t=e.rect(this.container,10,10),i=t.getBBox();0===i.width&&0===i.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),t.remove()}},checkTransform:function(e){if(this.autoTransform&&window.getComputedStyle&&e){if(e.style){var t=window.getComputedStyle(e,null);if(t&&(t=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform"))&&"none"!==t){var i=t.split("(")[1].split(")")[0].split(","),t=i[0],i=i[1],t=Math.sqrt(t*t+i*i);isNaN(t)||(this.cssScale*=t)}}e.parentNode&&this.checkTransform(e.parentNode)}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var e=this.timeOuts;if(e){var t;for(t=0;t<e.length;t++)clearTimeout(e[t])}this.timeOuts=[]},clear:function(t){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch(e){}if(e.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||e.removeChart(this),t=this.div)for(;t.firstChild;)t.removeChild(t.firstChild);this.legend&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(t){"auto"==t&&e.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var e=this.allLabels;this.createLabelsSet();var t;for(t=0;t<e.length;t++)this.drawLabel(e[t])},drawLabel:function(t){var i=this;if(i.container&&!1!==t.enabled){t=e.processObject(t,e.Label,i.theme);var o=t.y,r=t.text,n=t.align,a=t.size,s=t.color,l=t.rotation,c=t.alpha,h=t.bold,u=e.toCoordinate(t.x,i.realWidth),o=e.toCoordinate(o,i.realHeight);u||(u=0),o||(o=0),void 0===s&&(s=i.color),isNaN(a)&&(a=i.fontSize),n||(n="start"),"left"==n&&(n="start"),"right"==n&&(n="end"),"center"==n&&(n="middle",l?o=i.realHeight-o+o/2:u=i.realWidth/2-u),void 0===c&&(c=1),void 0===l&&(l=0),o+=a/2,r=e.text(i.container,r,s,i.fontFamily,a,n,h,c),r.translate(u,o),void 0!==t.tabIndex&&r.setAttr("tabindex",t.tabIndex),e.setCN(i,r,"label"),t.id&&e.setCN(i,r,"label-"+t.id),0!==l&&r.rotate(l),t.url?(r.setAttr("cursor","pointer"),r.click(function(){e.getURL(t.url,i.urlTarget)})):r.node.style.pointerEvents="none",i.labelsSet.push(r),i.labels.push(r)}},addLabel:function(e,t,i,o,r,n,a,s,l,c){e={x:e,y:t,text:i,align:o,size:r,color:n,alpha:s,rotation:a,bold:l,url:c,enabled:!0},this.container&&this.drawLabel(e),this.allLabels.push(e)},clearLabels:function(){var e,t=this.labels;for(e=t.length-1;0<=e;e--)t[e].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var e=this.divRealHeight,t=this.legend;if(t){var i=this.legendDiv.offsetHeight,t=t.position;"top"!=t&&"bottom"!=t||(e-=i,(0>e||isNaN(e))&&(e=0),this.chartDiv.style.height=e+"px")}return e},updateWidth:function(){var e=this.divRealWidth,t=this.divRealHeight,i=this.legend;if(i){var o=this.legendDiv,r=o.offsetWidth;isNaN(i.width)||(r=i.width),i.ieW&&(r=i.ieW);var n=o.offsetHeight,o=o.style,a=this.chartDiv.style,s=i.position;"right"!=s&&"left"!=s||void 0!==i.divId||(e-=r,(0>e||isNaN(e))&&(e=0),a.width=e+"px",this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,e-2,this.realHeight),"left"==s?(a.left=r+"px",o.left="0px"):(a.left="0px",o.left=e+"px"),t>n&&(o.top=(t-n)/2+"px"))}return e},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(e,t,i,o,r){return isNaN(t)&&(t=this.fontSize+2),e={text:e,size:t,color:i,alpha:o,bold:r,enabled:!0},this.titles.push(e),e},handleWheel:function(e){var t=0;e||(e=window.event),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t&&this.handleWheelReal(t,e.shiftKey),e.preventDefault&&e.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY,this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){-.5<this.tmx&&this.tmx<this.divRealWidth+1&&0<this.tmy&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(e){var t=this,i=(new Date).getTime();if(e)if(e.touches)t.isTouchEvent=!0;else if(!t.isTouchEvent)return!0;if(i-t.touchStartTime>t.touchClickDuration)return!0;setTimeout(function(){t.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(4<Math.abs(this.mouseX-this.tmx)||4<Math.abs(this.mouseY-this.tmy))return!0},addListeners:function(){var e=this,t=e.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){e.handleTouchStart.call(e,t)},!0),t.addEventListener("touchmove",function(t){e.handleMouseMove.call(e,t)},!0),t.addEventListener("touchend",function(t){e.handleTouchEnd.call(e,t)},!0),e.docfn1=function(t){e.handleDocTouchStart.call(e,t)},e.docfn2=function(t){e.handleDocTouchEnd.call(e,t)},document.addEventListener("touchstart",e.docfn1,!0),document.addEventListener("touchend",e.docfn2,!0)),t.addEventListener("mousedown",function(t){e.mouseIsOver=!0,e.handleMouseMove.call(e,t),e.handleMouseDown.call(e,t),e.handleDocTouchStart.call(e,t)},!0),t.addEventListener("mouseover",function(t){e.handleMouseOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleMouseOut.call(e,t)},!0),t.addEventListener("mouseup",function(t){e.handleDocTouchEnd.call(e,t)},!0)):(t.attachEvent("onmousedown",function(t){e.handleMouseDown.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleMouseOver.call(e,t)}),t.attachEvent("onmouseout",function(t){e.handleMouseOut.call(e,t)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var e=this;if(e.premeasure(),e.checkDisplay(),e.cssScale=1,e.cssAngle=0,e.checkTransform(e.div),e.divRealWidth!=e.previousWidth||e.divRealHeight!=e.previousHeight){var t=e.legend;if(0<e.realWidth&&0<e.realHeight){if(e.sizeChanged=!0,t){e.legendInitTO&&clearTimeout(e.legendInitTO);var i=setTimeout(function(){t.invalidateSize()},10);e.timeOuts.push(i),e.legendInitTO=i}e.marginsUpdated=!1,clearTimeout(e.initTO),i=setTimeout(function(){e.initChart()},10),e.timeOuts.push(i),e.initTO=i}e.renderFix(),t&&t.renderFix&&t.renderFix(),e.positionCred(),clearTimeout(e.resizedTO),e.resizedTO=setTimeout(function(){e.fire({type:"resized",chart:e})},10),e.previousHeight=e.divRealHeight,e.previousWidth=e.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var e=this;e.marginsUpdated=!1,clearTimeout(e.validateTO);var t=setTimeout(function(){e.validateSize()},5);e.timeOuts.push(t),e.validateTO=t},validateData:function(e){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(e))},validateNow:function(e,t){this.initTO&&clearTimeout(this.initTO),e&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=t,this.chartRendered=!1;var i=this.legend;i&&i.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,i.invalidateSize&&(i.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(e){e.hidden=!1,this.initChart()},hideItem:function(e){e.hidden=!0,this.initChart()},hideBalloon:function(){var e=this;clearTimeout(e.hoverInt),clearTimeout(e.balloonTO),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},e.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var e=this.balloon;e&&e.hide&&e.hide()},showBalloon:function(e,t,i,o,r){var n=this;clearTimeout(n.balloonTO),clearTimeout(n.hoverInt),n.balloonTO=setTimeout(function(){n.showBalloonReal.call(n,e,t,i,o,r)},1)},showBalloonReal:function(e,t,i,o,r){this.handleMouseMove();var n=this.balloon;n.enabled&&(n.followCursor(!1),n.changeColor(t),!i||n.fixedPosition?(n.setPosition(o,r),isNaN(o)||isNaN(r)?n.followCursor(!0):n.followCursor(!1)):n.followCursor(!0),e&&n.showBalloon(e))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),e.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var t=this;e.resetMouseOver(),t.outTO&&clearTimeout(t.outTO),t.outTO=setTimeout(function(){t.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(e){e||(e=window.event),this.mouse2Y=this.mouse2X=NaN;var t,i,o,r;if(e){if(e.touches){var n=e.touches.item(1);if(n&&this.panEventsEnabled&&this.boundingRect&&(o=n.clientX-this.boundingRect.left,r=n.clientY-this.boundingRect.top),!(e=e.touches.item(0)))return}else this.wasTouched=!1;this.boundingRect&&e.clientX&&(t=e.clientX-this.boundingRect.left,i=e.clientY-this.boundingRect.top),isNaN(o)?this.mouseX=t:(this.mouseX=Math.min(t,o),this.mouse2X=Math.max(t,o)),isNaN(r)?this.mouseY=i:(this.mouseY=Math.min(i,r),this.mouse2Y=Math.max(i,r)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(e){this.hideBalloonReal(),e&&(e.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(e),this.handleMouseDown(e))},handleTouchEnd:function(t){this.wasTouched=!0,this.handleMouseMove(t),e.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(t){e.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&(this.panEventsEnabled?t.preventDefault():t.touches||t.preventDefault())},addLegend:function(t,o){t=e.processObject(t,e.AmLegend,this.theme),t.divId=o,t.ieW=0;var r;return r="object"!=(void 0===o?"undefined":i(o))&&o?document.getElementById(o):o,this.legend=t,t.chart=this,r?(t.div=r,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,t},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(e.isPercents(this.width)||e.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!e.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){if(e.hasSVG)return this.container},animate:function(t,i,o,r,n,a,s){return t["an_"+i]&&e.removeFromArray(this.animations,t["an_"+i]),o={obj:t,frame:0,attribute:i,from:o,to:r,time:n,effect:a,suffix:s},t["an_"+i]=o,this.animations.push(o),o},setLegendData:function(e){var t=this.legend;t&&t.setData(e)},stopAnim:function(t){e.removeFromArray(this.animations,t)},updateAnimations:function(){var t;if(this.container&&this.container.update(),this.animations)for(t=this.animations.length-1;0<=t;t--){var i=this.animations[t],o=e.updateRate*i.time,r=i.frame+1,n=i.obj,a=i.attribute;if(r<=o){i.frame++;var s=Number(i.from),l=Number(i.to)-s,o=e[i.effect](0,r,s,l,o);0===l?(this.animations.splice(t,1),n.node.style[a]=Number(i.to)+i.suffix):n.node.style[a]=o+i.suffix}else n.node.style[a]=Number(i.to)+i.suffix,n.animationFinished=!0,this.animations.splice(t,1)}},update:function(){this.updateAnimations();var e=this.animatable;if(0<e.length){for(var t=!0,i=e.length-1;0<=i;i--){var o=e[i];o&&(o.animationFinished?e.splice(i,1):t=!1)}t&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(e){return!0}},brr:function(){if(!this.hideCredits){var e,t="amcharts.com",i=window.location.hostname.split(".");if(2<=i.length&&(e=i[i.length-2]+"."+i[i.length-1]),this.amLink&&(i=this.amLink.parentNode)&&i.removeChild(this.amLink),e!=t||!0===this.inIframe()){e=t="http://www."+t;var i="JavaScript charts",o="JS chart by amCharts";"ammap"==this.product&&(e=t+"/javascript-maps/",i="Interactive JavaScript maps",o="JS map by amCharts"),t=document.createElement("a"),o=document.createTextNode(o),t.setAttribute("href",e),t.setAttribute("title",i),this.urlTarget&&t.setAttribute("target",this.urlTarget),t.appendChild(o),this.chartDiv.appendChild(t),this.amLink=t,t=t.style,t.position="absolute",t.textDecoration="none",t.color=this.color,t.fontFamily=this.fontFamily,t.fontSize="11px",t.opacity=.7,t.display="block",this.positionCred()}}},positionCred:function(){var e=this.amLink;if(e){var t=this.creditsPosition,i=e.style,o=e.offsetWidth,e=e.offsetHeight,r=0,n=0,a=this.realWidth,s=this.realHeight,l=this.type;"serial"!=l&&"xy"!=l&&"gantt"!=l||(r=this.marginLeftReal,n=this.marginTopReal,a=r+this.plotAreaWidth,s=n+this.plotAreaHeight);var l=5+r,c=n+5;"bottom-left"==t&&(l=5+r,c=s-e-3),"bottom-right"==t&&(l=a-o-5,c=s-e-3),"top-right"==t&&(l=a-o-5,c=n+5),i.left=l+"px",i.top=c+"px"}}}),e.Slice=e.Class({construct:function(){}}),e.SerialDataItem=e.Class({construct:function(){}}),e.GraphDataItem=e.Class({construct:function(){}}),e.Guide=e.Class({construct:function(t){this.cname="Guide",e.applyTheme(this,t,this.cname)}}),e.Title=e.Class({construct:function(t){this.cname="Title",e.applyTheme(this,t,this.cname)}}),e.Label=e.Class({construct:function(t){this.cname="Label",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.AmGraph=e.Class({construct:function(t){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.minDistance=.8,this.tcc=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,e.applyTheme(this,t,this.cname)},init:function(){this.createBalloon()},draw:function(){var t=this.chart;t.isRolledOverBullet=!1;var i=t.type;if(t.drawGraphs){isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator});var o=t.container;this.container=o,this.destroy();var r=o.set();this.set=r,r.translate(this.x,this.y);var n=o.set();this.bulletSet=n,n.translate(this.x,this.y),this.behindColumns?(t.graphsBehindSet.push(r),t.bulletBehindSet.push(n)):(t.graphsSet.push(r),t.bulletSet.push(n));var a=this.bulletAxis;e.isString(a)&&(this.bulletAxis=t.getValueAxisById(a)),o=o.set(),e.remove(this.columnsSet),this.columnsSet=o,e.setCN(t,r,"graph-"+this.type),e.setCN(t,r,"graph-"+this.id),e.setCN(t,n,"graph-"+this.type),e.setCN(t,n,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],n=this.labelPosition,n||(a=this.valueAxis.stackType,n="top","column"==this.type&&(t.rotate&&(n="right"),"100%"==a||"regular"==a)&&(n="middle"),this.labelPosition=n),e.ifArray(this.data)&&(t=!1,"xy"==i?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(t=!0):this.valueAxis.axisCreated&&(t=!0),!this.hidden&&t&&this.createGraph()),r.push(o)}},createGraph:function(){var t=this,i=t.chart;t.startAlpha=i.startAlpha,t.seqAn=i.sequencedAnimation,t.baseCoord=t.valueAxis.baseCoord,void 0===t.fillAlphas&&(t.fillAlphas=0),t.bulletColorR=t.bulletColor,void 0===t.bulletColorR&&(t.bulletColorR=t.lineColorR,t.bulletColorNegative=t.negativeLineColor),void 0===t.bulletAlpha&&(t.bulletAlpha=t.lineAlpha),("step"==o||e.VML)&&(t.noRounding=!1);var o=i.type;if("gantt"==o&&(o="serial"),clearTimeout(t.playedTO),!isNaN(t.valueAxis.min)&&!isNaN(t.valueAxis.max)){switch(o){case"serial":t.categoryAxis&&(t.createSerialGraph(),"candlestick"==t.type&&1>t.valueAxis.minMaxMultiplier&&t.positiveClip(t.set));break;case"radar":t.createRadarGraph();break;case"xy":t.createXYGraph()}t.playedTO=setTimeout(function(){t.setAnimationPlayed.call(t)},500*t.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var e=[],t=[],i=this.xAxis,o=this.yAxis;this.pmh=o.height,this.pmw=i.width,this.pmy=this.pmx=0;var r;for(r=this.start;r<=this.end;r++){var n=this.data[r].axes[i.id].graphs[this.id],a=n.values,s=a.x,l=a.y,a=i.getCoordinate(s,this.noRounding),c=o.getCoordinate(l,this.noRounding);if(!isNaN(s)&&!isNaN(l)&&(e.push(a),t.push(c),n.x=a,n.y=c,s=this.createBullet(n,a,c,r),l=this.labelText)){var l=this.createLabel(n,l),h=0;s&&(h=s.size),this.positionLabel(n,a,c,l,h)}}this.drawLineGraph(e,t),this.launchAnimation()},createRadarGraph:function(){var e,t,i,o,r,n=this.valueAxis.stackType,a=[],s=[],l=[],c=[];for(r=this.start;r<=this.end;r++){var h,u,d=this.data[r].axes[this.valueAxis.id].graphs[this.id];if("none"==n||"3d"==n?h=d.values.value:(h=d.values.close,u=d.values.open),isNaN(h))this.connect||(this.drawLineGraph(a,s,l,c),a=[],s=[],l=[],c=[]);else{var p=this.valueAxis.getCoordinate(h,this.noRounding)-this.height,p=p*this.valueAxis.rMultiplier,f=-360/(this.end-this.start+1)*r;if("middle"==this.valueAxis.pointPosition&&(f-=180/(this.end-this.start+1)),h=p*Math.sin(f/180*Math.PI),p*=Math.cos(f/180*Math.PI),a.push(h),s.push(p),!isNaN(u)){var m=this.valueAxis.getCoordinate(u,this.noRounding)-this.height,m=m*this.valueAxis.rMultiplier,g=m*Math.sin(f/180*Math.PI),f=m*Math.cos(f/180*Math.PI);l.push(g),c.push(f),isNaN(i)&&(i=g),isNaN(o)&&(o=f)}f=this.createBullet(d,h,p,r),d.x=h,d.y=p,(g=this.labelText)&&(g=this.createLabel(d,g),m=0,f&&(m=f.size),this.positionLabel(d,h,p,g,m)),isNaN(e)&&(e=h),isNaN(t)&&(t=p)}}a.push(e),s.push(t),isNaN(i)||(l.push(i),c.push(o)),this.drawLineGraph(a,s,l,c),this.launchAnimation()},positionLabel:function(e,t,i,o,r){if(o){var n=this.chart,a=this.valueAxis,s="middle",l=!1,c=this.labelPosition,h=o.getBBox(),u=this.chart.rotate,d=e.isNegative,p=this.fontSize;switch(void 0===p&&(p=this.chart.fontSize),i-=h.height/2-p/2-1,void 0!==e.labelIsNegative&&(d=e.labelIsNegative),c){case"right":c=u&&d?"left":"right";break;case"top":c=u?"top":d?"bottom":"top";break;case"bottom":c=u?"bottom":d?"top":"bottom";break;case"left":c=u&&d?"right":"left"}var p=e.columnGraphics,f=0,m=0;p&&(f=p.x,m=p.y);var g=this.labelOffset;switch(c){case"right":s="start",t+=r/2+g;break;case"top":i=a.reversed?i+(r/2+h.height/2+g):i-(r/2+h.height/2+g);break;case"bottom":i=a.reversed?i-(r/2+h.height/2+g):i+(r/2+h.height/2+g);break;case"left":s="end",t-=r/2+g;break;case"inside":"column"==this.type&&(l=!0,u?d?(s="end",t=f-3-g):(s="start",t=f+3+g):i=d?m+7+g:m-10-g);break;case"middle":"column"==this.type&&(l=!0,u?t-=(t-f)/2+g-3:i-=(i-m)/2+g-3)}return"auto"!=this.labelAnchor&&(s=this.labelAnchor),o.attr({"text-anchor":s}),this.labelRotation&&o.rotate(this.labelRotation),o.translate(t,i),!this.showAllValueLabels&&p&&l&&(h=o.getBBox(),h.height>e.columnHeight||h.width>e.columnWidth)&&(o.remove(),o=null),o&&"radar"!=n.type&&(u?((0>i||i>this.height)&&(o.remove(),o=null),!this.showAllValueLabels&&o&&(0>t||t>this.width)&&(o.remove(),o=null)):((0>t||t>this.width)&&(o.remove(),o=null),!this.showAllValueLabels&&o&&(0>i||i>this.height)&&(o.remove(),o=null))),o&&this.allBullets.push(o),o}},getGradRotation:function(){var e=270;return"horizontal"==this.gradientOrientation&&(e=0),this.gradientRotation=e},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var t=this.chart,o=this.id,r=this.index,n=this.data,a=this.chart.container,s=this.valueAxis,l=this.type,c=this.columnWidthReal,h=this.showBulletsAt;isNaN(this.columnWidth)||(c=this.columnWidth),isNaN(c)&&(c=.8);var u,d,p,f,m,g=this.useNegativeColorIfDown,v=this.width,b=this.height,w=this.y,y=this.rotate,C=this.columnCount,x=e.toCoordinate(this.cornerRadiusTop,c/2),S=this.connect,P=[],T=[],O=this.chart.graphs.length,k=this.dx/this.tcc,A=this.dy/this.tcc,N=s.stackType,B=this.start,j=this.end,I=this.scrollbar,V="graph-column-";I&&(V="scrollbar-graph-column-");var D,_=this.categoryAxis,E=this.baseCoord,$=this.negativeBase,M=this.columnIndex,R=this.lineThickness,L=this.lineAlpha,G=this.lineColorR,F=this.dashLength,z=this.set,H=this.getGradRotation(),W=this.chart.columnSpacing,U=_.cellWidth,Y=(U*c-C)/C;W>Y&&(W=Y);var X,q,Z,K=b,J=v,Q=0,ee=0,te=0,ie=0,oe=0,re=0,ne=this.fillColorsR,ae=this.negativeFillColors,se=this.negativeLineColor,le=this.fillAlphas,ce=this.negativeFillAlphas;"object"==(void 0===le?"undefined":i(le))&&(le=le[0]),"object"==(void 0===ce?"undefined":i(ce))&&(ce=ce[0]);var he=this.noRounding;"step"==l&&(he=!1);var ue=s.getCoordinate(s.min);if(s.logarithmic&&(ue=s.getCoordinate(s.minReal)),this.minCoord=ue,this.resetBullet&&(this.bullet="none"),!(I||"line"!=l&&"smoothedLine"!=l&&"step"!=l||(1==n.length&&"step"!=l&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!ae&&void 0==se||g))){var de=$;de>s.max&&(de=s.max),de<s.min&&(de=s.min),s.logarithmic&&(de=s.minReal);var pe=s.getCoordinate(de)+.5,fe=s.getCoordinate(s.max);y?(K=b,J=Math.abs(fe-pe),te=b,ie=Math.abs(ue-pe),re=ee=0,s.reversed?(Q=0,oe=pe):(Q=pe,oe=0)):(J=v,K=Math.abs(fe-pe),ie=v,te=Math.abs(ue-pe),oe=Q=0,s.reversed?(re=w,ee=pe):re=pe)}var me=Math.round;this.pmx=me(Q),this.pmy=me(ee),this.pmh=me(K),this.pmw=me(J),this.nmx=me(oe),this.nmy=me(re),this.nmh=me(te),this.nmw=me(ie),e.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(C=1),1>(c="column"==l?(U*c-W*(C-1))/C:U*c)&&(c=1);var ge=this.fixedColumnWidth;isNaN(ge)||(c=ge);var ve;if("line"==l||"step"==l||"smoothedLine"==l){if(0<B){for(ve=B-1;-1<ve;ve--)if(X=n[ve],q=X.axes[s.id].graphs[o],Z=q.values.value,!isNaN(Z)){B=ve;break}if(this.lineColorField)for(ve=B;-1<ve;ve--)if(X=n[ve],q=X.axes[s.id].graphs[o],q.lineColor){this.lineColorSwitched=q.lineColor,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(ve=B;-1<ve;ve--)if(X=n[ve],q=X.axes[s.id].graphs[o],q.fillColors){this.fillColorsSwitched=q.fillColors;break}if(this.dashLengthField)for(ve=B;-1<ve;ve--)if(X=n[ve],q=X.axes[s.id].graphs[o],!isNaN(q.dashLength)){this.dashLengthSwitched=q.dashLength;break}}if(j<n.length-1)for(ve=j+1;ve<n.length;ve++)if(X=n[ve],q=X.axes[s.id].graphs[o],Z=q.values.value,!isNaN(Z)){j=ve;break}}j<n.length-1&&j++;var be=[],we=[],ye=!1;"line"!=l&&"step"!=l&&"smoothedLine"!=l||(this.stackable&&"regular"==N||"100%"==N||this.fillToGraph)&&(ye=!0);var Ce=this.noStepRisers,xe=-1e3,Se=-1e3,Pe=this.minDistance,Te=!0,Oe=!1;for(ve=B;ve<=j;ve++){X=n[ve],q=X.axes[s.id].graphs[o],q.index=ve;var ke,Ae=NaN;if(g&&void 0==this.openField)for(var Ne=ve+1;Ne<n.length&&(!n[Ne]||!(ke=n[ve+1].axes[s.id].graphs[o])||!ke.values||(Ae=ke.values.value,isNaN(Ae)));Ne++);var Be,je,Ie,Ve,De,_e,Ee=NaN,$e=NaN,Me=NaN,Re=NaN,Le=NaN,Ge=NaN,Fe=NaN,ze=NaN,He=NaN,We=NaN,Ue=NaN,Ye=NaN,Xe=NaN,qe=NaN,Ze=NaN,Ke=NaN,Je=NaN,Qe=void 0,et=ne,tt=le,it=G,ot=this.proCandlesticks,rt=this.topRadius,nt=b-1,at=v-1,st=this.pattern;void 0!=q.pattern&&(st=q.pattern),isNaN(q.alpha)||(tt=q.alpha),isNaN(q.dashLength)||(F=q.dashLength);var lt=q.values;if(s.recalculateToPercents&&(lt=q.percents),"none"==N&&(M=isNaN(q.columnIndex)?this.columnIndex:q.columnIndex),lt){if(qe=this.stackable&&"none"!=N&&"3d"!=N?lt.close:lt.value,"candlestick"!=l&&"ohlc"!=l||(qe=lt.close,Ke=lt.low,Fe=s.getCoordinate(Ke),Ze=lt.high,He=s.getCoordinate(Ze)),Je=lt.open,Me=s.getCoordinate(qe,he),isNaN(Je)||(Le=s.getCoordinate(Je,he),g&&"regular"!=N&&"100%"!=N&&(Ae=Je,Je=Le=NaN)),g&&(void 0==this.openField?ke&&(ke.isNegative=Ae<qe,isNaN(Ae)&&(q.isNegative=!Te)):q.isNegative=Ae>qe),!I)switch(this.showBalloonAt){case"close":q.y=Me;break;case"open":q.y=Le;break;case"high":q.y=He;break;case"low":q.y=Fe}var Ee=X.x[_.id],ct=this.periodSpan-1;"step"!=l||isNaN(X.cellWidth)||(U=X.cellWidth);var ht=Math.floor(U/2)+Math.floor(ct*U/2),ut=ht,dt=0;if("left"==this.stepDirection&&(dt=(2*U+ct*U)/2,Ee-=dt),"center"==this.stepDirection&&(dt=U/2,Ee-=dt),"start"==this.pointPosition&&(Ee-=U/2+Math.floor(ct*U/2),ht=0,ut=Math.floor(U)+Math.floor(ct*U)),"end"==this.pointPosition&&(Ee+=U/2+Math.floor(ct*U/2),ht=Math.floor(U)+Math.floor(ct*U),ut=0),Ce){var pt=this.columnWidth;isNaN(pt)||(ht*=pt,ut*=pt)}I||(q.x=Ee),-1e5>Ee&&(Ee=-1e5),Ee>v+1e5&&(Ee=v+1e5),y?($e=Me,Re=Le,Le=Me=Ee,isNaN(Je)&&!this.fillToGraph&&(Re=E),Ge=Fe,ze=He):(Re=$e=Ee,isNaN(Je)&&!this.fillToGraph&&(Le=E)),(!ot&&qe<Je||ot&&qe<D)&&(q.isNegative=!0,ae&&(et=ae),ce&&(tt=ce),void 0!=se&&(it=se)),Oe=!1,isNaN(qe)||(g?qe>Ae?(Te&&(Oe=!0),Te=!1):(Te||(Oe=!0),Te=!0):q.isNegative=qe<$,D=qe);var ft=!1;switch(I&&t.chartScrollbar.ignoreCustomColors&&(ft=!0),ft||(void 0!=q.color&&(et=q.color),q.fillColors&&(et=q.fillColors)),Me=e.fitToBounds(Me,-3e4,3e4),l){case"line":isNaN(qe)?S||(this.drawLineGraph(P,T,be,we),P=[],T=[],be=[],we=[]):((Math.abs($e-xe)>=Pe||Math.abs(Me-Se)>=Pe)&&(P.push($e),T.push(Me),xe=$e,Se=Me),We=$e,Ue=Me,Ye=$e,Xe=Me,!ye||isNaN(Le)||isNaN(Re)||(be.push(Re),we.push(Le)),(Oe||void 0!=q.lineColor&&q.lineColor!=this.lineColorSwitched||void 0!=q.fillColors&&q.fillColors!=this.fillColorsSwitched||!isNaN(q.dashLength))&&(this.drawLineGraph(P,T,be,we),P=[$e],T=[Me],be=[],we=[],!ye||isNaN(Le)||isNaN(Re)||(be.push(Re),we.push(Le)),g?(Te?(this.lineColorSwitched=G,this.fillColorsSwitched=ne):(this.lineColorSwitched=se,this.fillColorsSwitched=ae),void 0===this.bulletColor&&(this.bulletColorSwitched=G)):(this.lineColorSwitched=q.lineColor,this.fillColorsSwitched=q.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=q.dashLength),q.gap&&(this.drawLineGraph(P,T,be,we),P=[],T=[],be=[],we=[],Se=xe=-1e3));break;case"smoothedLine":isNaN(qe)?S||(this.drawSmoothedGraph(P,T,be,we),P=[],T=[],be=[],we=[]):((Math.abs($e-xe)>=Pe||Math.abs(Me-Se)>=Pe)&&(P.push($e),T.push(Me),xe=$e,Se=Me),We=$e,Ue=Me,Ye=$e,Xe=Me,!ye||isNaN(Le)||isNaN(Re)||(be.push(Re),we.push(Le)),(Oe||void 0!=q.lineColor&&q.lineColor!=this.lineColorSwitched||void 0!=q.fillColors&&q.fillColors!=this.fillColorsSwitched||!isNaN(q.dashLength))&&(this.drawSmoothedGraph(P,T,be,we),P=[$e],T=[Me],be=[],we=[],!ye||isNaN(Le)||isNaN(Re)||(be.push(Re),we.push(Le)),this.lineColorSwitched=q.lineColor,this.fillColorsSwitched=q.fillColors,this.dashLengthSwitched=q.dashLength),q.gap&&(this.drawSmoothedGraph(P,T,be,we),P=[],T=[],be=[],we=[]));break;case"step":if(isNaN(qe))S||((1>=this.periodSpan||1<this.periodSpan&&$e-u>ht+ut)&&(u=d=NaN),this.drawLineGraph(P,T,be,we),P=[],T=[],be=[],we=[]);else{if(y?(isNaN(u)||(P.push(u),T.push(Me-ht)),T.push(Me-ht),P.push($e),T.push(Me+ut),P.push($e),!ye||isNaN(Le)||isNaN(Re)||(isNaN(p)||(be.push(p),we.push(Le-ht)),be.push(Re),we.push(Le-ht),be.push(Re),we.push(Le+ut))):(isNaN(d)||(T.push(d),P.push($e-ht)),P.push($e-ht),T.push(Me),P.push($e+ut),T.push(Me),!ye||isNaN(Le)||isNaN(Re)||(isNaN(f)||(be.push(Re-ht),we.push(f)),be.push(Re-ht),we.push(Le),be.push(Re+ut),we.push(Le))),u=$e,d=Me,p=Re,f=Le,We=$e,Ue=Me,Ye=$e,Xe=Me,Oe||void 0!=q.lineColor||void 0!=q.fillColors||!isNaN(q.dashLength)){var mt=P[P.length-2],gt=T[T.length-2];P.pop(),T.pop(),be.pop(),we.pop(),this.drawLineGraph(P,T,be,we),P=[mt],T=[gt],be=[],we=[],ye&&(be=[mt,mt+ht+ut],we=[f,f]),y?(T.push(Me+ut),P.push($e)):(P.push($e+ut),T.push(Me)),this.lineColorSwitched=q.lineColor,this.fillColorsSwitched=q.fillColors,this.dashLengthSwitched=q.dashLength,g&&(Te?(this.lineColorSwitched=G,this.fillColorsSwitched=ne):(this.lineColorSwitched=se,this.fillColorsSwitched=ae))}(Ce||q.gap)&&(u=d=NaN,this.drawLineGraph(P,T,be,we),P=[],T=[],be=[],we=[])}break;case"column":if(De=it,void 0!=q.lineColor&&(De=q.lineColor),!isNaN(qe)){g||(q.isNegative=qe<$),q.isNegative&&(ae&&(et=ae),void 0!=se&&(De=se));var vt=s.min,bt=s.max,wt=Je;if(isNaN(wt)&&(wt=$),!(qe<vt&&wt<vt||qe>bt&&wt>bt)){var yt;if(y){"3d"==N?(je=Me-(C/2-this.depthCount+1)*(c+W)+W/2+A*M,Be=Re+k*M,yt=M):(je=Math.floor(Me-(C/2-M)*(c+W)+W/2),Be=Re,yt=0),Ie=c,We=$e,Ue=je+c/2,Ye=$e,Xe=je+c/2,je+Ie>b+yt*A&&(Ie=b-je+yt*A),je<yt*A&&(Ie+=je,je=yt*A),Ve=$e-Re;var Ct=Be;Be=e.fitToBounds(Be,0,v),Ve+=Ct-Be,Ve=e.fitToBounds(Ve,-Be,v-Be+k*M),q.labelIsNegative=0>Ve,0===Ve&&1/qe==-1/0&&(q.labelIsNegative=!0),isNaN(X.percentWidthValue)||(Ie=this.height*X.percentWidthValue/100,je=Ee-Ie/2,Ue=je+Ie/2),Ie=e.roundTo(Ie,2),Ve=e.roundTo(Ve,2),je<b&&0<Ie&&(Qe=new e.Cuboid(a,Ve,Ie,k-t.d3x,A-t.d3y,et,tt,R,De,L,H,x,y,F,st,rt,V),q.columnWidth=Math.abs(Ve),q.columnHeight=Math.abs(Ie))}else{"3d"==N?(Be=$e-(C/2-this.depthCount+1)*(c+W)+W/2+k*M,je=Le+A*M,yt=M):(Be=$e-(C/2-M)*(c+W)+W/2,je=Le,yt=0),Ie=c,We=Be+c/2,Ue=Me,Ye=Be+c/2,Xe=Me,Be+Ie>v+yt*k&&(Ie=v-Be+yt*k),Be<yt*k&&(Ie+=Be-yt*k,Be=yt*k),Ve=Me-Le,q.labelIsNegative=0<Ve,0===Ve&&1/qe!=1/Math.abs(qe)&&(q.labelIsNegative=!0);var xt=je;je=e.fitToBounds(je,this.dy,b),Ve+=xt-je,Ve=e.fitToBounds(Ve,A*yt-je,b-je),isNaN(X.percentWidthValue)||(Ie=this.width*X.percentWidthValue/100,Be=Ee-Ie/2,We=Be+Ie/2),Ie=e.roundTo(Ie,2),Ve=e.roundTo(Ve,2),Be<v+M*k&&0<Ie&&(this.showOnAxis&&(je-=A/2),Qe=new e.Cuboid(a,Ie,Ve,k-t.d3x,A-t.d3y,et,tt,R,De,this.lineAlpha,H,x,y,F,st,rt,V),q.columnHeight=Math.abs(Ve),q.columnWidth=Math.abs(Ie))}}Qe&&(_e=Qe.set,e.setCN(t,Qe.set,"graph-"+this.type),e.setCN(t,Qe.set,"graph-"+this.id),q.className&&e.setCN(t,Qe.set,q.className,!0),q.columnGraphics=_e,Be=e.roundTo(Be,2),je=e.roundTo(je,2),_e.translate(Be,je),(q.url||this.showHandOnHover)&&_e.setAttr("cursor","pointer"),I||("none"==N&&(m=y?(this.end+1-ve)*O-r:O*ve+r),"3d"==N&&(y?(m=(this.end+1-ve)*O-r-1e3*this.depthCount,We+=k*M,Ye+=k*M,q.y+=k*M):(m=(O-r)*(ve+1)+1e3*this.depthCount,Ue+=A*M,Xe+=A*M,q.y+=A*M)),"regular"!=N&&"100%"!=N||(m=y?0<lt.value?(this.end+1-ve)*O+r+1e3*this.depthCount:(this.end+1-ve)*O-r+1e3*this.depthCount:0<lt.value?O*ve+r:O*ve-r),this.columnsArray.push({column:Qe,depth:m}),q.x=y?je+Ie/2:Be+Ie/2,this.ownColumns.push(Qe),this.animateColumns(Qe,ve,$e,Re,Me,Le),this.addListeners(_e,q),void 0!==this.tabIndex&&_e.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(_e))}break;case"candlestick":if(!isNaN(Je)&&!isNaN(qe)){var St,Pt;if(De=it,void 0!=q.lineColor&&(De=q.lineColor),We=$e,Xe=Ue=Me,Ye=$e,y){if("open"==h&&(Ye=Re),"high"==h&&(Ye=ze),"low"==h&&(Ye=Ge),$e=e.fitToBounds($e,0,at),Re=e.fitToBounds(Re,0,at),Ge=e.fitToBounds(Ge,0,at),ze=e.fitToBounds(ze,0,at),0===$e&&0===Re&&0===Ge&&0===ze)continue;if($e==at&&Re==at&&Ge==at&&ze==at)continue;if(je=Me-c/2,Be=Re,Ie=c,je+Ie>b&&(Ie=b-je),0>je&&(Ie+=je,je=0),je<b&&0<Ie){var Tt,Ot;qe>Je?(Tt=[$e,ze],Ot=[Re,Ge]):(Tt=[Re,ze],Ot=[$e,Ge]),!isNaN(ze)&&!isNaN(Ge)&&Me<b&&0<Me&&(St=e.line(a,Tt,[Me,Me],De,L,R),Pt=e.line(a,Ot,[Me,Me],De,L,R)),Ve=$e-Re,Qe=new e.Cuboid(a,Ve,Ie,k,A,et,le,R,De,L,H,x,y,F,st,rt,V)}}else{if("open"==h&&(Xe=Le),"high"==h&&(Xe=He),"low"==h&&(Xe=Fe),Me=e.fitToBounds(Me,0,nt),Le=e.fitToBounds(Le,0,nt),Fe=e.fitToBounds(Fe,0,nt),He=e.fitToBounds(He,0,nt),0===Me&&0===Le&&0===Fe&&0===He)continue;if(Me==nt&&Le==nt&&Fe==nt&&He==nt)continue;if(Be=$e-c/2,je=Le+R/2,Ie=c,Be+Ie>v&&(Ie=v-Be),0>Be&&(Ie+=Be,Be=0),Ve=Me-Le,Be<v&&0<Ie){ot&&qe>=Je&&(tt=0);var kt,At,Qe=new e.Cuboid(a,Ie,Ve,k,A,et,tt,R,De,L,H,x,y,F,st,rt,V);qe>Je?(kt=[Me,He],At=[Le,Fe]):(kt=[Le,He],At=[Me,Fe]),!isNaN(He)&&!isNaN(Fe)&&$e<v&&0<$e&&(St=e.line(a,[$e,$e],kt,De,L,R),Pt=e.line(a,[$e,$e],At,De,L,R),e.setCN(t,St,this.bcn+"line-high"),q.className&&e.setCN(t,St,q.className,!0),e.setCN(t,Pt,this.bcn+"line-low"),q.className&&e.setCN(t,Pt,q.className,!0))}}Qe&&(_e=Qe.set,q.columnGraphics=_e,z.push(_e),_e.translate(Be,je-R/2),(q.url||this.showHandOnHover)&&_e.setAttr("cursor","pointer"),St&&(z.push(St),z.push(Pt)),I||(q.x=y?je+Ie/2:Be+Ie/2,this.animateColumns(Qe,ve,$e,Re,Me,Le),this.addListeners(_e,q),void 0!==this.tabIndex&&_e.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(Je)||isNaN(Ze)||isNaN(Ke)||isNaN(qe))){var Nt=a.set();z.push(Nt),qe<Je&&(q.isNegative=!0,void 0!=se&&(it=se)),void 0!=q.lineColor&&(it=q.lineColor);var Bt,jt,It;if(y){if(Xe=Me,Ye=$e,"open"==h&&(Ye=Re),"high"==h&&(Ye=ze),"low"==h&&(Ye=Ge),Ge=e.fitToBounds(Ge,0,at),ze=e.fitToBounds(ze,0,at),0===$e&&0===Re&&0===Ge&&0===ze)continue;if($e==at&&Re==at&&Ge==at&&ze==at)continue;var Vt=Me-c/2,Vt=e.fitToBounds(Vt,0,b),Dt=e.fitToBounds(Me,0,b),_t=Me+c/2,_t=e.fitToBounds(_t,0,b);0<=Re&&Re<=at&&(jt=e.line(a,[Re,Re],[Vt,Dt],it,L,R,F)),0<Me&&Me<b&&(Bt=e.line(a,[Ge,ze],[Me,Me],it,L,R,F)),0<=$e&&$e<=at&&(It=e.line(a,[$e,$e],[Dt,_t],it,L,R,F))}else{Xe=Me,"open"==h&&(Xe=Le),"high"==h&&(Xe=He),"low"==h&&(Xe=Fe);var Ye=$e,Fe=e.fitToBounds(Fe,0,nt),He=e.fitToBounds(He,0,nt),Et=$e-c/2,Et=e.fitToBounds(Et,0,v),$t=e.fitToBounds($e,0,v),Mt=$e+c/2,Mt=e.fitToBounds(Mt,0,v);0<=Le&&Le<=nt&&(jt=e.line(a,[Et,$t],[Le,Le],it,L,R,F)),0<$e&&$e<v&&(Bt=e.line(a,[$e,$e],[Fe,He],it,L,R,F)),0<=Me&&Me<=nt&&(It=e.line(a,[$t,Mt],[Me,Me],it,L,R,F))}z.push(jt),z.push(Bt),z.push(It),e.setCN(t,jt,this.bcn+"stroke-open"),e.setCN(t,It,this.bcn+"stroke-close"),e.setCN(t,Bt,this.bcn+"stroke"),q.className&&e.setCN(t,Nt,q.className,!0),Bt&&this.addListeners(Bt,q),It&&this.addListeners(It,q),jt&&this.addListeners(jt,q),We=$e,Ue=Me}}if(!I&&!isNaN(qe)){var Rt=this.hideBulletsCount;if(this.end-this.start<=Rt||0===Rt){var Lt=this.createBullet(q,Ye,Xe,ve),Gt=this.labelText;if(Gt&&!isNaN(We)&&!isNaN(We)){var Ft=this.createLabel(q,Gt),zt=0;Lt&&(zt=Lt.size),this.positionLabel(q,We,Ue,Ft,zt)}if("regular"==N||"100%"==N){var Ht=s.totalText;if(Ht){var Wt=this.createLabel(q,Ht,s.totalTextColor);if(e.setCN(t,Wt,this.bcn+"label-total"),this.allBullets.push(Wt),Wt){var Ut,Yt,Xt=Wt.getBBox(),qt=Xt.width,Zt=Xt.height,Kt=s.totalTextOffset,Jt=s.totals[ve];Jt&&Jt.remove();var Qt=0;"column"!=l&&(Qt=this.bulletSize),y?(Yt=Ue,Ut=0>qe?$e-qt/2-2-Qt-Kt:$e+qt/2+3+Qt+Kt):(Ut=We,Yt=0>qe?Me+Zt/2+Qt+Kt:Me-Zt/2-3-Qt-Kt),Wt.translate(Ut,Yt),s.totals[ve]=Wt,y?(0>Yt||Yt>b)&&Wt.remove():(0>Ut||Ut>v)&&Wt.remove()}}}}}}}this.lastDataItem=q,"line"!=l&&"step"!=l&&"smoothedLine"!=l||("smoothedLine"==l?this.drawSmoothedGraph(P,T,be,we):this.drawLineGraph(P,T,be,we),I||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(e,t){var i=this,o=i.chart.startDuration;0<o&&!i.animationPlayed&&(i.seqAn?(e.set.hide(),i.animationArray.push(e),o=setTimeout(function(){i.animate.call(i)},o/(i.end-i.start+1)*(t-i.start)*1e3),i.timeOuts.push(o)):i.animate(e),i.chart.animatable.push(e))},createLabel:function(t,i,o){var r=this.chart,n=t.labelColor;n||(n=this.color),n||(n=r.color),o&&(n=o),void 0===(o=this.fontSize)&&(this.fontSize=o=r.fontSize);var a=this.labelFunction;if(i=r.formatString(i,t),i=e.cleanFromEmpty(i),a&&(i=a(t,i)),void 0!==i&&""!==i)return t=e.text(this.container,i,n,r.fontFamily,o),t.node.style.pointerEvents="none",e.setCN(r,t,this.bcn+"label"),this.bulletSet.push(t),t},positiveClip:function(e){e.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(e){e.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,i,o,r){var n=this;if(1<t.length){var a=n.noRounding,s=n.set,l=n.chart,c=n.container,h=c.set(),u=c.set();s.push(u),s.push(h);var d=n.lineAlpha,p=n.lineThickness,s=n.fillAlphas,f=n.lineColorR,m=n.negativeLineAlpha;isNaN(m)&&(m=d);var g=n.lineColorSwitched;g&&(f=g);var g=n.fillColorsR,v=n.fillColorsSwitched;v&&(g=v);var b=n.dashLength;(v=n.dashLengthSwitched)&&(b=v);var v=n.negativeLineColor,w=n.negativeFillColors,y=n.negativeFillAlphas,C=n.baseCoord;0!==n.negativeBase&&(C=n.valueAxis.getCoordinate(n.negativeBase,a),C>n.height&&(C=n.height),0>C&&(C=0)),d=e.line(c,t,i,f,d,p,b,!1,!1,a),d.node.setAttribute("stroke-linejoin","round"),e.setCN(l,d,n.bcn+"stroke"),h.push(d),h.click(function(e){n.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){n.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){n.handleGraphEvent(e,"rollOutGraph")}).touchmove(function(e){n.chart.handleMouseMove(e)}).touchend(function(e){n.chart.handleTouchEnd(e)}),void 0===v||n.useNegativeColorIfDown||(p=e.line(c,t,i,v,m,p,b,!1,!1,a),p.node.setAttribute("stroke-linejoin","round"),e.setCN(l,p,n.bcn+"stroke"),e.setCN(l,p,n.bcn+"stroke-negative"),u.push(p)),(0<s||0<y)&&(p=t.join(";").split(";"),m=i.join(";").split(";"),d=l.type,"serial"==d||"radar"==d?0<o.length?(o.reverse(),r.reverse(),p=t.concat(o),m=i.concat(r)):"radar"==d?(m.push(0),p.push(0)):n.rotate?(m.push(m[m.length-1]),p.push(C),m.push(m[0]),p.push(C),m.push(m[0]),p.push(p[0])):(p.push(p[p.length-1]),m.push(C),p.push(p[0]),m.push(C),p.push(t[0]),m.push(m[0])):"xy"==d&&(i=n.fillToAxis)&&(e.isString(i)&&(i=l.getValueAxisById(i)),"H"==i.orientation?(C="top"==i.position?0:i.height,p.push(p[p.length-1]),m.push(C),p.push(p[0]),m.push(C),p.push(t[0]),m.push(m[0])):(C="left"==i.position?0:i.width,m.push(m[m.length-1]),p.push(C),m.push(m[0]),p.push(C),m.push(m[0]),p.push(p[0]))),t=n.gradientRotation,0<s&&(i=e.polygon(c,p,m,g,s,1,"#000",0,t,a),i.pattern(n.pattern,NaN,l.path),e.setCN(l,i,n.bcn+"fill"),h.push(i),i.toBack()),(w||void 0!==v)&&(isNaN(y)&&(y=s),w||(w=v),a=e.polygon(c,p,m,w,y,1,"#000",0,t,a),e.setCN(l,a,n.bcn+"fill"),e.setCN(l,a,n.bcn+"fill-negative"),a.pattern(n.pattern,NaN,l.path),u.push(a),a.toBack(),u.click(function(e){n.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){n.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){n.handleGraphEvent(e,"rollOutGraph")}).touchmove(function(e){n.chart.handleMouseMove(e)}).touchend(function(e){n.chart.handleTouchEnd(e)}))),n.applyMask(u,h)}},applyMask:function(e,t){var i=e.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(t),0<i&&this.negativeClip(e))},drawSmoothedGraph:function(t,i,o,r){if(1<t.length){var n=this.set,a=this.chart,s=this.container,l=s.set(),c=s.set();n.push(c),n.push(l);var h=this.lineAlpha,u=this.lineThickness,n=this.dashLength,d=this.fillAlphas,p=this.lineColorR,f=this.fillColorsR,m=this.negativeLineColor,g=this.negativeFillColors,v=this.negativeFillAlphas,b=this.baseCoord,w=this.lineColorSwitched;w&&(p=w),(w=this.fillColorsSwitched)&&(f=w);var y=this.negativeLineAlpha;isNaN(y)&&(y=h),w=this.getGradRotation(),h=new e.Bezier(s,t,i,p,h,u,f,0,n,void 0,w),e.setCN(a,h,this.bcn+"stroke"),l.push(h.path),void 0!==m&&(u=new e.Bezier(s,t,i,m,y,u,f,0,n,void 0,w),e.setCN(a,u,this.bcn+"stroke"),e.setCN(a,u,this.bcn+"stroke-negative"),c.push(u.path)),0<d&&(u=t.join(";").split(";"),h=i.join(";").split(";"),p="",0<o.length?(o.push("M"),r.push("M"),o.reverse(),r.reverse(),u=t.concat(o),h=i.concat(r)):(this.rotate?(p+=" L"+b+","+i[i.length-1],p+=" L"+b+","+i[0]):(p+=" L"+t[t.length-1]+","+b,p+=" L"+t[0]+","+b),p+=" L"+t[0]+","+i[0]),t=new e.Bezier(s,u,h,NaN,0,0,f,d,n,p,w),e.setCN(a,t,this.bcn+"fill"),t.path.pattern(this.pattern,NaN,a.path),l.push(t.path),g||void 0!==m)&&(v||(v=d),g||(g=m),s=new e.Bezier(s,u,h,NaN,0,0,g,v,n,p,w),s.path.pattern(this.pattern,NaN,a.path),e.setCN(a,s,this.bcn+"fill"),e.setCN(a,s,this.bcn+"fill-negative"),c.push(s.path)),this.applyMask(c,l)}},launchAnimation:function(){var t=this,i=t.chart.startDuration;if(0<i&&!t.animationPlayed){var o=t.set,r=t.bulletSet;e.VML||(o.attr({opacity:t.startAlpha}),r.attr({opacity:t.startAlpha})),o.hide(),r.hide(),t.seqAn?(i=setTimeout(function(){t.animateGraphs.call(t)},t.index*i*1e3),t.timeOuts.push(i)):t.animateGraphs()}},animateGraphs:function(){var e=this.chart,t=this.set,i=this.bulletSet,o=this.x,r=this.y;t.show(),i.show();var n=e.startDuration,a=e.startEffect;t&&(this.rotate?(t.translate(-1e3,r),i.translate(-1e3,r)):(t.translate(o,-1e3),i.translate(o,-1e3)),t.animate({opacity:1,translate:o+","+r},n,a),i.animate({opacity:1,translate:o+","+r},n,a),e.animatable.push(t))},animate:function(t){var i=this.chart,o=this.animationArray;!t&&0<o.length&&(t=o[0],o.shift()),o=e[e.getEffect(i.startEffect)],i=i.startDuration,t&&(this.rotate?t.animateWidth(i,o):t.animateHeight(i,o),t.set.show())},legendKeyColor:function(){var e=this.legendColor,t=this.lineAlpha;return void 0===e&&(e=this.lineColorR,0===t&&(t=this.fillColorsR)&&(e="object"==(void 0===t?"undefined":i(t))?t[0]:t)),e},legendKeyAlpha:function(){var e=this.legendAlpha;return void 0===e&&(e=this.lineAlpha,this.fillAlphas>e&&(e=this.fillAlphas),0===e&&(e=this.bulletAlpha),0===e&&(e=1)),e},createBullet:function(t,i,o){if(!isNaN(i)&&!isNaN(o)&&("none"!=this.bullet||this.customBullet||t.bullet||t.customBullet)){var r=this.chart,n=this.container,a=this.bulletOffset,s=this.bulletSize;isNaN(t.bulletSize)||(s=t.bulletSize);var l=t.values.value,c=this.maxValue,h=this.minValue,u=this.maxBulletSize,d=this.minBulletSize;isNaN(c)||(isNaN(l)||(s=(l-h)/(c-h)*(u-d)+d),h==c&&(s=u)),c=s,this.bulletAxis&&(s=t.values.error,isNaN(s)||(l=s),s=this.bulletAxis.stepWidth*l),s<this.minBulletSize&&(s=this.minBulletSize),this.rotate?i=t.isNegative?i-a:i+a:o=t.isNegative?o+a:o-a,d=this.bulletColorR,t.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=t.lineColor),this.bulletColorSwitched&&(d=this.bulletColorSwitched),t.isNegative&&void 0!==this.bulletColorNegative&&(d=this.bulletColorNegative),void 0!==t.color&&(d=t.color);var p;"xy"==r.type&&this.valueField&&(p=this.pattern,t.pattern&&(p=t.pattern)),a=this.bullet,t.bullet&&(a=t.bullet);var l=this.bulletBorderThickness,h=this.bulletBorderColorR,u=this.bulletBorderAlpha,f=this.bulletAlpha;h||(h=d),this.useLineColorForBulletBorder&&(h=this.lineColorR,t.isNegative&&this.negativeLineColor&&(h=this.negativeLineColor),this.lineColorSwitched&&(h=this.lineColorSwitched));var m=t.alpha;return isNaN(m)||(f=m),p=e.bullet(n,a,s,d,f,l,h,u,c,0,p,r.path),c=this.customBullet,t.customBullet&&(c=t.customBullet),c&&(p&&p.remove(),"function"==typeof c?(c=new c,c.chart=r,t.bulletConfig&&(c.availableSpace=o,c.graph=this,c.graphDataItem=t,c.bulletY=o,t.bulletConfig.minCoord=this.minCoord-o,c.bulletConfig=t.bulletConfig),c.write(n),p&&c.showBullet&&c.set.push(p),t.customBulletGraphics=c.cset,p=c.set):(p=n.set(),c=n.image(c,0,0,s,s),p.push(c),this.centerCustomBullets&&c.translate(-s/2,-s/2))),p&&((t.url||this.showHandOnHover)&&p.setAttr("cursor","pointer"),"serial"!=r.type&&"gantt"!=r.type||(-.5>i||i>this.width||o<-s/2||o>this.height)&&(p.remove(),p=null),p&&(this.bulletSet.push(p),p.translate(i,o),this.addListeners(p,t),this.allBullets.push(p)),t.bx=i,t.by=o,e.setCN(r,p,this.bcn+"bullet"),t.className&&e.setCN(r,p,t.className,!0)),p?(p.size=s||0,(r=this.bulletHitAreaSize)&&(n=e.circle(n,r,"#FFFFFF",.001,0),n.translate(i,o),t.hitBullet=n,this.bulletSet.push(n),this.addListeners(n,t)),t.bulletGraphics=p,void 0!==this.tabIndex&&p.setAttr("tabindex",this.tabIndex)):p={size:0},p.graphDataItem=t,p}},showBullets:function(){var e,t=this.allBullets;for(this.bulletsHidden=!1,e=0;e<t.length;e++)t[e].show()},hideBullets:function(){var e,t=this.allBullets;for(this.bulletsHidden=!0,e=0;e<t.length;e++)t[e].hide()},showCustomBullets:function(){var e,t=this.allBullets;for(this.customBulletsHidden=!1,e=0;e<t.length;e++){var i=t[e].graphDataItem;i&&i.customBulletGraphics&&i.customBulletGraphics.show()}},hideCustomBullets:function(){var e,t=this.allBullets;for(this.customBulletsHidden=!0,e=0;e<t.length;e++){var i=t[e].graphDataItem;i&&i.customBulletGraphics&&i.customBulletGraphics.hide()}},addListeners:function(e,t){var i=this;e.mouseover(function(e){i.handleRollOver(t,e)}).mouseout(function(e){i.handleRollOut(t,e)}).touchend(function(e){i.handleRollOver(t,e),i.chart.panEventsEnabled&&i.handleClick(t,e)}).touchstart(function(e){i.handleRollOver(t,e)}).click(function(e){i.handleClick(t,e)}).dblclick(function(e){i.handleDoubleClick(t,e)}).contextmenu(function(e){i.handleRightClick(t,e)});var o=i.chart;if(o.accessible&&i.accessibleLabel){var r=o.formatString(i.accessibleLabel,t);o.makeAccessible(e,r)}},handleRollOver:function(e,t){if(this.handleGraphEvent(t,"rollOverGraph"),e){var i=this.chart;e.bulletConfig&&(i.isRolledOverBullet=!0);var o={type:"rollOverGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(o),i.fire(o),clearTimeout(i.hoverInt),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.showGraphBalloon(e,"V",!0)}},handleRollOut:function(e,t){var i=this.chart;if(e){var o={type:"rollOutGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(o),i.fire(o),i.isRolledOverBullet=!1}this.handleGraphEvent(t,"rollOutGraph"),(i=i.chartCursor)&&i.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(t,i){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(i)){if(t){var o={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:i};this.fire(o),this.chart.fire(o),e.getURL(t.url,this.urlTarget)}this.handleGraphEvent(i,"clickGraph")}},handleGraphEvent:function(e,t){var i={type:t,graph:this,target:this,chart:this.chart,event:e};this.fire(i),this.chart.fire(i)},handleRightClick:function(e,t){if(e){var i={type:"rightClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(i),this.chart.fire(i)}},handleDoubleClick:function(e,t){if(e){var i={type:"doubleClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire(i),this.chart.fire(i)}},zoom:function(e,t){this.start=e,this.end=t,this.draw()},changeOpacity:function(e){var t=this.set;if(t&&t.setAttr("opacity",e),t=this.ownColumns){var i;for(i=0;i<t.length;i++){var o=t[i].set;o&&o.setAttr("opacity",e)}}(t=this.bulletSet)&&t.setAttr("opacity",e)},destroy:function(){e.remove(this.set),e.remove(this.bulletSet);var t=this.timeOuts;if(t){var i;for(i=0;i<t.length;i++)clearTimeout(t[i])}this.timeOuts=[]},createBalloon:function(){var t=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={};var i=this.balloon;e.extend(i,t.balloon,!0),i.chart=t,i.mainSet=t.plotBalloonsSet,i.className=this.id},hideBalloon:function(){var e=this,t=e.chart;t.chartCursor?t.chartCursor.valueBalloonsEnabled||t.hideBalloon():t.hideBalloon(),clearTimeout(e.hoverInt),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},t.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){if(e.isModern){var t=this.resizedDItem;if(t){var i=t.bulletGraphics;if(i&&!i.doNotScale){i.translate(t.bx,t.by,1);var o=this.bulletAlpha;isNaN(t.alpha)||(o=t.alpha),i.setAttr("fill-opacity",o),i.setAttr("stroke-opacity",this.bulletBorderAlpha)}}this.resizedDItem=null}},showGraphBalloon:function(t,i,o,r,n){if(t){var a=this.chart,s=this.balloon,l=0,c=0,h=a.chartCursor,u=!0;if(h?h.valueBalloonsEnabled||(s=a.balloon,l=this.x,c=this.y,u=!1):(s=a.balloon,l=this.x,c=this.y,u=!1),clearTimeout(this.hoverInt),a.chartCursor&&(this.currentDataItem=t,"serial"==a.type&&a.isRolledOverBullet&&a.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();if(this.resizeBullet(t,r,n),s&&s.enabled&&this.showBalloon&&!this.hidden){var h=a.formatString(this.balloonText,t,!0),d=this.balloonFunction;d&&(h=d(t,t.graph)),h&&(h=e.cleanFromEmpty(h)),h&&""!==h?(r=a.getBalloonColor(this,t),s.drop||(s.pointerOrientation=i),i=t.x,n=t.y,a.rotate&&(i=t.y,n=t.x),i+=l,n+=c,isNaN(i)||isNaN(n)?this.hideBalloonReal():(t=this.width,d=this.height,u&&s.setBounds(l,c,t+l,d+c),s.changeColor(r),s.setPosition(i,n),s.fixPrevious(),s.fixedPosition&&(o=!1),!o&&"radar"!=a.type&&(i<l-.5||i>t+l||n<c-.5||n>d+c)?(s.showBalloon(h),s.hide(0)):(s.followCursor(o),s.showBalloon(h)))):(this.hideBalloonReal(),s.hide(),this.resizeBullet(t,r,n))}else this.hideBalloonReal()}},resizeBullet:function(t,i,o){if(this.fixBulletSize(),t&&e.isModern&&(1!=i||!isNaN(o))){var r=t.bulletGraphics;r&&!r.doNotScale&&(r.translate(t.bx,t.by,i),isNaN(o)||(r.setAttr("fill-opacity",o),r.setAttr("stroke-opacity",o)),this.resizedDItem=t)}}})}(),function(){var e=window.AmCharts;e.ChartCursor=e.Class({construct:function(t){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,e.applyTheme(this,t,this.cname)},draw:function(){this.destroy();var t=this.chart;t.panRequired=!0;var i=t.container;this.rotate=t.rotate,this.container=i,this.prevLineHeight=this.prevLineWidth=NaN,i=i.set(),i.translate(this.x,this.y),this.set=i,t.cursorSet.push(i),this.createElements(),e.isString(this.limitToGraph)&&(this.limitToGraph=e.getObjById(t.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=t.valueAxes[0])},createElements:function(){var t,i,o=this,r=o.chart,n=r.dx,a=r.dy,s=o.width,l=o.height,c=o.cursorAlpha,h=o.valueLineAlpha;o.rotate?(t=h,i=c):(i=h,t=c),"xy"==r.type&&(i=c,void 0!==h&&(i=h),t=c),o.vvLine=e.line(o.container,[n,0,0],[a,0,l],o.cursorColor,t,1),e.setCN(r,o.vvLine,"cursor-line"),e.setCN(r,o.vvLine,"cursor-line-vertical"),o.hhLine=e.line(o.container,[0,s,s+n],[0,0,a],o.cursorColor,i,1),e.setCN(r,o.hhLine,"cursor-line"),e.setCN(r,o.hhLine,"cursor-line-horizontal"),o.vLine=o.rotate?o.vvLine:o.hhLine,o.set.push(o.vvLine),o.set.push(o.hhLine),o.set.node.style.pointerEvents="none",o.fullLines=o.container.set(),r=r.cursorLineSet,r.push(o.fullLines),r.translate(o.x,o.y),r.clipRect(-1,-1,s+2,l+2),void 0!==o.tabIndex&&(r.setAttr("tabindex",o.tabIndex),r.keyup(function(e){o.handleKeys(e)}).focus(function(e){o.showCursor()}).blur(function(e){o.hideCursor()})),o.set.clipRect(0,0,s,l)},handleKeys:function(t){var i=this.prevIndex,o=this.chart;if(o){var r=o.chartData;r&&(isNaN(i)&&(i=r.length-1),37!=t.keyCode&&40!=t.keyCode||i--,39!=t.keyCode&&38!=t.keyCode||i++,i=e.fitToBounds(i,o.startIndex,o.endIndex),(t=this.chart.chartData[i])&&this.setPosition(t.x.categoryAxis),this.prevIndex=i)}},update:function(){var e=this.chart;if(e){var t=e.mouseX-this.x,i=e.mouseY-this.y;this.mouseX=t,this.mouseY=i,this.mouse2X=e.mouse2X-this.x,this.mouse2Y=e.mouse2Y-this.y;var o;if(e.chartData&&0<e.chartData.length){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=o=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(e.rotate||!this.limitToGraph)&&this.vvLine.translate(t,0),!this.hhLine||!isNaN(this.fy)||e.rotate&&this.limitToGraph||this.hhLine.translate(0,i),isNaN(this.mouse2X)?this.dispatchMovedEvent(t,i):o=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}o&&this.showCursor()}}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(e.remove(this.drawingLine),1<Math.abs(this.drawStartX-this.mouseX)||1<Math.abs(this.drawStartY-this.mouseY))){var t=this.chart,i=t.marginTop,t=t.marginLeft;this.drawingLine=e.line(this.container,[this.drawStartX+t,this.mouseX+t],[this.drawStartY+i,this.mouseY+i],this.cursorColor,1,1)}},fixWidth:function(t){if(this.fullWidth&&this.prevLineWidth!=t){var i=this.vvLine,o=0;i&&(i.remove(),o=i.x),i=this.container.set(),i.translate(o,0),o=e.rect(this.container,t,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),e.setCN(this.chart,o,"cursor-fill"),o.translate(-t/2-1,0),i.push(o),this.vvLine=i,this.fullLines.push(i),this.prevLineWidth=t}},fixHeight:function(t){if(this.fullWidth&&this.prevLineHeight!=t){var i=this.hhLine,o=0;i&&(i.remove(),o=i.y),i=this.container.set(),i.translate(0,o),o=e.rect(this.container,this.width,t,this.cursorColor,this.cursorAlpha),o.translate(0,-t/2),i.push(o),this.fullLines.push(i),this.hhLine=i,this.prevLineHeight=t}},fixVLine:function(e,t){if(!isNaN(e)&&this.vvLine){if(isNaN(this.prevLineX)){var i=0,o=this.mouseX;if(this.limitToGraph){var r=this.chart.categoryAxis;r&&(this.chart.rotate||(i="bottom"==r.position?this.height:-this.height),o=e)}this.vvLine.translate(o,i)}else this.prevLineX!=e&&this.vvLine.translate(this.prevLineX,this.prevLineY);this.fx=e,this.prevLineX!=e&&(i=this.animationDuration,this.zooming&&(i=0),this.vvLine.stop(),this.vvLine.animate({translate:e+","+t},i,"easeOutSine"),this.prevLineX=e,this.prevLineY=t)}},fixHLine:function(e,t){if(!isNaN(e)&&this.hhLine){if(isNaN(this.prevLineY)){var i=0,o=this.mouseY;if(this.limitToGraph){var r=this.chart.categoryAxis;r&&(this.chart.rotate&&(i="right"==r.position?this.width:-this.width),o=e)}this.hhLine.translate(i,o)}else this.prevLineY!=e&&this.hhLine.translate(this.prevLineX,this.prevLineY);this.fy=e,this.prevLineY!=e&&(i=this.animationDuration,this.zooming&&(i=0),this.hhLine.stop(),this.hhLine.animate({translate:t+","+e},i,"easeOutSine"),this.prevLineY=e,this.prevLineX=t)}},hideCursor:function(e){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),e?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(e){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),e||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?0<this.selection.height&&this.hhLine.hide():0<this.selection.width&&this.vvLine.hide())},updateSelection:function(){if(!this.pan&&this.enabled){var t=this.mouseX,i=this.mouseY;isNaN(this.fx)||(t=this.fx),isNaN(this.fy)||(i=this.fy),this.clearSelection();var o,r=this.mouseX0,n=this.mouseY0,a=this.width,s=this.height,t=e.fitToBounds(t,0,a),i=e.fitToBounds(i,0,s);t<r&&(o=t,t=r,r=o),i<n&&(o=i,i=n,n=o),this.hZoomEnabled?a=t-r:r=0,this.vZoomEnabled?s=i-n:n=0,isNaN(this.mouse2X)&&0<Math.abs(a)&&0<Math.abs(s)&&(t=this.chart,i=e.rect(this.container,a,s,this.cursorColor,this.selectionAlpha),e.setCN(t,i,"cursor-selection"),i.width=a,i.height=s,i.translate(r,n),this.set.push(i),this.selection=i),this.updateFullLine()}},mouseIsOver:function(){var e=this.mouseX,t=this.mouseY;return this.justReleased?(this.justReleased=!1,!0):!!this.mouseIsDown||(this.chart.mouseIsOver?0<e&&e<this.width&&0<t&&t<this.height||(this.handleMouseOut(),!1):(this.handleMouseOut(),!1))},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var e={chart:this.chart,target:this,type:"zoomStarted"};e.x=this.mouseX/this.width,e.y=this.mouseY/this.height,this.index0=e.index=this.index,this.timestamp0=this.timestamp,this.fire(e)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,e.remove(this.drawingLine);var t=this.drawStartX,i=this.drawStartY,o=this.mouseX,r=this.mouseY,n=this.chart;(2<Math.abs(t-o)||2<Math.abs(i-r))&&this.fire({type:"draw",target:this,chart:n,initialX:t,initialY:i,finalX:o,finalY:r})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(e){if(!this.pan){var t=this.selection;if(t&&3<Math.abs(t.width)&&3<Math.abs(t.height)){var i=Math.min(this.index,this.index0),o=Math.max(this.index,this.index0),r=i,n=o,a=this.chart,s=a.chartData,l=a.categoryAxis;l&&l.parseDates&&!l.equalSpacing&&(r=s[i]?s[i].time:Math.min(this.timestamp0,this.timestamp),n=s[o]?a.getEndTime(s[o].time):Math.max(this.timestamp0,this.timestamp));var c,t={type:e,chart:this.chart,target:this,end:n,start:r,startIndex:i,endIndex:o,selectionHeight:t.height,selectionWidth:t.width,selectionY:t.y,selectionX:t.x};this.hZoomEnabled&&4<Math.abs(this.mouseX0-this.mouseX)&&(t.startX=this.mouseX0/this.width,t.endX=this.mouseX/this.width,c=!0),this.vZoomEnabled&&4<Math.abs(this.mouseY0-this.mouseY)&&(t.startY=1-this.mouseY0/this.height,t.endY=1-this.mouseY/this.height,c=!0),c&&(this.prevY=this.prevX=NaN,this.fire(t),"selected"!=e&&this.clearSelection()),this.hideCursor()}}},dispatchMovedEvent:function(e,t,i,o){if(e=Math.round(e),t=Math.round(t),!this.isHidden&&(e!=this.prevX||t!=this.prevY||"changed"==i)){i||(i="moved");var r=this.fx,n=this.fy;isNaN(r)&&(r=e),isNaN(n)&&(n=t);var a=!1;this.zooming&&this.pan&&(a=!0),a={hidden:this.isHidden,type:i,chart:this.chart,target:this,x:e,y:t,finalX:r,finalY:n,zooming:this.zooming,panning:a,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:o,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(a.position=t,a.finalPosition=n):(a.position=e,a.finalPosition=r),this.prevX=e,this.prevY=t,o?this.chart.handleCursorMove(a):(this.fire(a),"changed"==i&&this.chart.fire(a))}},dispatchPanEvent:function(){if(this.mouseIsDown){var t=e.roundTo((this.mouseX-this.mouseX0)/this.width,3),i=e.roundTo((this.mouseY-this.mouseY0)/this.height,3),o=e.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),r=e.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),n=!1;0!==Math.abs(t)&&0!==Math.abs(i)&&(n=!0),this.prevDeltaX!=t&&this.prevDeltaY!=i||(n=!1),isNaN(o)||isNaN(r)||(0!==Math.abs(o)&&0!==Math.abs(r)&&(n=!0),this.prevDelta2X!=o&&this.prevDelta2Y!=r)||(n=!1),n&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:t,deltaY:i,delta2X:o,delta2Y:r,index:this.index}),this.prevDeltaX=t,this.prevDeltaY=i,this.prevDelta2X=o,this.prevDelta2Y=r)}},clearSelection:function(){var e=this.selection;e&&(e.width=0,e.height=0,e.remove())},destroy:function(){this.clear(),e.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),e.remove(this.set)},clear:function(){},setTimestamp:function(e){this.timestamp=e},setIndex:function(e,t){e!=this.index&&(this.index=e,t||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(e){var t=this.chart.categoryAxis;t&&this.setPosition(t.categoryToCoordinate(e),e)},setPosition:function(e,t){var i=this.chart,o=i.categoryAxis;if(o){var r,n;void 0===t&&(t=o.coordinateToValue(e)),o.showBalloonAt(t,e),this.forceShow=!0,o.stickBalloonToCategory?i.rotate?this.fixHLine(e,0):this.fixVLine(e,0):(this.showCursor(),i.rotate?this.hhLine.translate(0,e):this.vvLine.translate(e,0)),i.rotate?r=e:n=e,i.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(n,r,"moved",!0)}},enableDrawing:function(e){this.enabled=!e,this.hideCursor(),this.drawing=e},syncWithCursor:function(e,t){clearTimeout(this.syncTO),e&&(e.isHidden?this.hideCursor(!0):this.syncWithCursorReal(e,t))},isZooming:function(e){this.zooming=e},syncWithCursorReal:function(e,t){var i=e.vvLine,o=e.hhLine;this.index=e.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=t,this.justReleased=e.justReleased,this.zooming=e.zooming,this.index0=e.index0,this.mouseX0=e.mouseX0,this.mouseY0=e.mouseY0,this.mouse2X0=e.mouse2X0,this.mouse2Y0=e.mouse2Y0,this.timestamp0=e.timestamp0,this.prevDeltaX=e.prevDeltaX,this.prevDeltaY=e.prevDeltaY,this.prevDelta2X=e.prevDelta2X,this.prevDelta2Y=e.prevDelta2Y,this.fx=e.fx,this.fy=e.fy,e.zooming&&this.updateSelection();var r=e.mouseX,n=e.mouseY;this.rotate?(r=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&o&&(isNaN(e.fy)?this.hhLine.translate(0,e.mouseY):this.fixHLine(e.fy,0))):(n=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&i&&(isNaN(e.fx)?this.vvLine.translate(e.mouseX,0):this.fixVLine(e.fx,0))),this.dispatchMovedEvent(r,n,"moved",!0)}})}(),function(){var e=window.AmCharts;e.SimpleChartScrollbar=e.Class({construct:function(t){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,e.applyTheme(this,t,"SimpleChartScrollbar")},getPercents:function(){var e=this.getDBox(),t=e.x,i=e.y,o=e.width,e=e.height;this.rotate?(t=1-i/this.height,i=1-(i+e)/this.height):(i=t/this.width,t=(t+o)/this.width),this.percentStart=i,this.percentEnd=t},draw:function(){var t=this;if(t.destroy(),t.enabled){var i=t.chart.container,o=t.rotate,r=t.chart;r.panRequired=!0;var n=i.set();t.set=n,o?e.setCN(r,n,"scrollbar-vertical"):e.setCN(r,n,"scrollbar-horizontal"),r.scrollbarsSet.push(n);var a,s;if(o?(a=t.scrollbarHeight,s=r.plotAreaHeight):(s=t.scrollbarHeight,a=r.plotAreaWidth),t.width=a,(t.height=s)&&a){var l=e.rect(i,a,s,t.backgroundColor,t.backgroundAlpha,1,t.backgroundColor,t.backgroundAlpha);e.setCN(r,l,"scrollbar-bg"),t.bg=l,n.push(l),l=e.rect(i,a,s,"#000",.005),n.push(l),t.invisibleBg=l,l.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()}),l=e.rect(i,a,s,t.selectedBackgroundColor,t.selectedBackgroundAlpha),e.setCN(r,l,"scrollbar-bg-selected"),t.selectedBG=l,n.push(l),a=e.rect(i,a,s,"#000",.005),t.dragger=a,n.push(a),a.mousedown(function(e){t.handleDragStart(e)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(e){t.handleDragStart(e)}).touchend(function(){t.handleDragStop()}),s=r.pathToImages;var c,l=t.dragIcon.replace(/\.[a-z]*$/i,"");e.isAbsolute(l)&&(s=""),o?(c=s+l+"H"+r.extension,s=t.dragIconWidth,o=t.dragIconHeight):(c=s+l+r.extension,o=t.dragIconWidth,s=t.dragIconHeight),l=i.image(c,0,0,o,s),e.setCN(r,l,"scrollbar-grip-left"),c=i.image(c,0,0,o,s),e.setCN(r,c,"scrollbar-grip-right");var h=10,u=20;r.panEventsEnabled&&(h=25,u=t.scrollbarHeight);var d=e.rect(i,h,u,"#000",.005),p=e.rect(i,h,u,"#000",.005);p.translate(-(h-o)/2,-(u-s)/2),d.translate(-(h-o)/2,-(u-s)/2),o=i.set([l,p]),i=i.set([c,d]),t.iconLeft=o,n.push(t.iconLeft),t.iconRight=i,n.push(i),t.updateGripCursor(!1),r.makeAccessible(o,t.accessibleLabel),r.makeAccessible(i,t.accessibleLabel),r.makeAccessible(a,t.accessibleLabel),o.setAttr("role","menuitem"),i.setAttr("role","menuitem"),a.setAttr("role","menuitem"),void 0!==t.tabIndex&&(o.setAttr("tabindex",t.tabIndex),o.keyup(function(e){t.handleKeys(e,1,0)})),void 0!==t.tabIndex&&(a.setAttr("tabindex",t.tabIndex),a.keyup(function(e){t.handleKeys(e,1,1)})),void 0!==t.tabIndex&&(i.setAttr("tabindex",t.tabIndex),i.keyup(function(e){t.handleKeys(e,0,1)})),o.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()}),i.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()}),e.ifArray(r.chartData)?n.show():n.hide(),t.hideDragIcons(),t.clipDragger(!1)}n.translate(t.x,t.y),n.node.style.msTouchAction="none",n.node.style.touchAction="none"}},handleKeys:function(e,t,i){this.getPercents();var o=this.percentStart,r=this.percentEnd;if(this.rotate)var n=r,r=o,o=n;37!=e.keyCode&&40!=e.keyCode||(o-=.02*t,r-=.02*i),39!=e.keyCode&&38!=e.keyCode||(o+=.02*t,r+=.02*i),this.rotate&&(e=r,r=o,o=e),isNaN(r)||isNaN(o)||this.percentZoom(o,r,!0)},updateScrollbarSize:function(e,t){if(!isNaN(e)&&!isNaN(t)){e=Math.round(e),t=Math.round(t);var i,o,r,n,a,s=this.dragger;this.rotate?(i=0,o=e,r=this.width+1,n=t-e,s.setAttr("height",t-e),s.setAttr("y",o)):(i=e,o=0,r=t-e,n=this.height+1,a=t-e,s.setAttr("x",i),s.setAttr("width",a)),this.clipAndUpdate(i,o,r,n)}},update:function(){var e,t,i,o=!1,r=this.x,n=this.y,a=this.dragger,s=this.getDBox();if(s){t=s.x+r,i=s.y+n;var l=s.width,s=s.height,c=this.rotate,h=this.chart,u=this.width,d=this.height,p=h.mouseX,h=h.mouseY;if(e=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging){var f=this.initialCoord;c?(e=f+(h-e),0>e&&(e=0),f=d-s,e>f&&(e=f),a.setAttr("y",e)):(e=f+(p-e),0>e&&(e=0),f=u-l,(e>f||isNaN(e))&&(e=f),a.setAttr("x",e)),this.clipDragger(!0)}this.resizingRight&&(c?(e=h-i,!isNaN(this.maxHeight)&&e>this.maxHeight&&(e=this.maxHeight),e+i>d+n&&(e=d-i+n),0>e?(this.resizingRight=!1,o=this.resizingLeft=!0):((0===e||isNaN(e))&&(e=.1),a.setAttr("height",e))):(e=p-t,!isNaN(this.maxWidth)&&e>this.maxWidth&&(e=this.maxWidth),e+t>u+r&&(e=u-t+r),0>e?(this.resizingRight=!1,o=this.resizingLeft=!0):((0===e||isNaN(e))&&(e=.1),a.setAttr("width",e))),this.clipDragger(!0)),this.resizingLeft&&(c?(t=i,i=h,i<n&&(i=n),isNaN(i)&&(i=n),i>d+n&&(i=d+n),e=!0===o?t-i:s+t-i,!isNaN(this.maxHeight)&&e>this.maxHeight&&(e=this.maxHeight,i=t),0>e?(this.resizingRight=!0,this.resizingLeft=!1,a.setAttr("y",t+s-n)):((0===e||isNaN(e))&&(e=.1),a.setAttr("y",i-n),a.setAttr("height",e))):(i=p,i<r&&(i=r),isNaN(i)&&(i=r),i>u+r&&(i=u+r),e=!0===o?t-i:l+t-i,!isNaN(this.maxWidth)&&e>this.maxWidth&&(e=this.maxWidth,i=t),0>e?(this.resizingRight=!0,this.resizingLeft=!1,a.setAttr("x",t+l-r)):((0===e||isNaN(e))&&(e=.1),a.setAttr("x",i-r),a.setAttr("width",e))),this.clipDragger(!0))}},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(e){var t=this.getDBox();if(t){var i=t.x,o=t.y,r=t.width,t=t.height,n=!1;this.rotate?(i=0,r=this.width+1,(this.clipY!=o||this.clipH!=t)&&(n=!0)):(o=0,t=this.height+1,(this.clipX!=i||this.clipW!=r)&&(n=!0)),n&&this.clipAndUpdate(i,o,r,t),e&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent())}},maskGraphs:function(){},clipAndUpdate:function(e,t,i,o){this.clipX=e,this.clipY=t,this.clipW=i,this.clipH=o,this.selectedBG.setAttr("width",i),this.selectedBG.setAttr("height",o),this.selectedBG.translate(e,t),this.updateDragIconPositions(),this.maskGraphs(e,t,i,o)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart;e.hideBalloon();var t=this.getDBox(),i=t.x,o=t.y,r=t.width,t=t.height;this.getPercents(),this.rotate?(i=o,r=this.height/t):r=this.width/r,e={type:"zoomed",position:i,chart:e,target:this,multiplier:r,relativeStart:this.percentStart,relativeEnd:this.percentEnd},this.percentStart==this.prevPercentStart&&this.percentEnd==this.prevPercentEnd&&this.prevMultiplier==r||(this.fire(e),this.prevPercentStart=this.percentStart,this.prevPercentEnd=this.percentEnd,this.prevMultiplier=r)}},updateDragIconPositions:function(){var e,t,i=this.getDBox(),o=i.x,r=i.y,n=this.iconLeft,a=this.iconRight,s=this.scrollbarHeight;this.rotate?(e=this.dragIconWidth,t=this.dragIconHeight,n.translate((s-t)/2,r-e/2),a.translate((s-t)/2,r+i.height-e/2)):(e=this.dragIconHeight,t=this.dragIconWidth,n.translate(o-t/2,(s-e)/2),a.translate(o-t/2+i.width,(s-e)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||(!this.hideResizeGrips&&this.resizeEnabled||(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(e){this.fire({type:e,chart:this.chart,target:this})},percentZoom:function(t,i,o){if(t=e.fitToBounds(t,0,i),i=e.fitToBounds(i,t,1),this.dragger&&this.enabled){this.dragger.stop(),isNaN(t)&&(t=0),isNaN(i)&&(i=1);var r,n;this.rotate?(r=this.height,i=r-r*i,n=r-r*t):(r=this.width,n=r*i,i=r*t),this.updateScrollbarSize(i,n),this.clipDragger(!1),this.getPercents(),o&&this.dispatchScrollbarEvent()}},destroy:function(){this.clear(),e.remove(this.set),e.remove(this.iconRight),e.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){this.fireZoomEvent("zoomStarted");var t=this.chart;this.dragger.stop(),this.removeCursors(),e.isModern&&(this.dragger.node.style.cssText=this.dragCursorDown),this.dragging=!0;var i=this.getDBox();this.rotate?(this.initialCoord=i.y,this.initialMouse=t.mouseY):(this.initialCoord=i.x,this.initialMouse=t.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),e.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),e.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(t){e.isModern&&(t=this.rotate?t?this.vResizeCursorDown:this.vResizeCursorHover:t?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&(this.iconRight.node.style.cssText=t),this.iconLeft&&(this.iconLeft.node.style.cssText=t))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var t=this;if(!t.resizingRight&&!t.resizingLeft){t.zooming=!0;var i,o,r=t.scrollDuration,n=t.dragger;i=t.getDBox();var a=i.height,s=i.width;o=t.chart;var l=t.y,c=t.x,h=t.rotate;h?(i="y",o=o.mouseY-a/2-l,o=e.fitToBounds(o,0,t.height-a)):(i="x",o=o.mouseX-s/2-c,o=e.fitToBounds(o,0,t.width-s)),t.updateOnReleaseOnly?(t.skipEvent=!1,n.setAttr(i,o),t.dispatchScrollbarEvent(),t.clipDragger()):(t.animating=!0,o=Math.round(o),h?n.animate({y:o},r,">"):n.animate({x:o},r,">"),t.forceClip=!0,clearTimeout(t.forceTO),t.forceTO=setTimeout(function(){t.stopForceClip.call(t)},5e3*r))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var e=window.AmCharts;e.ChartScrollbar=e.Class({inherits:e.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar",e.ChartScrollbar.base.construct.call(this,t),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",e.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,i=this.chart,o=this.gridAxis;t||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,t=new e.CategoryAxis,t.id="scrollbar"):(t=new e.ValueAxis,t.data=i.chartData,t.id=o.id,t.type=o.type,t.maximumDate=o.maximumDate,t.minimumDate=o.minimumDate,t.minPeriod=o.minPeriod,t.minMaxField=o.minMaxField),this.categoryAxis=t),t.chart=i;var r=i.categoryAxis;r&&(t.firstDayOfWeek=r.firstDayOfWeek),t.dateFormats=o.dateFormats,t.markPeriodChange=o.markPeriodChange,t.boldPeriodBeginning=o.boldPeriodBeginning,t.labelFunction=o.labelFunction,t.axisItemRenderer=e.RecItem,t.axisRenderer=e.RecAxis,t.guideFillRenderer=e.RecFill,t.inside=!0,t.fontSize=this.fontSize,t.tickLength=0,t.axisAlpha=0,e.isString(this.graph)&&(this.graph=e.getObjById(i.graphs,this.graph)),(t=this.graph)&&this.catScrollbar&&(o=this.valueAxis,o||(this.valueAxis=o=new e.ValueAxis,o.visible=!1,o.scrollbar=!0,o.axisItemRenderer=e.RecItem,o.axisRenderer=e.RecAxis,o.guideFillRenderer=e.RecFill,o.labelsEnabled=!1,o.chart=i),i=this.unselectedGraph,i||(i=new e.AmGraph,i.scrollbar=!0,this.unselectedGraph=i,i.negativeBase=t.negativeBase,i.noStepRisers=t.noStepRisers),(i=this.selectedGraph)||(i=new e.AmGraph,i.scrollbar=!0,this.selectedGraph=i,i.negativeBase=t.negativeBase,i.noStepRisers=t.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var t=this;if(e.ChartScrollbar.base.draw.call(t),t.enabled){t.scrollbarCreated||t.init();var i=t.chart,o=i.chartData,r=t.categoryAxis,n=t.rotate,a=t.x,s=t.y,l=t.width,c=t.height,h=t.gridAxis,u=t.set;if(r.setOrientation(!n),r.parseDates=h.parseDates,"ValueAxis"==t.categoryAxis.cname&&(r.rotate=!n),r.equalSpacing=h.equalSpacing,r.minPeriod=h.minPeriod,r.startOnAxis=h.startOnAxis,r.width=l-1,r.height=c,r.gridCount=t.gridCount,r.gridColor=t.gridColor,r.gridAlpha=t.gridAlpha,r.color=t.color,r.tickLength=0,r.axisAlpha=0,r.autoGridCount=t.autoGridCount,r.parseDates&&!r.equalSpacing&&r.timeZoom(i.firstTime,i.lastTime),r.minimum=t.gridAxis.fullMin,r.maximum=t.gridAxis.fullMax,r.strictMinMax=!0,r.zoom(0,o.length-1),(h=t.graph)&&t.catScrollbar){var d=t.valueAxis,p=h.valueAxis;d.id=p.id,d.rotate=n,d.setOrientation(n),d.width=l,d.height=c,d.dataProvider=o,d.reversed=p.reversed,d.logarithmic=p.logarithmic,d.gridAlpha=0,d.axisAlpha=0,u.push(d.set),n?(d.y=s,d.x=0):(d.x=a,d.y=0);var f,a=1/0,s=-1/0;for(f=0;f<o.length;f++){var m,g=o[f].axes[p.id].graphs[h.id].values;for(m in g)if(g.hasOwnProperty(m)&&"percents"!=m&&"total"!=m){var v=g[m];v<a&&(a=v),v>s&&(s=v)}}1/0!=a&&(d.minimum=a),-1/0!=s&&(d.maximum=s+.1*(s-a)),a==s&&(--d.minimum,d.maximum+=1),void 0!==t.minimum&&(d.minimum=t.minimum),void 0!==t.maximum&&(d.maximum=t.maximum),d.zoom(0,o.length-1),m=t.unselectedGraph,m.id=h.id,m.bcn="scrollbar-graph-",m.rotate=n,m.chart=i,m.data=o,m.valueAxis=d,m.chart=h.chart,m.categoryAxis=t.categoryAxis,m.periodSpan=h.periodSpan,m.valueField=h.valueField,m.openField=h.openField,m.closeField=h.closeField,m.highField=h.highField,m.lowField=h.lowField,m.lineAlpha=t.graphLineAlpha,m.lineColorR=t.graphLineColor,m.fillAlphas=t.graphFillAlpha,m.fillColorsR=t.graphFillColor,m.connect=h.connect,m.hidden=h.hidden,m.width=l,m.height=c,m.pointPosition=h.pointPosition,m.stepDirection=h.stepDirection,m.periodSpan=h.periodSpan,p=t.selectedGraph,p.id=h.id,p.bcn=m.bcn+"selected-",p.rotate=n,p.chart=i,p.data=o,p.valueAxis=d,p.chart=h.chart,p.categoryAxis=r,p.periodSpan=h.periodSpan,p.valueField=h.valueField,p.openField=h.openField,p.closeField=h.closeField,p.highField=h.highField,p.lowField=h.lowField,p.lineAlpha=t.selectedGraphLineAlpha,p.lineColorR=t.selectedGraphLineColor,p.fillAlphas=t.selectedGraphFillAlpha,p.fillColorsR=t.selectedGraphFillColor,p.connect=h.connect,p.hidden=h.hidden,p.width=l,p.height=c,p.pointPosition=h.pointPosition,p.stepDirection=h.stepDirection,p.periodSpan=h.periodSpan,i=t.graphType,i||(i=h.type),m.type=i,p.type=i,o=o.length-1,m.zoom(0,o),p.zoom(0,o),p.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),m.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),u.push(m.set),u.push(p.set)}u.push(r.set),u.push(r.labelsSet),t.bg.toBack(),t.invisibleBg.toFront(),t.dragger.toFront(),t.iconLeft.toFront(),t.iconRight.toFront()}},timeZoom:function(t,i,o){this.startTime=t,this.endTime=i,this.timeDifference=i-t,this.skipEvent=!e.toBoolean(o),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(e,t){this.start=e,this.end=t,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname)e.ChartScrollbar.base.dispatchScrollbarEvent.call(this);else if(this.skipEvent)this.skipEvent=!1;else{var t,i,o=this.chart.chartData,r=this.dragger.getBBox();t=r.x;var n=r.y,a=r.width,r=r.height,s=this.chart;this.rotate?(t=n,i=r):i=a,a={type:"zoomed",target:this},a.chart=s;var l=this.categoryAxis,c=this.stepWidth,n=s.minSelectedTime,r=s.maxSelectedTime,h=!1;l.parseDates&&!l.equalSpacing?(o=s.lastTime,s=s.firstTime,l=Math.round(t/c)+s,t=this.dragging?l+this.timeDifference:Math.round((t+i)/c)+s,l>t&&(l=t),0<n&&t-l<n&&(t=Math.round(l+(t-l)/2),h=Math.round(n/2),l=t-h,t+=h,h=!0),0<r&&t-l>r&&(t=Math.round(l+(t-l)/2),h=Math.round(r/2),l=t-h,t+=h,h=!0),t>o&&(t=o),t-n<l&&(l=t-n),l<s&&(l=s),l+n>t&&(t=l+n),(l!=this.startTime||t!=this.endTime)&&(this.startTime=l,this.endTime=t,a.start=l,a.end=t,a.startDate=new Date(l),a.endDate=new Date(t),this.fire(a))):(l.startOnAxis||(t+=c/2),i-=this.stepWidth/2,n=l.xToIndex(t),t=l.getCoordinate(n)-this.stepWidth/2,t=l.xToIndex(t+i),n==this.start&&this.end==t||(l.startOnAxis&&(this.resizingRight&&n==t&&t++,this.resizingLeft&&n==t&&(0<n?n--:t=1)),this.start=n,this.end=this.dragging?this.start+this.difference:t,a.start=this.start,a.end=this.end,l.parseDates&&(o[this.start]&&(a.startDate=new Date(o[this.start].time)),o[this.end]&&(a.endDate=new Date(o[this.end].time))),this.fire(a)),this.percentStart=n,this.percentEnd=t),h&&this.zoomScrollbar(!0)}},zoomScrollbar:function(e){if((!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||e)&&this.dragger&&this.enabled){var t,i,o=this.chart;e=o.chartData;var r=this.categoryAxis;r.parseDates&&!r.equalSpacing?(e=r.stepWidth,i=o.firstTime,t=e*(this.startTime-i),i=e*(this.endTime-i)):(e[this.start]&&(t=e[this.start].x[r.id]),e[this.end]&&(i=e[this.end].x[r.id]),e=r.stepWidth,r.startOnAxis||(o=e/2,t-=o,i+=o)),this.stepWidth=e,isNaN(t)||isNaN(i)||this.updateScrollbarSize(t,i)}},maskGraphs:function(e,t,i,o){var r=this.selectedGraph;r&&r.set.clipRect(e,t,i,o)},handleDragStart:function(){e.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){e.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var e=window.AmCharts;e.AmBalloon=e.Class({construct:function(t){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,e.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,e.applyTheme(this,t,this.cname)},draw:function(){var t=this.pointToX,i=this.pointToY;e.isModern||(this.drop=!1);var o=this.chart;if(e.VML&&(this.fadeOutDuration=0),this.xAnim&&o.stopAnim(this.xAnim),this.yAnim&&o.stopAnim(this.yAnim),this.sdy=this.sdx=0,!isNaN(t)){var r=this.follow,n=o.container,a=this.set;if(e.remove(a),this.removeDiv(),a=n.set(),a.node.style.pointerEvents="none",this.set=a,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):o.balloonsSet.push(a),this.show){var s=this.l,l=this.t,c=this.r,h=this.b,u=this.balloonColor,d=this.fillColor,p=this.borderColor,f=d;void 0!=u&&(this.adjustBorderColor?f=p=u:d=u);var m=this.horizontalPadding,g=this.verticalPadding,v=this.pointerWidth,b=this.pointerOrientation,w=this.cornerRadius,y=o.fontFamily,C=this.fontSize;void 0==C&&(C=o.fontSize);var u=document.createElement("div"),x=o.classNamePrefix;u.className=x+"-balloon-div",this.className&&(u.className=u.className+" "+x+"-balloon-div-"+this.className),x=u.style,this.disableMouseEvents&&(x.pointerEvents="none"),x.position="absolute";var S=this.minWidth,P=document.createElement("div");u.appendChild(P);var T=P.style;isNaN(S)||(T.minWidth=S-2*m+"px"),T.textAlign=this.textAlign,T.maxWidth=this.maxWidth+"px",T.fontSize=C+"px",T.color=this.color,T.fontFamily=y,P.innerHTML=this.text,o.chartDiv.appendChild(u),this.textDiv=u;var T=u.offsetWidth,O=u.offsetHeight;u.clientHeight&&(T=u.clientWidth,O=u.clientHeight),y=O+2*g,P=T+2*m,!isNaN(S)&&P<S&&(P=S),window.opera&&(y+=2);var k=!1,C=this.offsetY;o.handDrawn&&(C+=o.handDrawScatter+2),"H"!=b?(S=t-P/2,i<l+y+10&&"down"!=b?(k=!0,r&&(i+=C),C=i+v,this.deltaSignY=-1):(r&&(i-=C),C=i-y-v,this.deltaSignY=1)):(2*v>y&&(v=y/2),C=i-y/2,t<s+(c-s)/2?(S=t+v,this.deltaSignX=-1):(S=t-P-v,this.deltaSignX=1)),C+y>=h&&(C=h-y),C<l&&(C=l),S<s&&(S=s),S+P>c&&(S=c-P);var A,l=C+g,h=S+m,N=this.shadowAlpha,B=this.shadowColor,m=this.borderThickness,j=this.bulletSize,g=this.fillAlpha,I=this.borderAlpha;this.showBullet&&(A=e.circle(n,j,f,g),a.push(A)),this.drop?(s=P/1.6,c=0,"V"==b&&(b="down"),"H"==b&&(b="left"),"down"==b&&(S=t+1,C=i-s-s/3),"up"==b&&(c=180,S=t+1,C=i+s+s/3),"left"==b&&(c=270,S=t+s+s/3+2,C=i),"right"==b&&(c=90,S=t-s-s/3+2,C=i),l=C-O/2+1,h=S-T/2-1,d=e.drop(n,s,c,d,g,m,p,I)):0<w||0===v?(0<N&&(t=e.rect(n,P,y,d,0,m+1,B,N,w),e.isModern?t.translate(1,1):t.translate(4,4),a.push(t)),d=e.rect(n,P,y,d,g,m,p,I,w)):(f=[],w=[],"H"!=b?(s=t-S,s>P-v&&(s=P-v),s<v&&(s=v),f=[0,s-v,t-S,s+v,P,P,0,0],w=k?[0,0,i-C,0,0,y,y,0]:[y,y,i-C,y,y,0,0,y]):(b=i-C,b>y-v&&(b=y-v),b<v&&(b=v),w=[0,b-v,i-C,b+v,y,y,0,0],f=t<s+(c-s)/2?[0,0,S<t?0:t-S,0,0,P,P,0]:[P,P,S+P>t?P:t-S,P,P,0,0,P]),0<N&&(t=e.polygon(n,f,w,d,0,m,B,N),t.translate(1,1),a.push(t)),d=e.polygon(n,f,w,d,g,m,p,I)),this.bg=d,a.push(d),d.toFront(),e.setCN(o,d,"balloon-bg"),this.className&&e.setCN(o,d,"balloon-bg-"+this.className),n=1*this.deltaSignX,h+=this.sdx,l+=this.sdy,x.left=h+"px",x.top=l+"px",a.translate(S-n,C,1,!0),d=d.getBBox(),this.bottom=C+y+1,this.yPos=d.y+C,A&&A.translate(this.pointToX-S+n,i-C),i=this.animationDuration,0<this.animationDuration&&!r&&!isNaN(this.prevX)&&(a.translate(this.prevX,this.prevY,NaN,!0),a.animate({translate:S-n+","+C},i,"easeOutSine"),u&&(x.left=this.prevTX+"px",x.top=this.prevTY+"px",this.xAnim=o.animate({node:u},"left",this.prevTX,h,i,"easeOutSine","px"),this.yAnim=o.animate({node:u},"top",this.prevTY,l,i,"easeOutSine","px"))),this.prevX=S-n,this.prevY=C,this.prevTX=h,this.prevTY=l}}},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){if(this.follow&&this.show){var e=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,t=this.chart.mouseY-this.sdy;if(this.pointToX=e,this.pointToY=t,e!=this.previousX||t!=this.previousY)if(this.previousX=e,this.previousY=t,0===this.cornerRadius)this.draw();else{var i=this.set;if(i){var o=i.getBBox(),e=e-o.width/2,r=t-o.height-10;e<this.l&&(e=this.l),e>this.r-o.width&&(e=this.r-o.width),r<this.t&&(r=t+10),i.translate(e,r),t=this.textDiv.style,t.left=e+this.horizontalPadding+"px",t.top=r+this.verticalPadding+"px"}}}},changeColor:function(e){this.balloonColor=e},setBounds:function(e,t,i,o){this.l=e,this.t=t,this.r=i,this.b=o,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(e){(this.text!=e||this.positionChanged)&&(this.text=e,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),e=this.chart,this.fadeAnim1&&e.stopAnim(this.fadeAnim1),this.fadeAnim2&&e.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(e){var t=this;t.text=void 0,isNaN(e)&&(e=t.fadeOutDuration);var i=t.chart;if(0<e&&!t.isHiding){t.isHiding=!0,t.destroyTO&&clearTimeout(t.destroyTO),t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*e),t.follow=!1,t.show=!1;var o=t.set;o&&(o.setAttr("opacity",t.fillAlpha),t.fadeAnim1=o.animate({opacity:0},e,"easeInSine")),t.textDiv&&(t.fadeAnim2=i.animate({node:t.textDiv},"opacity",1,0,e,"easeInSine",""))}else t.show=!1,t.follow=!1,t.destroy()},setPosition:function(e,t){e==this.pointToX&&t==this.pointToY||(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=e,this.pointToY=t,this.positionChanged=!0)},followCursor:function(e){var t=this;t.follow=e,clearInterval(t.interval);var i=t.chart.mouseX-t.sdx,o=t.chart.mouseY-t.sdy;!isNaN(i)&&e&&(t.pointToX=i-t.offsetX*t.deltaSignX,t.pointToY=o,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var e=this.textDiv.parentNode;e&&e.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),e.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var e=window.AmCharts;e.AmCoordinateChart=e.Class({inherits:e.AmChart,construct:function(t){e.AmCoordinateChart.base.construct.call(this,t),this.theme=t,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,e.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){e.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var t=this.categoryAxis;t&&(this.categoryAxis=e.processObject(t,e.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),e.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var t=new e.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(e){if(this.chartData=[],e)if(0<this.processTimeout){1>this.processCount&&(this.processCount=1);var t=e.length/this.processCount;this.parseCount=Math.ceil(t)-1;for(var i=0;i<t;i++)this.delayParseSerialData(e,i)}else this.parseCount=0,this.parsePartSerialData(e,0,e.length,0);else this.onDataUpdated()},delayParseSerialData:function(e,t){var i=this,o=i.processCount;setTimeout(function(){i.parsePartSerialData.call(i,e,t*o,(t+1)*o,t)},i.processTimeout)},parsePartSerialData:function(t,i,o,r){o>t.length&&(o=t.length);var n=this.graphs,a={},s=this.seriesIdField;s||(s=this.categoryField);var l,c,h,u,d=!1,p=this.categoryAxis;p&&(d=p.parseDates,c=p.forceShowField,u=p.classNameField,h=p.labelColorField,l=p.categoryFunction);var f,m,g,v={};d&&(f=e.extractPeriod(p.minPeriod),m=f.period,f=f.count,g=e.getPeriodDuration(m,f));var b={};this.lookupTable=b;var w,y=this.dataDateFormat,C={};for(w=i;w<o;w++){var x={},S=t[w];if(i=S[this.categoryField],x.dataContext=S,x.category=l?l(i,S,p):String(i),c&&(x.forceShow=S[c]),u&&(x.className=S[u]),h&&(x.labelColor=S[h]),b[S[s]]=x,!d||(p.categoryFunction?i=p.categoryFunction(i,S,p):(!y||i instanceof Date||(i=i.toString()+" |"),i=e.getDate(i,y,p.minPeriod)),i=e.resetDateToMin(i,m,f,p.firstDayOfWeek),x.category=i,x.time=i.getTime(),!isNaN(x.time))){var P=this.valueAxes;x.axes={},x.x={};var T;for(T=0;T<P.length;T++){var O=P[T].id;x.axes[O]={},x.axes[O].graphs={};var k;for(k=0;k<n.length;k++){i=n[k];var A=i.id,N=1.1;isNaN(i.gapPeriod)||(N=i.gapPeriod);var B=i.periodValue;if(i.valueAxis.id==O){x.axes[O].graphs[A]={};var j={};j.index=w;var I=S;if(i.dataProvider&&(I=a),j.values=this.processValues(I,i,B),!i.connect||i.forceGap&&!isNaN(i.gapPeriod))if(C&&C[A]&&0<N&&x.time-v[A]>=g*N&&(C[A].gap=!0),i.forceGap){var V,N=0;for(V in j.values)N++;0<N&&(v[A]=x.time,C[A]=j)}else v[A]=x.time,C[A]=j;this.processFields(i,j,I),j.category=x.category,j.serialDataItem=x,j.graph=i,x.axes[O].graphs[A]=j}}}this.chartData[w]=x}}if(this.parseCount==r){for(t=0;t<n.length;t++)i=n[t],i.dataProvider&&this.parseGraphData(i);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(t,i,o){var r,n={},a=!1;"candlestick"!=i.type&&"ohlc"!=i.type||""===o||(a=!0);for(var s="value error open close low high".split(" "),l=0;l<s.length;l++){var c=s[l];"value"!=c&&"error"!=c&&a&&(o=c.charAt(0).toUpperCase()+c.slice(1));var h=t[i[c+"Field"]+o];null!==h&&(r=Number(h),isNaN(r)||(n[c]=r),"date"==i.valueAxis.type&&void 0!==h&&(r=e.getDate(h,i.chart.dataDateFormat),n[c]=r.getTime()))}return n},parseGraphData:function(e){var t=e.dataProvider,i=e.seriesIdField;i||(i=this.seriesIdField),i||(i=this.categoryField);var o;for(o=0;o<t.length;o++){var r=t[o],n=this.lookupTable[String(r[i])],a=e.valueAxis.id;n&&(a=n.axes[a].graphs[e.id],a.serialDataItem=n,a.values=this.processValues(r,e,e.periodValue),this.processFields(e,a,r))}},addValueAxis:function(e){e.chart=this,this.valueAxes.push(e),this.validateData()},removeValueAxesAndGraphs:function(){var e,t=this.valueAxes;for(e=t.length-1;-1<e;e--)this.removeValueAxis(t[e])},removeValueAxis:function(e){var t,i=this.graphs;for(t=i.length-1;0<=t;t--){var o=i[t];o&&o.valueAxis==e&&this.removeGraph(o)}for(i=this.valueAxes,t=i.length-1;0<=t;t--)i[t]==e&&i.splice(t,1);this.validateData()},addGraph:function(e){this.graphs.push(e),this.chooseGraphColor(e,this.graphs.length-1),this.validateData()},removeGraph:function(e){var t,i=this.graphs;for(t=i.length-1;0<=t;t--)i[t]==e&&(i.splice(t,1),e.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var t,i=this.valueAxes;for(t=0;t<i.length;t++){var o=i[t],o=e.processObject(o,e.ValueAxis,this.theme);i[t]=o,o.chart=this,o.init(),this.listenTo(o,"axisIntZoomed",this.handleValueAxisZoom),o.id||(o.id="valueAxisAuto"+t+"_"+(new Date).getTime()),void 0===o.usePrefixes&&(o.usePrefixes=this.usePrefixes)}},processGuides:function(){var t=this.guides,i=this.categoryAxis;if(t)for(var o=0;o<t.length;o++){var r=t[o];(void 0!==r.category||void 0!==r.date)&&i&&i.addGuide(r),r.id||(r.id="guideAuto"+o+"_"+(new Date).getTime());var n=r.valueAxis;n?(e.isString(n)&&(n=this.getValueAxisById(n)),n?n.addGuide(r):this.valueAxes[0].addGuide(r)):isNaN(r.value)||this.valueAxes[0].addGuide(r)}},processGraphs:function(){var t,i=this.graphs;for(this.graphsById={},t=0;t<i.length;t++){var o=i[t],o=e.processObject(o,e.AmGraph,this.theme);i[t]=o,this.chooseGraphColor(o,t),o.chart=this,o.init(),e.isString(o.valueAxis)&&(o.valueAxis=this.getValueAxisById(o.valueAxis)),o.valueAxis||(o.valueAxis=this.valueAxes[0]),o.id||(o.id="graphAuto"+t+"_"+(new Date).getTime()),this.graphsById[o.id]=o}},formatString:function(t,i,o){var r=i.graph,n=r.valueAxis;if(n.duration&&n.maxInterval&&i.values.value){var a=n.numberFormatter;a||(a=chart.nf),n=e.formatDuration(i.values.value,n.duration,"",n.durationUnits,n.maxInterval,a),t=t.split("[[value]]").join(n)}return t=e.massReplace(t,{"[[title]]":r.title,"[[description]]":i.description}),t=o?e.fixNewLines(t):e.fixBrakes(t),t=e.cleanFromEmpty(t)},getBalloonColor:function(t,o,r){var n=t.lineColor,a=t.balloonColor;return r&&(a=n),r=t.fillColorsR,"object"==(void 0===r?"undefined":i(r))?n=r[0]:void 0!==r&&(n=r),o.isNegative&&(r=t.negativeLineColor,t=t.negativeFillColors,"object"==(void 0===t?"undefined":i(t))?r=t[0]:void 0!==t&&(r=t),void 0!==r&&(n=r)),void 0!==o.color&&(n=o.color),void 0!==o.lineColor&&(n=o.lineColor),o=o.fillColors,void 0!==o&&(n=o,e.ifArray(o)&&(n=o[0])),void 0===a&&(a=n),a},getGraphById:function(t){return e.getObjById(this.graphs,t)},getValueAxisById:function(t){return e.getObjById(this.valueAxes,t)},processFields:function(t,i,o){if(t.itemColors){var r=t.itemColors,n=i.index;i.color=n<r.length?r[n]:e.randomColor()}for(r="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),n=0;n<r.length;n++){var a=r[n],s=t[a+"Field"];s&&(s=o[s],e.isDefined(s)&&(i[a]=s))}i.dataContext=o},chooseGraphColor:function(t,i){if(t.lineColor)t.lineColorR=t.lineColor;else{var o;o=this.colors.length>i?this.colors[i]:t.lineColorR?t.lineColorR:e.randomColor(),t.lineColorR=o}t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR,t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor,t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR,(o=this.patterns)&&(t.pattern=o[i])},handleLegendEvent:function(e){var t=e.type;if(e=e.dataItem){var i=e.hidden,o=e.showBalloon;switch(t){case"clickMarker":this.textClickEnabled&&(o?this.hideGraphsBalloon(e):this.showGraphsBalloon(e));break;case"clickLabel":o?this.hideGraphsBalloon(e):this.showGraphsBalloon(e);break;case"rollOverItem":i||this.highlightGraph(e);break;case"rollOutItem":i||this.unhighlightGraph();break;case"hideItem":this.hideGraph(e);break;case"showItem":this.showGraph(e)}}},highlightGraph:function(e){var t=this.graphs;if(t){var i,o=.2;if(this.legend&&(o=this.legend.rollOverGraphAlpha),1!=o)for(i=0;i<t.length;i++){var r=t[i];r!=e&&r.changeOpacity(o)}}},unhighlightGraph:function(){var e;if(this.legend&&(e=this.legend.rollOverGraphAlpha),1!=e){e=this.graphs;var t;for(t=0;t<e.length;t++)e[t].changeOpacity(1)}},showGraph:function(e){e.switchable&&(e.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(e){e.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),e.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(e){e.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(e){e.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){this.animatable=[];var e=this.graphs;if(e){var t;for(t=0;t<e.length;t++)e[t].animationPlayed=!1}},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var e=window.AmCharts;e.TrendLine=e.Class({construct:function(t){this.cname="TrendLine",this.createEvents("click","rollOver","rollOut"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,e.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var i,o,r,n,a=t.chart,s=a.container,l=t.categoryAxis,c=t.initialDate,h=t.initialCategory,u=t.finalDate,d=t.finalCategory,p=t.valueAxis,f=t.valueAxisX,m=t.initialXValue,g=t.finalXValue,v=t.initialValue,b=t.finalValue,w=p.recalculateToPercents,y=a.dataDateFormat;l&&(c&&(c=e.getDate(c,y,"fff"),t.initialDate=c,i=l.dateToCoordinate(c)),h&&(i=l.categoryToCoordinate(h)),u&&(u=e.getDate(u,y,"fff"),t.finalDate=u,o=l.dateToCoordinate(u)),d&&(o=l.categoryToCoordinate(d))),f&&!w&&(isNaN(m)||(i=f.getCoordinate(m)),isNaN(g)||(o=f.getCoordinate(g))),p&&!w&&(isNaN(v)||(r=p.getCoordinate(v)),isNaN(b)||(n=p.getCoordinate(b))),isNaN(i)||isNaN(o)||isNaN(r)||isNaN(r)||(a.rotate?(l=[r,n],n=[i,o]):(l=[i,o],n=[r,n]),r=e.line(s,l,n,t.lineColor,t.lineAlpha,t.lineThickness,t.dashLength),i=l,o=n,u=l[1]-l[0],d=n[1]-n[0],0===u&&(u=.01),0===d&&(d=.01),c=u/Math.abs(u),h=d/Math.abs(d),d=90*Math.PI/180-Math.asin(u/(u*d/Math.abs(u*d)*Math.sqrt(Math.pow(u,2)+Math.pow(d,2)))),u=Math.abs(5*Math.cos(d)),d=Math.abs(5*Math.sin(d)),i.push(l[1]-c*d,l[0]-c*d),o.push(n[1]+h*u,n[0]+h*u),n=e.polygon(s,i,o,"#ffffff",.005,0),s=s.set([n,r]),s.translate(a.marginLeftReal,a.marginTopReal),a.trendLinesSet.push(s),e.setCN(a,r,"trend-line"),e.setCN(a,r,"trend-line-"+t.id),t.line=r,t.set=s,(r=t.initialImage)&&(r=e.processObject(r,e.Image,t.theme),r.chart=a,r.draw(),r.translate(i[0]+r.offsetX,o[0]+r.offsetY),s.push(r.set)),(r=t.finalImage)&&(r=e.processObject(r,e.Image,t.theme),r.chart=a,r.draw(),r.translate(i[1]+r.offsetX,o[1]+r.offsetY),s.push(r.set)),s.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),s.touchend&&s.touchend(function(){t.handleLineClick()}),s.clipRect(0,0,a.plotAreaWidth,a.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var e=this.rollOverColor;void 0!==e&&this.line.attr({stroke:e}),this.balloonText&&(clearTimeout(this.chart.hoverInt),e=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+e.x+e.width/2,this.y+e.y+e.height/2)),this.fire({type:"rollOver",trendLine:this,chart:this.chart})},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon(),this.fire({type:"rollOut",trendLine:this,chart:this.chart})},destroy:function(){e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.Image=e.Class({construct:function(t){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,e.applyTheme(this,t,this.cname)},draw:function(){var e=this;e.set&&e.set.remove();var t=e.chart.container;e.set=t.set();var i,o;e.url?(i=t.image(e.url,0,0,e.width,e.height),o=1):e.svgPath&&(i=t.path(e.svgPath),i.setAttr("fill",e.color),i.setAttr("stroke",e.outlineColor),t=i.getBBox(),o=Math.min(e.width/t.width,e.height/t.height)),i&&(i.setAttr("opacity",e.opacity),e.set.rotate(e.rotation),i.translate(-e.width/2,-e.height/2,o),e.balloonText&&i.mouseover(function(){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}).mouseout(function(){e.chart.hideBalloon()}).touchend(function(){e.chart.hideBalloon()}).touchstart(function(){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}),e.set.push(i))},translate:function(e,t){this.set&&this.set.translate(e,t)}})}(),function(){var e=window.AmCharts;e.circle=function(t,i,o,r,n,a,s,l,c){return 0>=i&&(i=.001),void 0!=n&&0!==n||(n=.01),void 0===a&&(a="#000000"),void 0===s&&(s=0),r={fill:o,stroke:a,"fill-opacity":r,"stroke-width":n,"stroke-opacity":s},t=isNaN(c)?t.circle(0,0,i).attr(r):t.ellipse(0,0,i,c).attr(r),l&&t.gradient("radialGradient",[o,e.adjustLuminosity(o,-.6)]),t},e.text=function(t,i,o,r,n,a,s,l){return a||(a="middle"),"right"==a&&(a="end"),"left"==a&&(a="start"),isNaN(l)&&(l=1),void 0!==i&&(i=String(i),e.isIE&&!e.isModern&&(i=i.replace("&amp;","&"),i=i.replace("&","&amp;"))),o={fill:o,"font-family":r,"font-size":n+"px",opacity:l},!0===s&&(o["font-weight"]="bold"),o["text-anchor"]=a,t.text(i,o)},e.polygon=function(t,o,r,n,a,s,l,c,h,u,d){isNaN(s)&&(s=.01),isNaN(c)&&(c=a);var p=n,f=!1;for("object"==(void 0===p?"undefined":i(p))&&1<p.length&&(f=!0,p=p[0]),void 0===l&&(l=p),a={fill:p,stroke:l,"fill-opacity":a,"stroke-width":s,"stroke-opacity":c},void 0!==d&&0<d&&(a["stroke-dasharray"]=d),d=e.dx,s=e.dy,t.handDrawn&&(r=e.makeHD(o,r,t.handDrawScatter),o=r[0],r=r[1]),l=Math.round,u&&(l=Number),c="M"+(l(o[0])+d)+","+(l(r[0])+s),p=1;p<o.length;p++)u&&(o[p]=e.roundTo(o[p],5),r[p]=e.roundTo(r[p],5)),c+=" L"+(l(o[p])+d)+","+(l(r[p])+s);return t=t.path(c+" Z").attr(a),f&&t.gradient("linearGradient",n,h),t},e.rect=function(t,o,r,n,a,s,l,c,h,u,d){if(isNaN(o)||isNaN(r))return t.set();isNaN(s)&&(s=0),void 0===h&&(h=0),void 0===u&&(u=270),isNaN(a)&&(a=0);var p=n,f=!1;"object"==(void 0===p?"undefined":i(p))&&(p=p[0],f=!0),void 0===l&&(l=p),void 0===c&&(c=a),o=Math.round(o),r=Math.round(r);var m=0,g=0;return 0>o&&(o=Math.abs(o),m=-o),0>r&&(r=Math.abs(r),g=-r),m+=e.dx,g+=e.dy,a={fill:p,stroke:l,"fill-opacity":a,"stroke-opacity":c},void 0!==d&&0<d&&(a["stroke-dasharray"]=d),t=t.rect(m,g,o,r,h,s).attr(a),f&&t.gradient("linearGradient",n,u),t},e.bullet=function(t,i,o,r,n,a,s,l,c,h,u,d,p){var f;switch("circle"==i&&(i="round"),i){case"round":f=e.circle(t,o/2,r,n,a,s,l);break;case"square":f=e.polygon(t,[-o/2,o/2,o/2,-o/2],[o/2,o/2,-o/2,-o/2],r,n,a,s,l,h-180,void 0,p);break;case"rectangle":f=e.polygon(t,[-o,o,o,-o],[o/2,o/2,-o/2,-o/2],r,n,a,s,l,h-180,void 0,p);break;case"diamond":f=e.polygon(t,[-o/2,0,o/2,0],[0,-o/2,0,o/2],r,n,a,s,l);break;case"triangleUp":f=e.triangle(t,o,0,r,n,a,s,l);break;case"triangleDown":f=e.triangle(t,o,180,r,n,a,s,l);break;case"triangleLeft":f=e.triangle(t,o,270,r,n,a,s,l);break;case"triangleRight":f=e.triangle(t,o,90,r,n,a,s,l);break;case"bubble":f=e.circle(t,o/2,r,n,a,s,l,!0);break;case"line":f=e.line(t,[-o/2,o/2],[0,0],r,n,a,s,l);break;case"yError":f=t.set(),f.push(e.line(t,[0,0],[-o/2,o/2],r,n,a)),f.push(e.line(t,[-c,c],[-o/2,-o/2],r,n,a)),f.push(e.line(t,[-c,c],[o/2,o/2],r,n,a));break;case"xError":f=t.set(),f.push(e.line(t,[-o/2,o/2],[0,0],r,n,a)),f.push(e.line(t,[-o/2,-o/2],[-c,c],r,n,a)),f.push(e.line(t,[o/2,o/2],[-c,c],r,n,a))}return f&&f.pattern(u,NaN,d),f},e.triangle=function(e,t,i,o,r,n,a,s){void 0!==n&&0!==n||(n=1),void 0===a&&(a="#000"),void 0===s&&(s=0),o={fill:o,stroke:a,"fill-opacity":r,"stroke-width":n,"stroke-opacity":s},t/=2;var l;return 0===i&&(l=" M"+-t+","+t+" L0,"+-t+" L"+t+","+t+" Z"),180==i&&(l=" M"+-t+","+-t+" L0,"+t+" L"+t+","+-t+" Z"),90==i&&(l=" M"+-t+","+-t+" L"+t+",0 L"+-t+","+t+" Z"),270==i&&(l=" M"+-t+",0 L"+t+","+t+" L"+t+","+-t+" Z"),e.path(l).attr(o)},e.line=function(t,i,o,r,n,a,s,l,c,h,u){if(t.handDrawn&&!u)return e.handDrawnLine(t,i,o,r,n,a,s,l,c,h,u);for(a={fill:"none","stroke-width":a},void 0!==s&&0<s&&(a["stroke-dasharray"]=s),isNaN(n)||(a["stroke-opacity"]=n),r&&(a.stroke=r),r=Math.round,h&&(r=Number,i[0]=e.roundTo(i[0],5),o[0]=e.roundTo(o[0],5)),h=e.dx,n=e.dy,s="M"+(r(i[0])+h)+","+(r(o[0])+n),l=1;l<i.length;l++)i[l]=e.roundTo(i[l],5),o[l]=e.roundTo(o[l],5),s+=" L"+(r(i[l])+h)+","+(r(o[l])+n);return e.VML?t.path(s,void 0,!0).attr(a):(c&&(s+=" M0,0 L0,0"),t.path(s).attr(a))},e.makeHD=function(e,t,i){for(var o=[],r=[],n=1;n<e.length;n++)for(var a=Number(e[n-1]),s=Number(t[n-1]),l=Number(e[n]),c=Number(t[n]),h=Math.round(Math.sqrt(Math.pow(l-a,2)+Math.pow(c-s,2))/50)+1,l=(l-a)/h,c=(c-s)/h,u=0;u<=h;u++){var d=s+u*c+Math.random()*i;o.push(a+u*l+Math.random()*i),r.push(d)}return[o,r]},e.handDrawnLine=function(t,i,o,r,n,a,s,l,c,h){var u,d=t.set();for(u=1;u<i.length;u++)for(var p=[i[u-1],i[u]],f=[o[u-1],o[u]],f=e.makeHD(p,f,t.handDrawScatter),p=f[0],f=f[1],m=1;m<p.length;m++)d.push(e.line(t,[p[m-1],p[m]],[f[m-1],f[m]],r,n,a+Math.random()*t.handDrawThickness-t.handDrawThickness/2,s,l,c,h,!0));return d},e.doNothing=function(e){return e},e.drop=function(e,t,i,o,r,n,a,s){var l=1/180*Math.PI,c=i-20,h=Math.sin(c*l)*t,u=Math.cos(c*l)*t,d=Math.sin((c+40)*l)*t,p=Math.cos((c+40)*l)*t,f=.8*t,m=-t/3,g=t/3;return 0===i&&(m=-m,g=0),180==i&&(g=0),90==i&&(m=0),270==i&&(m=0,g=-g),i={fill:o,stroke:a,"stroke-width":n,"stroke-opacity":s,"fill-opacity":r},t="M"+h+","+u+" A"+t+","+t+",0,1,1,"+d+","+p+" A"+f+","+f+",0,0,0,"+(Math.sin((c+20)*l)*t+g)+","+(Math.cos((c+20)*l)*t+m),t+=" A"+f+","+f+",0,0,0,"+h+","+u,e.path(t,void 0,void 0,"1000,1000").attr(i)},e.wedge=function(t,i,o,r,n,a,s,l,c,h,u,d,p,f){var m=Math.round;a=m(a),s=m(s),l=m(l);var g=m(s/a*l),v=e.VML,b=359.5+a/100;359.94<b&&(b=359.94),n>=b&&(n=b);var w=1/180*Math.PI,b=i+Math.sin(r*w)*l,y=o-Math.cos(r*w)*g,C=i+Math.sin(r*w)*a,x=o-Math.cos(r*w)*s,S=i+Math.sin((r+n)*w)*a,P=o-Math.cos((r+n)*w)*s,T=i+Math.sin((r+n)*w)*l,w=o-Math.cos((r+n)*w)*g,O={fill:e.adjustLuminosity(h.fill,-.2),"stroke-opacity":0,"fill-opacity":h["fill-opacity"]},k=0;180<Math.abs(n)&&(k=1),r=t.set();var A;v&&(b=m(10*b),C=m(10*C),S=m(10*S),T=m(10*T),y=m(10*y),x=m(10*x),P=m(10*P),w=m(10*w),i=m(10*i),c=m(10*c),o=m(10*o),a*=10,s*=10,l*=10,g*=10,1>Math.abs(n)&&1>=Math.abs(S-C)&&1>=Math.abs(P-x)&&(A=!0)),n="";var N;if(d&&(O["fill-opacity"]=0,O["stroke-opacity"]=h["stroke-opacity"]/2,O.stroke=h.stroke),0<c){N=" M"+b+","+(y+c)+" L"+C+","+(x+c),v?(A||(N+=" A"+(i-a)+","+(c+o-s)+","+(i+a)+","+(c+o+s)+","+C+","+(x+c)+","+S+","+(P+c)),N+=" L"+T+","+(w+c),0<l&&(A||(N+=" B"+(i-l)+","+(c+o-g)+","+(i+l)+","+(c+o+g)+","+T+","+(c+w)+","+b+","+(c+y)))):(N+=" A"+a+","+s+",0,"+k+",1,"+S+","+(P+c)+" L"+T+","+(w+c),0<l&&(N+=" A"+l+","+g+",0,"+k+",0,"+b+","+(y+c))),N+=" Z";var B=c;v&&(B/=10);for(var j=0;j<B;j+=10){var I=t.path(N,void 0,void 0,"1000,1000").attr(O);r.push(I),I.translate(0,-j)}N=t.path(" M"+b+","+y+" L"+b+","+(y+c)+" L"+C+","+(x+c)+" L"+C+","+x+" L"+b+","+y+" Z",void 0,void 0,"1000,1000").attr(O),c=t.path(" M"+S+","+P+" L"+S+","+(P+c)+" L"+T+","+(w+c)+" L"+T+","+w+" L"+S+","+P+" Z",void 0,void 0,"1000,1000").attr(O),r.push(N),r.push(c)}if(v?(A||(n=" A"+m(i-a)+","+m(o-s)+","+m(i+a)+","+m(o+s)+","+m(C)+","+m(x)+","+m(S)+","+m(P)),s=" M"+m(b)+","+m(y)+" L"+m(C)+","+m(x)+n+" L"+m(T)+","+m(w)):s=" M"+b+","+y+" L"+C+","+x+" A"+a+","+s+",0,"+k+",1,"+S+","+P+" L"+T+","+w,0<l&&(v?A||(s+=" B"+(i-l)+","+(o-g)+","+(i+l)+","+(o+g)+","+T+","+w+","+b+","+y):s+=" A"+l+","+g+",0,"+k+",0,"+b+","+y),t.handDrawn&&(l=e.line(t,[b,C],[y,x],h.stroke,h.thickness*Math.random()*t.handDrawThickness,h["stroke-opacity"]),r.push(l)),t=t.path(s+" Z",void 0,void 0,"1000,1000").attr(h),u){for(l=[],g=0;g<u.length;g++)l.push(e.adjustLuminosity(h.fill,u[g]));"radial"!=f||e.isModern||(l=[]),0<l.length&&t.gradient(f+"Gradient",l)}return e.isModern&&"radial"==f&&t.grad&&(t.grad.setAttribute("gradientUnits","userSpaceOnUse"),t.grad.setAttribute("r",a),t.grad.setAttribute("cx",i),t.grad.setAttribute("cy",o)),t.pattern(d,NaN,p),r.wedge=t,r.push(t),r},e.rgb2hex=function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},e.adjustLuminosity=function(t,i){t&&-1!=t.indexOf("rgb")&&(t=e.rgb2hex(t)),t=String(t).replace(/[^0-9a-f]/gi,""),6>t.length&&(t=String(t[0])+String(t[0])+String(t[1])+String(t[1])+String(t[2])+String(t[2])),i=i||0;var o,r,n="#";for(r=0;3>r;r++)o=parseInt(t.substr(2*r,2),16),o=Math.round(Math.min(Math.max(0,o+o*i),255)).toString(16),n+=("00"+o).substr(o.length);return n}}(),function(){var e=window.AmCharts;e.Bezier=e.Class({construct:function(t,o,r,n,a,s,l,c,h,u,d){var p=t.chart,f=e.bezierX,m=e.bezierY;isNaN(p.bezierX)||(f=p.bezierX),isNaN(p.bezierY)||(m=p.bezierY),isNaN(f)&&(p.rotate?(f=20,m=4):(m=20,f=4));var g,v;for("object"==(void 0===l?"undefined":i(l))&&1<l.length&&(v=!0,g=l,l=l[0]),"object"==(void 0===c?"undefined":i(c))&&(c=c[0]),0===c&&(l="none"),s={fill:l,"fill-opacity":c,"stroke-width":s},void 0!==h&&0<h&&(s["stroke-dasharray"]=h),isNaN(a)||(s["stroke-opacity"]=a),n&&(s.stroke=n),n="M"+Math.round(o[0])+","+Math.round(r[0])+" ",a=[],h=0;h<o.length;h++)isNaN(o[h])||isNaN(r[h])?(n+=this.drawSegment(a,f,m),h<o.length-1&&(n+="L"+o[h+1]+","+r[h+1]+" "),a=[]):a.push({x:Number(o[h]),y:Number(r[h])});n+=this.drawSegment(a,f,m),u&&(n+=u),this.path=t.path(n).attr(s),this.node=this.path.node,v&&this.path.gradient("linearGradient",g,d)},drawSegment:function(e,t,i){var o="";if(2<e.length)for(var r=0;r<e.length-1;r++){var n=[],a=e[r-1],s=e[r],l=e[r+1],c=e[r+2];0===r?(n.push({x:s.x,y:s.y}),n.push({x:s.x,y:s.y}),n.push({x:l.x,y:l.y}),n.push({x:c.x,y:c.y})):r>=e.length-2?(n.push({x:a.x,y:a.y}),n.push({x:s.x,y:s.y}),n.push({x:l.x,y:l.y}),n.push({x:l.x,y:l.y})):(n.push({x:a.x,y:a.y}),n.push({x:s.x,y:s.y}),n.push({x:l.x,y:l.y}),n.push({x:c.x,y:c.y})),a=[],s=Math.round,a.push({x:s(n[1].x),y:s(n[1].y)}),a.push({x:s((-n[0].x+t*n[1].x+n[2].x)/t),y:s((-n[0].y+i*n[1].y+n[2].y)/i)}),a.push({x:s((n[1].x+t*n[2].x-n[3].x)/t),y:s((n[1].y+i*n[2].y-n[3].y)/i)}),a.push({x:s(n[2].x),y:s(n[2].y)}),o+="C"+a[1].x+","+a[1].y+","+a[2].x+","+a[2].y+","+a[3].x+","+a[3].y+" "}else 1<e.length&&(o+="L"+e[1].x+","+e[1].y);return o}})}(),function(){var e=window.AmCharts;e.AmDraw=e.Class({construct:function(t,i,o,r){e.SVG_NS="http://www.w3.org/2000/svg",e.SVG_XLINK="http://www.w3.org/1999/xlink",e.hasSVG=!!document.createElementNS&&!!document.createElementNS(e.SVG_NS,"svg").createSVGRect,1>i&&(i=10),1>o&&(o=10),this.div=t,this.width=i,this.height=o,this.rBin=document.createElement("div"),e.hasSVG?(e.SVG=!0,i=this.createSvgElement("svg"),t.appendChild(i),this.container=i,this.addDefs(r),this.R=new e.SVGRenderer(this)):e.isIE&&e.VMLRenderer&&(e.VML=!0,e.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(i=document.createStyleSheet(),i.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),e.vmlStyleSheet=i):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new e.VMLRenderer(this,r),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(e.SVG_NS,t)},circle:function(t,i,o,r){var n=new e.AmDObject("circle",this);return n.attr({r:o,cx:t,cy:i}),this.addToContainer(n.node,r),n},ellipse:function(t,i,o,r,n){var a=new e.AmDObject("ellipse",this);return a.attr({rx:o,ry:r,cx:t,cy:i}),this.addToContainer(a.node,n),a},setSize:function(e,t){0<e&&0<t&&(this.container.style.width=e+"px",this.container.style.height=t+"px")},rect:function(t,i,o,r,n,a,s){var l=new e.AmDObject("rect",this);return e.VML&&(n=Math.round(100*n/Math.min(o,r)),o+=2*a,r+=2*a,l.bw=a,l.node.style.marginLeft=-a,l.node.style.marginTop=-a),1>o&&(o=1),1>r&&(r=1),l.attr({x:t,y:i,width:o,height:r,rx:n,ry:n,"stroke-width":a}),this.addToContainer(l.node,s),l},image:function(t,i,o,r,n,a){var s=new e.AmDObject("image",this);return s.attr({x:i,y:o,width:r,height:n}),this.R.path(s,t),this.addToContainer(s.node,a),s},addToContainer:function(e,t){t||(t=this.container),t.appendChild(e)},text:function(e,t,i){return this.R.text(e,t,i)},path:function(t,i,o,r){var n=new e.AmDObject("path",this);return r||(r="100,100"),n.attr({cs:r}),o?n.attr({dd:t}):n.attr({d:t}),this.addToContainer(n.node,i),n},set:function(e){return this.R.set(e)},remove:function(e){if(e){var t=this.rBin;t.appendChild(e),t.innerHTML=""}},renderFix:function(){var e=this.container,t=e.style;t.top="0px",t.left="0px";try{var i=e.getBoundingClientRect(),o=i.left-Math.round(i.left),r=i.top-Math.round(i.top);o&&(t.left=o+"px"),r&&(t.top=r+"px")}catch(e){}},update:function(){this.R.update()},addDefs:function(t){if(e.hasSVG){var i=this.createSvgElement("desc"),o=this.container;if(o.setAttribute("version","1.1"),o.style.position="absolute",this.setSize(this.width,this.height),t.accessibleTitle){var r=this.createSvgElement("text");o.appendChild(r),r.innerHTML=t.accessibleTitle,r.style.opacity=0}e.rtl&&(o.setAttribute("direction","rtl"),o.style.left="auto",o.style.right="0px"),t&&(t.addCodeCredits&&i.appendChild(document.createTextNode("JavaScript chart by amCharts "+t.version)),t.accessibleDescription&&(i.innerHTML="",i.appendChild(document.createTextNode(t.accessibleDescription))),o.appendChild(i),t.defs&&(i=this.createSvgElement("defs"),o.appendChild(i),e.parseDefs(t.defs,i),this.defs=i))}}})}(),function(){var e=window.AmCharts;e.AmDObject=e.Class({construct:function(e,t){this.D=t,this.R=t.R,this.node=this.R.create(this,e),this.y=this.x=0,this.scale=1},attr:function(e){return this.R.attr(this,e),this},getAttr:function(e){return this.node.getAttribute(e)},setAttr:function(e,t){return this.R.setAttr(this,e,t),this},clipRect:function(e,t,i,o){this.R.clipRect(this,e,t,i,o)},translate:function(e,t,i,o){o||(e=Math.round(e),t=Math.round(t)),this.R.move(this,e,t,i),this.x=e,this.y=t,this.scale=i,this.angle&&this.rotate(this.angle)},rotate:function(e,t){this.R.rotate(this,e,t),this.angle=e},animate:function(t,i,o){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];o=e.getEffect(o),this.R.animate(this,n,a,i,o)}},push:function(e){if(e){var t=this.node;t.appendChild(e.node);var i=e.clipPath;i&&t.appendChild(i),(e=e.grad)&&t.appendChild(e)}},text:function(e){this.R.setText(this,e)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var e=this.node;if(e.hasChildNodes())for(;1<=e.childNodes.length;)e.removeChild(e.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;t&&t.appendChild(e)}},toPrevious:function(){var e=this.node;e&&this.prevNextNode&&(e=e.parentNode)&&e.insertBefore(this.prevNextNode,null)},toBack:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;if(t){var i=t.firstChild;i&&t.insertBefore(e,i)}}},mouseover:function(e){return this.R.addListener(this,"mouseover",e),this},mouseout:function(e){return this.R.addListener(this,"mouseout",e),this},click:function(e){return this.R.addListener(this,"click",e),this},dblclick:function(e){return this.R.addListener(this,"dblclick",e),this},mousedown:function(e){return this.R.addListener(this,"mousedown",e),this},mouseup:function(e){return this.R.addListener(this,"mouseup",e),this},touchmove:function(e){return this.R.addListener(this,"touchmove",e),this},touchstart:function(e){return this.R.addListener(this,"touchstart",e),this},touchend:function(e){return this.R.addListener(this,"touchend",e),this},keyup:function(e){return this.R.addListener(this,"keyup",e),this},focus:function(e){return this.R.addListener(this,"focus",e),this},blur:function(e){return this.R.addListener(this,"blur",e),this},contextmenu:function(e){return this.node.addEventListener?this.node.addEventListener("contextmenu",e,!0):this.R.addListener(this,"contextmenu",e),this},stop:function(){e.removeFromArray(this.R.animations,this.an_translate),e.removeFromArray(this.R.animations,this.an_y),e.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(e,t,i){this.R.gradient(this,e,t,i)},pattern:function(e,t,i){e&&this.R.pattern(this,e,t,i)}})}(),function(){var e=window.AmCharts;e.VMLRenderer=e.Class({construct:function(e,t){this.chart=t,this.D=e,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(e,t){var i;if("group"==t)i=document.createElement("div"),e.type="div";else if("text"==t)i=document.createElement("div"),e.type="text";else if("image"==t)i=document.createElement("img"),e.type="image";else{e.type="shape",e.shapeType=this.cNames[t],i=document.createElement("amvml:"+this.cNames[t]);var o=document.createElement("amvml:stroke");i.appendChild(o),e.stroke=o;var r=document.createElement("amvml:fill");i.appendChild(r),e.fill=r,r.className="amvml",o.className="amvml",i.className="amvml"}return i.style.position="absolute",i.style.top=0,i.style.left=0,i},path:function(e,t){e.node.setAttribute("src",t)},setAttr:function(t,i,o){if(void 0!==o){var r;8===document.documentMode&&(r=!0);var n=t.node,a=t.type,s=n.style;"r"==i&&(s.width=2*o,s.height=2*o),"oval"==t.shapeType&&("rx"==i&&(s.width=2*o),"ry"==i&&(s.height=2*o)),"roundrect"==t.shapeType&&("width"!=i&&"height"!=i||--o),"cursor"==i&&(s.cursor=o),"cx"==i&&(s.left=o-e.removePx(s.width)/2),"cy"==i&&(s.top=o-e.removePx(s.height)/2);var l=this.styleMap[i];if("width"==l&&0>o&&(o=0),void 0!==l&&(s[l]=o),"text"==a&&("text-anchor"==i&&(t.anchor=o,l=n.clientWidth,"end"==o&&(s.marginLeft=-l+"px"),"middle"==o&&(s.marginLeft=-l/2+"px",s.textAlign="center"),"start"==o&&(s.marginLeft="0px")),"fill"==i&&(s.color=o),"font-weight"==i&&(s.fontWeight=o)),s=t.children)for(l=0;l<s.length;l++)s[l].setAttr(i,o);"shape"==a&&("cs"==i&&(n.style.width="100px",n.style.height="100px",n.setAttribute("coordsize",o)),"d"==i&&n.setAttribute("path",this.svgPathToVml(o)),"dd"==i&&n.setAttribute("path",o),a=t.stroke,t=t.fill,"stroke"==i&&(r?a.color=o:a.setAttribute("color",o)),"stroke-width"==i&&(r?a.weight=o:a.setAttribute("weight",o)),"stroke-opacity"==i&&(r?a.opacity=o:a.setAttribute("opacity",o)),"stroke-dasharray"==i&&(s="solid",0<o&&3>o&&(s="dot"),3<=o&&6>=o&&(s="dash"),6<o&&(s="longdash"),r?a.dashstyle=s:a.setAttribute("dashstyle",s)),"fill-opacity"!=i&&"opacity"!=i||(0===o?r?t.on=!1:t.setAttribute("on",!1):r?t.opacity=o:t.setAttribute("opacity",o)),"fill"==i&&(r?t.color=o:t.setAttribute("color",o)),"rx"==i&&(r?n.arcSize=o+"%":n.setAttribute("arcsize",o+"%")))}},attr:function(e,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(e,i,t[i])},text:function(t,i,o){var r=new e.AmDObject("text",this.D),n=r.node;return n.style.whiteSpace="pre",n.innerHTML=t,this.D.addToContainer(n,o),this.attr(r,i),r},getBBox:function(e){return this.getBox(e.node)},getBox:function(e){var t,i=e.offsetLeft,o=e.offsetTop,r=e.offsetWidth,n=e.offsetHeight;if(e.hasChildNodes()){var a,s,l;for(l=0;l<e.childNodes.length;l++){t=this.getBox(e.childNodes[l]);var c=t.x;isNaN(c)||(isNaN(a)?a=c:c<a&&(a=c));var h=t.y;isNaN(h)||(isNaN(s)?s=h:h<s&&(s=h)),c=t.width+c,isNaN(c)||(r=Math.max(r,c)),t=t.height+h,isNaN(t)||(n=Math.max(n,t))}0>a&&(i+=a),0>s&&(o+=s)}return{x:i,y:o,width:r,height:n}},setText:function(e,t){var i=e.node;i&&(i.innerHTML=t),this.setAttr(e,"text-anchor",e.anchor)},addListener:function(e,t,i){e.node["on"+t]=i},move:function(t,i,o){var r=t.node,n=r.style;"text"==t.type&&(o-=e.removePx(n.fontSize)/2-1),"oval"==t.shapeType&&(i-=e.removePx(n.width)/2,o-=e.removePx(n.height)/2),t=t.bw,isNaN(t)||(i-=t,o-=t),isNaN(i)||isNaN(o)||(r.style.left=i+"px",r.style.top=o+"px")},svgPathToVml:function(e){var t=e.split(" ");e="";var i,o,r=Math.round;for(o=0;o<t.length;o++){var n=t[o],a=n.substring(0,1),n=n.substring(1),s=n.split(","),l=r(s[0])+","+r(s[1]);if("M"==a&&(e+=" m "+l),"L"==a&&(e+=" l "+l),"Z"==a&&(e+=" x e"),"Q"==a){var c=i.length,h=i[c-1],u=s[0],d=s[1],l=s[2],p=s[3];i=r(i[c-2]/3+2/3*u),h=r(h/3+2/3*d),u=r(2/3*u+l/3),d=r(2/3*d+p/3),e+=" c "+i+","+h+","+u+","+d+","+l+","+p}"C"==a&&(e+=" c "+s[0]+","+s[1]+","+s[2]+","+s[3]+","+s[4]+","+s[5]),"A"==a&&(e+=" wa "+n),"B"==a&&(e+=" at "+n),i=s}return e},animate:function(e,t,i,o,r){var n=e.node,a=this.chart;if(e.animationFinished=!1,"translate"==t){t=i.split(","),i=t[1];var s=n.offsetTop;a.animate(e,"left",n.offsetLeft,t[0],o,r,"px"),a.animate(e,"top",s,i,o,r,"px")}},clipRect:function(e,t,i,o,r){e=e.node,0===t&&0===i?(e.style.width=o+"px",e.style.height=r+"px",e.style.overflow="hidden"):e.style.clip="rect("+i+"px "+(t+o)+"px "+(i+r)+"px "+t+"px)"},rotate:function(t,i,o){if(0!==Number(i)){var r=t.node;t=r.style,o||(o=this.getBGColor(r.parentNode)),t.backgroundColor=o,t.paddingLeft=1,o=i*Math.PI/180;var n=Math.cos(o),a=Math.sin(o),s=e.removePx(t.left),l=e.removePx(t.top),c=r.offsetWidth,r=r.offsetHeight;i/=Math.abs(i),t.left=s+c/2-c/2*Math.cos(o)-i*r/2*Math.sin(o)+3,t.top=l-i*c/2*Math.sin(o)+i*r/2*Math.sin(o),t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+n+"', M12='"+-a+"', M21='"+a+"', M22='"+n+"', sizingmethod='auto expand');"}},getBGColor:function(e){var t="#FFFFFF";if(e.style){var i=e.style.backgroundColor;""!==i?t=i:e.parentNode&&(t=this.getBGColor(e.parentNode))}return t},set:function(t){var i=new e.AmDObject("group",this.D);if(this.D.container.appendChild(i.node),t){var o;for(o=0;o<t.length;o++)i.push(t[o])}return i},gradient:function(e,t,i,o){var r="";"radialGradient"==t&&(t="gradientradial",i.reverse()),"linearGradient"==t&&(t="gradient");var n;for(n=0;n<i.length;n++)r+=Math.round(100*n/(i.length-1))+"% "+i[n],n<i.length-1&&(r+=",");e=e.fill,90==o?o=0:270==o?o=180:180==o?o=90:0===o&&(o=270),8===document.documentMode?(e.type=t,e.angle=o):(e.setAttribute("type",t),e.setAttribute("angle",o)),r&&(e.colors.value=r)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),this.D.remove(e.node)},disableSelection:function(e){e.onselectstart=function(){return!1},e.style.cursor="default"},pattern:function(t,i,o,r){o=t.node,t=t.fill;var n="none";i.color&&(n=i.color),o.fillColor=n,i=i.url,e.isAbsolute(i)||(i=r+i),8===document.documentMode?(t.type="tile",t.src=i):(t.setAttribute("type","tile"),t.setAttribute("src",i))},update:function(){}})}(),function(){var e=window.AmCharts;e.SVGRenderer=e.Class({construct:function(e){this.D=e,this.animations=[]},create:function(t,i){return document.createElementNS(e.SVG_NS,i)},attr:function(e,t){for(var i in t)t.hasOwnProperty(i)&&this.setAttr(e,i,t[i])},setAttr:function(e,t,i){void 0!==i&&e.node.setAttribute(t,i)},animate:function(t,i,o,r,n){t.animationFinished=!1;var a=t.node;t["an_"+i]&&e.removeFromArray(this.animations,t["an_"+i]),"translate"==i?(a=(a=a.getAttribute("transform"))?String(a).substring(10,a.length-1):"0,0",a=a.split(", ").join(" "),0===(a=a.split(" ").join(","))&&(a="0,0")):a=Number(a.getAttribute(i)),o={obj:t,frame:0,attribute:i,from:a,to:o,time:r,effect:n},this.animations.push(o),t["an_"+i]=o},update:function(){var t,i=this.animations;for(t=i.length-1;0<=t;t--){var o,r,n,a=i[t],s=a.time*e.updateRate,l=a.frame+1,c=a.obj,h=a.attribute;if(l<=s){if(a.frame++,"translate"==h){if(o=a.from.split(","),h=Number(o[0]),o=Number(o[1]),isNaN(o)&&(o=0),r=a.to.split(","),n=Number(r[0]),r=Number(r[1]),n=0==n-h?n:Math.round(e[a.effect](0,l,h,n-h,s)),a=0==r-o?r:Math.round(e[a.effect](0,l,o,r-o,s)),h="transform",isNaN(n)||isNaN(a))continue;a="translate("+n+","+a+")"}else r=Number(a.from),o=Number(a.to),n=o-r,a=e[a.effect](0,l,r,n,s),isNaN(a)&&(a=o),0===n&&this.animations.splice(t,1);this.setAttr(c,h,a)}else"translate"==h?(r=a.to.split(","),n=Number(r[0]),r=Number(r[1]),c.translate(n,r)):(o=Number(a.to),this.setAttr(c,h,o)),c.animationFinished=!0,this.animations.splice(t,1)}},getBBox:function(e){if(e=e.node)try{return e.getBBox()}catch(e){}return{width:0,height:0,x:0,y:0}},path:function(t,i){t.node.setAttributeNS(e.SVG_XLINK,"xlink:href",i)},clipRect:function(t,i,o,r,n){var a=t.node,s=t.clipPath;s&&this.D.remove(s);var l=a.parentNode;l&&(a=document.createElementNS(e.SVG_NS,"clipPath"),s=e.getUniqueId(),a.setAttribute("id",s),this.D.rect(i,o,r,n,0,0,a),l.appendChild(a),i="#",e.baseHref&&!e.isIE&&(i=this.removeTarget(window.location.href)+i),this.setAttr(t,"clip-path","url("+i+s+")"),this.clipPathC++,t.clipPath=a)},text:function(t,i,o){var r=new e.AmDObject("text",this.D);t=String(t).split("\n");var n,a=e.removePx(i["font-size"]);for(n=0;n<t.length;n++){var s=this.create(null,"tspan");s.appendChild(document.createTextNode(t[n])),s.setAttribute("y",(a+2)*n+Math.round(a/2)),s.setAttribute("x",0),r.node.appendChild(s)}return r.node.setAttribute("y",Math.round(a/2)),this.attr(r,i),this.D.addToContainer(r.node,o),r},setText:function(e,t){var i=e.node;i&&(i.removeChild(i.firstChild),i.appendChild(document.createTextNode(t)))},move:function(e,t,i,o){isNaN(t)&&(t=0),isNaN(i)&&(i=0),t="translate("+t+","+i+")",o&&(t=t+" scale("+o+")"),this.setAttr(e,"transform",t)},rotate:function(e,t){var i=e.node.getAttribute("transform"),o="rotate("+t+")";i&&(o=i+" "+o),this.setAttr(e,"transform",o)},set:function(t){var i=new e.AmDObject("g",this.D);if(this.D.container.appendChild(i.node),t){var o;for(o=0;o<t.length;o++)i.push(t[o])}return i},addListener:function(e,t,i){e.node["on"+t]=i},gradient:function(t,i,o,r){var n=t.node,a=t.grad;if(a&&this.D.remove(a),i=document.createElementNS(e.SVG_NS,i),a=e.getUniqueId(),i.setAttribute("id",a),!isNaN(r)){var s=0,l=0,c=0,h=0;90==r?c=100:270==r?h=100:180==r?s=100:0===r&&(l=100),i.setAttribute("x1",s+"%"),i.setAttribute("x2",l+"%"),i.setAttribute("y1",c+"%"),i.setAttribute("y2",h+"%")}for(r=0;r<o.length;r++)s=document.createElementNS(e.SVG_NS,"stop"),l=100*r/(o.length-1),0===r&&(l=0),s.setAttribute("offset",l+"%"),s.setAttribute("stop-color",o[r]),i.appendChild(s);n.parentNode.appendChild(i),o="#",e.baseHref&&!e.isIE&&(o=this.removeTarget(window.location.href)+o),n.setAttribute("fill","url("+o+a+")"),t.grad=i},removeTarget:function(e){return e.split("#")[0]},pattern:function(t,i,o,r){var n=t.node;isNaN(o)&&(o=1);var a=t.patternNode;a&&this.D.remove(a);var a=document.createElementNS(e.SVG_NS,"pattern"),s=e.getUniqueId(),l=i;i.url&&(l=i.url),e.isAbsolute(l)||-1!=l.indexOf("data:image")||(l=r+l),r=Number(i.width),isNaN(r)&&(r=4);var c=Number(i.height);isNaN(c)&&(c=4),r/=o,c/=o,o=i.x,isNaN(o)&&(o=0);var h=-Math.random()*Number(i.randomX);isNaN(h)||(o=h),h=i.y,isNaN(h)&&(h=0);var u=-Math.random()*Number(i.randomY);isNaN(u)||(h=u),a.setAttribute("id",s),a.setAttribute("width",r),a.setAttribute("height",c),a.setAttribute("patternUnits","userSpaceOnUse"),a.setAttribute("xlink:href",l),i.color&&(u=document.createElementNS(e.SVG_NS,"rect"),u.setAttributeNS(null,"height",r),u.setAttributeNS(null,"width",c),u.setAttributeNS(null,"fill",i.color),a.appendChild(u)),this.D.image(l,0,0,r,c,a).translate(o,h),l="#",e.baseHref&&!e.isIE&&(l=this.removeTarget(window.location.href)+l),n.setAttribute("fill","url("+l+s+")"),t.patternNode=a,n.parentNode.appendChild(a)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),e.grad&&this.D.remove(e.grad),e.patternNode&&this.D.remove(e.patternNode),this.D.remove(e.node)}})}(),function(){var e=window.AmCharts;e.AmLegend=e.Class({construct:function(t){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,e.applyTheme(this,t,this.cname)},setData:function(e){this.legendData=e,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var t=this.legendData;this.enabled&&(e.ifArray(t)||e.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,i=this.position,o=this.width,r=t.divRealWidth,n=t.divRealHeight,a=this.div,s=this.legendData;if(this.data&&(s=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize),this.maxColumnsReal=this.maxColumns,"right"==i||"left"==i)this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var l=t.autoMarginOffset;"bottom"==i?(this.marginBottom=l,this.marginTop=0):(this.marginTop=l,this.marginBottom=0)}if(o=void 0!==o?e.toCoordinate(o,r):"right"!=i&&"left"!=i?t.realWidth:0<this.ieW?this.ieW:t.realWidth,"outside"==i?(o=a.offsetWidth,n=a.offsetHeight,a.clientHeight&&(o=a.clientWidth,n=a.clientHeight)):(isNaN(o)||(a.style.width=o+"px"),a.className="amChartsLegend "+t.classNamePrefix+"-legend-div"),this.divWidth=o,(i=this.container)?(i.container.innerHTML="",a.appendChild(i.container),i.width=o,i.height=n,i.setSize(o,n),i.addDefs(t)):i=new e.AmDraw(a,o,n,t),this.container=i,this.lx=0,this.ly=8,n=this.markerSize,n>this.fontSize&&(this.ly=n/2-1),0<n&&(this.lx+=n+this.markerLabelGap),this.titleWidth=0,(n=this.title)&&(n=e.text(this.container,n,this.color,t.fontFamily,this.fontSize,"start",!0),e.setCN(t,n,"legend-title"),n.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=n.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(t=0;t<s.length;t++)this.createEntry(s[t]);for(t=this.index=0;t<s.length;t++)this.createValue(s[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,i=this.marginLeft+this.titleWidth,o=this.marginRight,r=this.marginTop,n=this.marginBottom,a=this.horizontalGap,s=this.div,l=this.divWidth,c=this.maxColumnsReal,h=this.verticalGap,u=this.spacing,d=l-o-i,p=0,f=0,m=this.container;this.set&&this.set.remove();var g=m.set();this.set=g;var v=m.set();g.push(v);var b,w,y=this.entries;for(w=0;w<y.length;w++){b=y[w].getBBox();var C=b.width;C>p&&(p=C),b=b.height,b>f&&(f=b)}var C=f=0,x=a,S=0,P=0;for(w=0;w<y.length;w++){var T=y[w];this.reversedOrder&&(T=y[y.length-w-1]),b=T.getBBox();var O;this.equalWidths?O=C*(p+u+this.markerLabelGap):(O=x,x=x+b.width+a+u),O+b.width>d&&0<w&&0!==C&&(f++,O=C=0,x=O+b.width+a+u,S=S+P+h,P=0),b.height>P&&(P=b.height),T.translate(O,S),C++,!isNaN(c)&&C>=c&&(C=0,f++,S=S+P+h,x=a,P=0),v.push(T)}b=v.getBBox(),c=b.height+2*h-1,"left"==t||"right"==t?(u=b.width+2*a,l=u+i+o,s.style.width=l+"px",this.ieW=l):u=l-i-o-1,o=e.polygon(this.container,[0,u,u,0],[0,0,c,c],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),e.setCN(this.chart,o,"legend-bg"),g.push(o),g.translate(i,r),o.toBack(),i=a,"top"!=t&&"bottom"!=t&&"absolute"!=t&&"outside"!=t||("center"==this.align?i=a+(u-b.width)/2:"right"==this.align&&(i=a+u-b.width)),v.translate(i,h+1),this.titleHeight>c&&(c=this.titleHeight),r=c+r+n+1,0>r&&(r=0),"absolute"!=t&&"outside"!=t&&r>this.chart.divRealHeight&&(s.style.top="0px"),s.style.height=Math.round(r)+"px",m.setSize(this.divWidth,r)},createEntry:function(t){if(!1!==t.visibleInLegend&&!t.hideFromLegend){var i=this,o=i.chart,r=i.useGraphSettings,n=t.markerType;n&&(r=!1),t.legendEntryWidth=i.markerSize,n||(n=i.markerType);var a=t.color,s=t.alpha;t.legendKeyColor&&(a=t.legendKeyColor()),t.legendKeyAlpha&&(s=t.legendKeyAlpha());var l;!0===t.hidden&&(l=a=i.markerDisabledColor);var c,h=t.pattern,u=t.customMarker;u||(u=i.customMarker);var d=i.container,p=i.markerSize,f=0,m=0,g=p/2;if(r)r=t.type,i.switchType=void 0,"line"==r||"step"==r||"smoothedLine"==r||"ohlc"==r?(c=d.set(),t.hidden||(a=t.lineColorR,l=t.bulletBorderColorR),f=e.line(d,[0,2*p],[p/2,p/2],a,t.lineAlpha,t.lineThickness,t.dashLength),e.setCN(o,f,"graph-stroke"),c.push(f),t.bullet&&(t.hidden||(a=t.bulletColorR),f=e.bullet(d,t.bullet,t.bulletSize,a,t.bulletAlpha,t.bulletBorderThickness,l,t.bulletBorderAlpha))&&(e.setCN(o,f,"graph-bullet"),f.translate(p+1,p/2),c.push(f)),g=0,f=p,m=p/3):(t.getGradRotation&&0===(c=t.getGradRotation())&&(c=180),f=t.fillColorsR,!0===t.hidden&&(f=a),(c=i.createMarker("rectangle",f,t.fillAlphas,t.lineThickness,a,t.lineAlpha,c,h,t.dashLength))&&(g=p,c.translate(g,p/2)),f=p),e.setCN(o,c,"graph-"+r),e.setCN(o,c,"graph-"+t.id);else if(u)c=d.image(u,0,0,p,p);else{var v;isNaN(i.gradientRotation)||(v=180+i.gradientRotation),(c=i.createMarker(n,a,s,void 0,void 0,void 0,v,h))&&c.translate(p/2,p/2)}e.setCN(o,c,"legend-marker"),i.addListeners(c,t),d=d.set([c]),i.switchable&&t.switchable&&d.setAttr("cursor","pointer"),void 0!==t.id&&e.setCN(o,d,"legend-item-"+t.id),e.setCN(o,d,t.className,!0),l=i.switchType;var b;l&&"none"!=l&&0<p&&("x"==l?(b=i.createX(),b.translate(p/2,p/2)):b=i.createV(),b.dItem=t,!0!==t.hidden?"x"==l?b.hide():b.show():"x"!=l&&b.hide(),i.switchable||b.hide(),i.addListeners(b,t),t.legendSwitch=b,d.push(b),e.setCN(o,b,"legend-switch")),l=i.color,t.showBalloon&&i.textClickEnabled&&void 0!==i.selectedColor&&(l=i.selectedColor),i.useMarkerColorForLabels&&!h&&(l=a),!0===t.hidden&&(l=i.markerDisabledColor),a=e.massReplace(i.labelText,{"[[title]]":t.title}),void 0!==i.tabIndex&&(d.setAttr("tabindex",i.tabIndex),d.setAttr("role","menuitem"),d.keyup(function(e){13==e.keyCode&&i.clickMarker(t,e)})),o.accessible&&i.accessibleLabel&&(h=e.massReplace(i.accessibleLabel,{"[[title]]":t.title}),o.makeAccessible(d,h)),h=i.fontSize,c&&(p<=h&&(p=p/2+i.ly-h/2+(h+2-p)/2-m,c.translate(g,p),b&&b.translate(b.x,p)),t.legendEntryWidth=c.getBBox().width);var w;a&&(a=e.fixBrakes(a),t.legendTextReal=a,w=i.labelWidth,w=isNaN(w)?e.text(i.container,a,l,o.fontFamily,h,"start"):e.wrappedText(i.container,a,l,o.fontFamily,h,"start",!1,w,0),e.setCN(o,w,"legend-label"),w.translate(i.lx+f,i.ly),d.push(w),i.labelDx=f,o=w.getBBox().width,i.maxLabelWidth<o&&(i.maxLabelWidth=o)),i.entries[i.index]=d,t.legendEntry=i.entries[i.index],t.legendMarker=c,t.legendLabel=w,i.index++}},addListeners:function(e,t){var i=this;e&&e.mouseover(function(e){i.rollOverMarker(t,e)}).mouseout(function(e){i.rollOutMarker(t,e)}).click(function(e){i.clickMarker(t,e)})},rollOverMarker:function(e,t){this.switchable&&this.dispatch("rollOverMarker",e,t),this.dispatch("rollOverItem",e,t)},rollOutMarker:function(e,t){this.switchable&&this.dispatch("rollOutMarker",e,t),this.dispatch("rollOutItem",e,t)},clickMarker:function(e,t){this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t)),this.dispatch("clickMarker",e,t)},rollOverLabel:function(e,t){e.hidden||this.textClickEnabled&&e.legendLabel&&e.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",e,t)},rollOutLabel:function(e,t){if(!e.hidden&&this.textClickEnabled&&e.legendLabel){var i=this.color;void 0!==this.selectedColor&&e.showBalloon&&(i=this.selectedColor),this.useMarkerColorForLabels&&void 0===(i=e.lineColor)&&(i=e.color),e.legendLabel.attr({fill:i})}this.dispatch("rollOutItem",e,t)},clickLabel:function(e,t){this.textClickEnabled?e.hidden||this.dispatch("clickLabel",e,t):this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t))},dispatch:function(e,t,i){e={type:e,dataItem:t,target:this,event:i,chart:this.chart},this.chart&&this.chart.handleLegendEvent(e),this.fire(e)},createValue:function(t){var i=this,o=i.fontSize,r=i.chart;if(!1!==t.visibleInLegend&&!t.hideFromLegend){var n=i.maxLabelWidth,a=0;i.forceWidth&&(n=i.labelWidth),i.equalWidths||(i.valueAlign="left"),a={x:0,y:0,width:0,height:0},t.legendLabel&&(a=t.legendLabel.getBBox()),"left"==i.valueAlign&&(n=a.width);var a=a.height,s=n,l=i.markerSize;if(l<o+7&&(l=o+7,e.VML&&(l+=3)),i.valueText&&0<i.valueWidth){var c=i.color;i.useMarkerColorForValues&&(c=t.color,t.legendKeyColor&&(c=t.legendKeyColor())),!0===t.hidden&&(c=i.markerDisabledColor);var h=i.valueText,n=n+i.lx+i.labelDx+i.markerLabelGap+i.valueWidth,u="end";"left"==i.valueAlign&&(n-=i.valueWidth,u="start"),o=e.text(i.container,h,c,i.chart.fontFamily,o,u),e.setCN(r,o,"legend-value"),o.translate(n,i.ly),i.entries[i.index].push(o),s+=i.valueWidth+2*i.markerLabelGap,o.dItem=t,i.valueLabels.push(o),l<a+5&&(l=a+5)}i.index++,r=i.container.rect(t.legendEntryWidth,0,s,l,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005}),r.dItem=t,i.entries[i.index-1].push(r),r.mouseover(function(e){i.rollOverLabel(t,e)}).mouseout(function(e){i.rollOutLabel(t,e)}).click(function(e){i.clickLabel(t,e)})}},createV:function(){var t=this.markerSize;return e.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,i={stroke:this.switchColor,"stroke-width":3},o=this.container,r=e.line(o,[-t,t],[-t,t]).attr(i),t=e.line(o,[-t,t],[t,-t]).attr(i);return this.container.set([r,t])},createMarker:function(t,i,o,r,n,a,s,l,c){var h=this.markerSize,u=this.container;return n||(n=this.markerBorderColor),n||(n=i),isNaN(r)&&(r=this.markerBorderThickness),isNaN(a)&&(a=this.markerBorderAlpha),e.bullet(u,t,h,i,o,r,n,a,h,s,l,this.chart.path,c)},validateNow:function(){this.invalidateSize()},updateValues:function(){var t,i=this.valueLabels,o=this.chart,r=this.data;if(i)for(t=0;t<i.length;t++){var n=i[t],a=n.dItem;a.periodDataItem=void 0,a.periodPercentDataItem=void 0;var s=" ";if(r)a.value?n.text(a.value):n.text("");else{var l=null;if(void 0!==a.type){var l=a.currentDataItem,c=this.periodValueText;a.legendPeriodValueText&&(c=a.legendPeriodValueText),a.legendPeriodValueTextR&&(c=a.legendPeriodValueTextR),l?(s=this.valueText,a.legendValueText&&(s=a.legendValueText),a.legendValueTextR&&(s=a.legendValueTextR),s=o.formatString(s,l)):c&&o.formatPeriodString&&(c=e.massReplace(c,{"[[title]]":a.title}),s=o.formatPeriodString(c,a))}else s=o.formatString(this.valueText,a);c=a,l&&(c=l);var h=this.valueFunction;h&&(s=h(c,s,o.periodDataItem));var u;this.useMarkerColorForLabels&&!l&&a.lastDataItem&&(l=a.lastDataItem),l?u=o.getBalloonColor(a,l):a.legendKeyColor&&(u=a.legendKeyColor()),a.legendColorFunction&&(u=a.legendColorFunction(c,s,a.periodDataItem,a.periodPercentDataItem)),n.text(s),!a.pattern&&(this.useMarkerColorForValues&&n.setAttr("fill",u),this.useMarkerColorForLabels)&&((n=a.legendMarker)&&(n.setAttr("fill",u),n.setAttr("stroke",u)),(n=a.legendLabel)&&(a.hidden?n.setAttr("fill",this.markerDisabledColor):n.setAttr("fill",u)))}}},renderFix:function(){if(!e.VML&&this.enabled){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.formatMilliseconds=function(e,t){if(-1!=e.indexOf("fff")){var i=t.getMilliseconds(),o=String(i);10>i&&(o="00"+i),10<=i&&100>i&&(o="0"+i),e=e.replace(/fff/g,o)}return e},e.extractPeriod=function(t){var i=e.stripNumbers(t),o=1;return i!=t&&(o=Number(t.slice(0,t.indexOf(i)))),{period:i,count:o}},e.getDate=function(t,i,o){return t instanceof Date?e.newDate(t,o):i&&isNaN(t)?e.stringToDate(t,i):new Date(t)},e.daysInMonth=function(e){return new Date(e.getYear(),e.getMonth()+1,0).getDate()},e.newDate=function(e,t){return t&&-1==t.indexOf("fff")?new Date(e):new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},e.resetDateToMin=function(t,i,o,r){void 0===r&&(r=1);var n,a,s,l,c,h,u;switch(e.useUTC?(n=t.getUTCFullYear(),a=t.getUTCMonth(),s=t.getUTCDate(),l=t.getUTCHours(),c=t.getUTCMinutes(),h=t.getUTCSeconds(),u=t.getUTCMilliseconds(),t=t.getUTCDay()):(n=t.getFullYear(),a=t.getMonth(),s=t.getDate(),l=t.getHours(),c=t.getMinutes(),h=t.getSeconds(),u=t.getMilliseconds(),t=t.getDay()),i){case"YYYY":n=Math.floor(n/o)*o,a=0,s=1,u=h=c=l=0;break;case"MM":a=Math.floor(a/o)*o,s=1,u=h=c=l=0;break;case"WW":s=t>=r?s-t+r:s-(7+t)+r,u=h=c=l=0;break;case"DD":u=h=c=l=0;break;case"hh":l=Math.floor(l/o)*o,u=h=c=0;break;case"mm":c=Math.floor(c/o)*o,u=h=0;break;case"ss":h=Math.floor(h/o)*o,u=0;break;case"fff":u=Math.floor(u/o)*o}return e.useUTC?(t=new Date,t.setUTCFullYear(n,a,s),t.setUTCHours(l,c,h,u)):t=new Date(n,a,s,l,c,h,u),t},e.getPeriodDuration=function(e,t){void 0===t&&(t=1);var i;switch(e){case"YYYY":i=316224e5;break;case"MM":i=26784e5;break;case"WW":i=6048e5;break;case"DD":i=864e5;break;case"hh":i=36e5;break;case"mm":i=6e4;break;case"ss":i=1e3;break;case"fff":i=1}return i*t},e.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:1/0,count:3}},e.getMaxInterval=function(t,i){var o=e.intervals;return t>=o[i].contains?(t=Math.round(t/o[i].contains),i=o[i].nextInterval,e.getMaxInterval(t,i)):"ss"==i?o[i].nextInterval:i},e.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),e.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),e.monthNames="January February March April May June July August September October November December".split(" "),e.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),e.getWeekNumber=function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)},e.stringToDate=function(t,i){var o={},r=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],n=!0,a=i.indexOf("AA");-1!=a&&(t.substr(a,2),"pm"==t.toLowerCase&&(n=!1));var s,l,c,a=i;for(c=0;c<r.length;c++)l=r[c].period,o[l]=0,"date"==l&&(o[l]=1);for(c=0;c<r.length;c++)if(s=r[c].pattern,l=r[c].period,-1!=i.indexOf(s)){var h=e.getFromDateString(s,t,a);i=i.replace(s,""),"KK"!=s&&"K"!=s&&"LL"!=s&&"L"!=s||n||(h+=12),o[l]=h}return e.useUTC?(r=new Date,r.setUTCFullYear(o.year,o.month,o.date),r.setUTCHours(o.hours,o.minutes,o.seconds,o.milliseconds)):r=new Date(o.year,o.month,o.date,o.hours,o.minutes,o.seconds,o.milliseconds),r},e.getFromDateString=function(e,t,i){if(void 0!==t)return i=i.indexOf(e),t=String(t),t=t.substr(i,e.length),"0"==t.charAt(0)&&(t=t.substr(1,t.length-1)),t=Number(t),isNaN(t)&&(t=0),-1!=e.indexOf("M")&&t--,t},e.formatDate=function(t,i,o){o||(o=e);var r,n,a,s,l,c,h,u,d=e.getWeekNumber(t);e.useUTC?(r=t.getUTCFullYear(),n=t.getUTCMonth(),a=t.getUTCDate(),s=t.getUTCDay(),l=t.getUTCHours(),c=t.getUTCMinutes(),h=t.getUTCSeconds(),u=t.getUTCMilliseconds()):(r=t.getFullYear(),n=t.getMonth(),a=t.getDate(),s=t.getDay(),l=t.getHours(),c=t.getMinutes(),h=t.getSeconds(),u=t.getMilliseconds());var p=String(r).substr(2,2),f="0"+s;i=i.replace(/W/g,d),24==(d=l)&&(d=0);var m=d;10>m&&(m="0"+m),i=i.replace(/JJ/g,m),i=i.replace(/J/g,d),m=l,0===m&&(m=24,-1!=i.indexOf("H")&&0===--a&&(r=new Date(t),r.setDate(r.getDate()-1),n=r.getMonth(),a=r.getDate(),r=r.getFullYear())),t=n+1,9>n&&(t="0"+t),d=a,10>a&&(d="0"+a);var g=m;return 10>g&&(g="0"+g),i=i.replace(/HH/g,g),i=i.replace(/H/g,m),m=l,11<m&&(m-=12),g=m,10>g&&(g="0"+g),i=i.replace(/KK/g,g),i=i.replace(/K/g,m),m=l,0===m&&(m=12),12<m&&(m-=12),g=m,10>g&&(g="0"+g),i=i.replace(/LL/g,g),i=i.replace(/L/g,m),m=c,10>m&&(m="0"+m),i=i.replace(/NN/g,m),i=i.replace(/N/g,c),c=h,10>c&&(c="0"+c),i=i.replace(/SS/g,c),i=i.replace(/S/g,h),h=u,10>h?h="00"+h:100>h&&(h="0"+h),c=u,10>c&&(c="00"+c),i=i.replace(/A/g,"@A@"),i=i.replace(/QQQ/g,h),i=i.replace(/QQ/g,c),i=i.replace(/Q/g,u),i=i.replace(/YYYY/g,"@IIII@"),i=i.replace(/YY/g,"@II@"),i=i.replace(/MMMM/g,"@XXXX@"),i=i.replace(/MMM/g,"@XXX@"),i=i.replace(/MM/g,"@XX@"),i=i.replace(/M/g,"@X@"),i=i.replace(/DD/g,"@RR@"),i=i.replace(/D/g,"@R@"),i=i.replace(/EEEE/g,"@PPPP@"),i=i.replace(/EEE/g,"@PPP@"),i=i.replace(/EE/g,"@PP@"),i=i.replace(/E/g,"@P@"),i=i.replace(/@IIII@/g,r),i=i.replace(/@II@/g,p),i=i.replace(/@XXXX@/g,o.monthNames[n]),i=i.replace(/@XXX@/g,o.shortMonthNames[n]),i=i.replace(/@XX@/g,t),i=i.replace(/@X@/g,n+1),i=i.replace(/@RR@/g,d),i=i.replace(/@R@/g,a),i=i.replace(/@PPPP@/g,o.dayNames[s]),i=i.replace(/@PPP@/g,o.shortDayNames[s]),i=i.replace(/@PP@/g,f),i=i.replace(/@P@/g,s),i=12>l?i.replace(/@A@/g,o.amString):i.replace(/@A@/g,o.pmString)},e.changeDate=function(t,i,o,r,n){if(e.useUTC)return e.changeUTCDate(t,i,o,r,n);var a=-1;switch(void 0===r&&(r=!0),void 0===n&&(n=!1),!0===r&&(a=1),i){case"YYYY":t.setFullYear(t.getFullYear()+o*a),r||n||t.setDate(t.getDate()+1);break;case"MM":i=t.getMonth();var s=t.getFullYear();t.setMonth(t.getMonth()+o*a),s==t.getFullYear()&&t.getMonth()>i+o*a&&t.setDate(t.getDate()-1),r||n||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+o*a);break;case"WW":t.setDate(t.getDate()+o*a*7);break;case"hh":t.setHours(t.getHours()+o*a);break;case"mm":t.setMinutes(t.getMinutes()+o*a);break;case"ss":t.setSeconds(t.getSeconds()+o*a);break;case"fff":t.setMilliseconds(t.getMilliseconds()+o*a)}return t},e.changeUTCDate=function(e,t,i,o,r){var n=-1;switch(void 0===o&&(o=!0),void 0===r&&(r=!1),!0===o&&(n=1),t){case"YYYY":e.setUTCFullYear(e.getUTCFullYear()+i*n),o||r||e.setUTCDate(e.getUTCDate()+1);break;case"MM":t=e.getUTCMonth(),e.setUTCMonth(e.getUTCMonth()+i*n),e.getUTCMonth()>t+i*n&&e.setUTCDate(e.getUTCDate()-1),o||r||e.setUTCDate(e.getUTCDate()+1);break;case"DD":e.setUTCDate(e.getUTCDate()+i*n);break;case"WW":e.setUTCDate(e.getUTCDate()+i*n*7);break;case"hh":e.setUTCHours(e.getUTCHours()+i*n);break;case"mm":e.setUTCMinutes(e.getUTCMinutes()+i*n);break;case"ss":e.setUTCSeconds(e.getUTCSeconds()+i*n);break;case"fff":e.setUTCMilliseconds(e.getUTCMilliseconds()+i*n)}return e}}()},function(e,t,i){(function(e){var i,o,r,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,s){"object"===n(t)&&"object"===n(e)?e.exports=s():(o=[],i=s,void 0!==(r="function"==typeof i?i.apply(t,o):i)&&(e.exports=r))}("undefined"!=typeof self&&self,function(){return function(e){function t(o){if(i[o])return i[o].exports;var r=i[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.width=t,this.height=e.length/t,this.data=e}return e.createEmpty=function(t,i){return new e(new Uint8ClampedArray(t*i),t)},e.prototype.get=function(e,t){return!(e<0||e>=this.width||t<0||t>=this.height)&&!!this.data[t*this.width+e]},e.prototype.set=function(e,t,i){this.data[t*this.width+e]=i?1:0},e.prototype.setRegion=function(e,t,i,o,r){for(var n=t;n<t+o;n++)for(var a=e;a<e+i;a++)this.set(a,n,!!r)},e.prototype.getInverted=function(){return new e(this.data.map(function(e){return 0===e?1:0}),this.width)},e}();t.BitMatrix=o},function(e,t,i){"use strict";function o(e,t){return e^t}Object.defineProperty(t,"__esModule",{value:!0});var r=i(2);t.addOrSubtractGF=o;var n=function(){function e(e,t,i){this.primitive=e,this.size=t,this.generatorBase=i,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var o=1,n=0;n<this.size;n++)this.expTable[n]=o,(o*=2)>=this.size&&(o=(o^this.primitive)&this.size-1);for(var n=0;n<this.size-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new r.default(this,Uint8ClampedArray.from([0])),this.one=new r.default(this,Uint8ClampedArray.from([1]))}return e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},e.prototype.inverse=function(e){if(0===e)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]},e.prototype.buildMonomial=function(e,t){if(e<0)throw new Error("Invalid monomial degree less than 0");if(0===t)return this.zero;var i=new Uint8ClampedArray(e+1);return i[0]=t,new r.default(this,i)},e.prototype.log=function(e){if(0===e)throw new Error("Can't take log(0)");return this.logTable[e]},e.prototype.exp=function(e){return this.expTable[e]},e}();t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),r=function(){function e(e,t){if(0===t.length)throw new Error("No coefficients.");this.field=e;var i=t.length;if(i>1&&0===t[0]){for(var o=1;o<i&&0===t[o];)o++;if(o===i)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(i-o);for(var r=0;r<this.coefficients.length;r++)this.coefficients[r]=t[o+r]}}else this.coefficients=t}return e.prototype.degree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.addOrSubtract=function(t){if(this.isZero())return t;if(t.isZero())return this;var i=this.coefficients,r=t.coefficients;i.length>r.length&&(l=[r,i],i=l[0],r=l[1]);for(var n=new Uint8ClampedArray(r.length),a=r.length-i.length,s=0;s<a;s++)n[s]=r[s];for(var s=a;s<r.length;s++)n[s]=o.addOrSubtractGF(i[s-a],r[s]);return new e(this.field,n);var l},e.prototype.multiply=function(t){if(0===t)return this.field.zero;if(1===t)return this;for(var i=this.coefficients.length,o=new Uint8ClampedArray(i),r=0;r<i;r++)o[r]=this.field.multiply(this.coefficients[r],t);return new e(this.field,o)},e.prototype.multiplyPoly=function(t){if(this.isZero()||t.isZero())return this.field.zero;for(var i=this.coefficients,r=i.length,n=t.coefficients,a=n.length,s=new Uint8ClampedArray(r+a-1),l=0;l<r;l++)for(var c=i[l],h=0;h<a;h++)s[l+h]=o.addOrSubtractGF(s[l+h],this.field.multiply(c,n[h]));return new e(this.field,s)},e.prototype.multiplyByMonomial=function(t,i){if(t<0)throw new Error("Invalid degree less than 0");if(0===i)return this.field.zero;for(var o=this.coefficients.length,r=new Uint8ClampedArray(o+t),n=0;n<o;n++)r[n]=this.field.multiply(this.coefficients[n],i);return new e(this.field,r)},e.prototype.evaluateAt=function(e){var t=0;if(0===e)return this.getCoefficient(0);var i=this.coefficients.length;if(1===e)return this.coefficients.forEach(function(e){t=o.addOrSubtractGF(t,e)}),t;t=this.coefficients[0];for(var r=1;r<i;r++)t=o.addOrSubtractGF(this.field.multiply(e,t),this.coefficients[r]);return t},e}();t.default=r},function(e,t,i){"use strict";function o(e){var t=l.locate(e);if(!t)return null;var i=s.extract(e,t),o=a.decode(i.matrix);return o?{binaryData:o.bytes,data:o.text,chunks:o.chunks,location:{topRightCorner:i.mappingFunction(t.dimension,0),topLeftCorner:i.mappingFunction(0,0),bottomRightCorner:i.mappingFunction(t.dimension,t.dimension),bottomLeftCorner:i.mappingFunction(0,t.dimension),topRightFinderPattern:t.topRight,topLeftFinderPattern:t.topLeft,bottomLeftFinderPattern:t.bottomLeft,bottomRightAlignmentPattern:t.alignmentPattern}}:null}function r(e,t,i){var r=n.binarize(e,t,i),a=o(r);return a||(a=o(r.getInverted())),a}Object.defineProperty(t,"__esModule",{value:!0});var n=i(4),a=i(5),s=i(11),l=i(12);r.default=r,t.default=r},function(e,t,i){"use strict";function o(e,t,i){return e<t?t:e>i?i:e}function r(e,t,i){if(e.length!==t*i*4)throw new Error("Malformed data passed to binarizer.");for(var r=new l(t,i),c=0;c<t;c++)for(var h=0;h<i;h++){var u=e[4*(h*t+c)+0],d=e[4*(h*t+c)+1],p=e[4*(h*t+c)+2];r.set(c,h,.2126*u+.7152*d+.0722*p)}for(var f=Math.ceil(t/a),m=Math.ceil(i/a),g=new l(f,m),v=0;v<m;v++)for(var b=0;b<f;b++){for(var w=0,y=1/0,C=0,h=0;h<a;h++)for(var c=0;c<a;c++){var x=r.get(b*a+c,v*a+h);w+=x,y=Math.min(y,x),C=Math.max(C,x)}var S=w/Math.pow(a,2);if(C-y<=s&&(S=y/2,v>0&&b>0)){var P=(g.get(b,v-1)+2*g.get(b-1,v)+g.get(b-1,v-1))/4;y<P&&(S=P)}g.set(b,v,S)}for(var T=n.BitMatrix.createEmpty(t,i),v=0;v<m;v++)for(var b=0;b<f;b++){for(var O=o(b,2,f-3),k=o(v,2,m-3),w=0,A=-2;A<=2;A++)for(var N=-2;N<=2;N++)w+=g.get(O+A,k+N);for(var B=w/25,c=0;c<a;c++)for(var h=0;h<a;h++){var j=r.get(b*a+c,v*a+h);T.set(b*a+c,v*a+h,j<=B)}}return T}Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),a=8,s=24,l=function(){function e(e,t){this.width=e,this.data=new Uint8ClampedArray(e*t)}return e.prototype.get=function(e,t){return this.data[t*this.width+e]},e.prototype.set=function(e,t,i){this.data[t*this.width+e]=i},e}();t.binarize=r},function(e,t,i){"use strict";function o(e,t){for(var i=e^t,o=0;i;)o++,i&=i-1;return o}function r(e,t){return t<<1|e}function n(e){var t=17+4*e.versionNumber,i=d.BitMatrix.createEmpty(t,t);i.setRegion(0,0,9,9,!0),i.setRegion(t-8,0,8,9,!0),i.setRegion(0,t-8,9,8,!0);for(var o=0,r=e.alignmentPatternCenters;o<r.length;o++)for(var n=r[o],a=0,s=e.alignmentPatternCenters;a<s.length;a++){var l=s[a];6===n&&6===l||6===n&&l===t-7||n===t-7&&6===l||i.setRegion(n-2,l-2,5,5,!0)}return i.setRegion(6,9,1,t-17,!0),i.setRegion(9,6,t-17,1,!0),e.versionNumber>6&&(i.setRegion(t-11,0,3,6,!0),i.setRegion(0,t-11,6,3,!0)),i}function a(e,t,i){for(var o=v[i.dataMask],a=e.height,s=n(t),l=[],c=0,h=0,u=!0,d=a-1;d>0;d-=2){6===d&&d--;for(var p=0;p<a;p++)for(var f=u?a-1-p:p,m=0;m<2;m++){var g=d-m;if(!s.get(g,f)){h++;var b=e.get(g,f);o({y:f,x:g})&&(b=!b),c=r(b,c),8===h&&(l.push(c),h=0,c=0)}}u=!u}return l}function s(e){var t=e.height,i=Math.floor((t-17)/4);if(i<=6)return m.VERSIONS[i-1];for(var n=0,a=5;a>=0;a--)for(var s=t-9;s>=t-11;s--)n=r(e.get(s,a),n);for(var l=0,s=5;s>=0;s--)for(var a=t-9;a>=t-11;a--)l=r(e.get(s,a),l);for(var c,h=1/0,u=0,d=m.VERSIONS;u<d.length;u++){var p=d[u];if(p.infoBits===n||p.infoBits===l)return p;var f=o(n,p.infoBits);f<h&&(c=p,h=f),f=o(l,p.infoBits),f<h&&(c=p,h=f)}return h<=3?c:void 0}function l(e){for(var t=0,i=0;i<=8;i++)6!==i&&(t=r(e.get(i,8),t));for(var n=7;n>=0;n--)6!==n&&(t=r(e.get(8,n),t));for(var a=e.height,s=0,n=a-1;n>=a-7;n--)s=r(e.get(8,n),s);for(var i=a-8;i<a;i++)s=r(e.get(i,8),s);for(var l=1/0,c=null,h=0,u=g;h<u.length;h++){var d=u[h],p=d.bits,f=d.formatInfo;if(p===t||p===s)return f;var m=o(t,p);m<l&&(c=f,l=m),t!==s&&(m=o(s,p))<l&&(c=f,l=m)}return l<=3?c:null}function c(e,t,i){var o=t.errorCorrectionLevels[i],r=[],n=0;if(o.ecBlocks.forEach(function(e){for(var t=0;t<e.numBlocks;t++)r.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),n+=e.dataCodewordsPerBlock+o.ecCodewordsPerBlock}),e.length<n)return null;e=e.slice(0,n);for(var a=o.ecBlocks[0].dataCodewordsPerBlock,s=0;s<a;s++)for(var l=0,c=r;l<c.length;l++){var h=c[l];h.codewords.push(e.shift())}if(o.ecBlocks.length>1)for(var u=o.ecBlocks[0].numBlocks,d=o.ecBlocks[1].numBlocks,s=0;s<d;s++)r[u+s].codewords.push(e.shift());for(;e.length>0;)for(var p=0,f=r;p<f.length;p++){var h=f[p];h.codewords.push(e.shift())}return r}function h(e){var t=s(e);if(!t)return null;var i=l(e);if(!i)return null;var o=a(e,t,i),r=c(o,t,i.errorCorrectionLevel);if(!r)return null;for(var n=r.reduce(function(e,t){return e+t.numDataCodewords},0),h=new Uint8ClampedArray(n),u=0,d=0,m=r;d<m.length;d++){var g=m[d],v=f.decode(g.codewords,g.codewords.length-g.numDataCodewords);if(!v)return null;for(var b=0;b<g.numDataCodewords;b++)h[u++]=v[b]}try{return p.decode(h,t.versionNumber)}catch(e){return null}}function u(e){if(null==e)return null;var t=h(e);if(t)return t;for(var i=0;i<e.width;i++)for(var o=i+1;o<e.height;o++)e.get(i,o)!==e.get(o,i)&&(e.set(i,o,!e.get(i,o)),e.set(o,i,!e.get(o,i)));return h(e)}Object.defineProperty(t,"__esModule",{value:!0});var d=i(0),p=i(6),f=i(9),m=i(10),g=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],v=[function(e){return(e.y+e.x)%2==0},function(e){return e.y%2==0},function(e){return e.x%3==0},function(e){return(e.y+e.x)%3==0},function(e){return(Math.floor(e.y/2)+Math.floor(e.x/3))%2==0},function(e){return e.x*e.y%2+e.x*e.y%3==0},function(e){return(e.y*e.x%2+e.y*e.x%3)%2==0},function(e){return((e.y+e.x)%2+e.y*e.x%3)%2==0}];t.decode=u},function(e,t,i){"use strict";function o(e,t){for(var i=[],o="",r=[10,12,14][t],n=e.readBits(r);n>=3;){var a=e.readBits(10);if(a>=1e3)throw new Error("Invalid numeric value above 999");var s=Math.floor(a/100),l=Math.floor(a/10)%10,c=a%10;i.push(48+s,48+l,48+c),o+=s.toString()+l.toString()+c.toString(),n-=3}if(2===n){var a=e.readBits(7);if(a>=100)throw new Error("Invalid numeric value above 99");var s=Math.floor(a/10),l=a%10;i.push(48+s,48+l),o+=s.toString()+l.toString()}else if(1===n){var a=e.readBits(4);if(a>=10)throw new Error("Invalid numeric value above 9");i.push(48+a),o+=a.toString()}return{bytes:i,text:o}}function r(e,t){for(var i=[],o="",r=[9,11,13][t],n=e.readBits(r);n>=2;){var a=e.readBits(11),s=Math.floor(a/45),l=a%45;i.push(d[s].charCodeAt(0),d[l].charCodeAt(0)),o+=d[s]+d[l],n-=2}if(1===n){var s=e.readBits(6);i.push(d[s].charCodeAt(0)),o+=d[s]}return{bytes:i,text:o}}function n(e,t){for(var i=[],o="",r=[8,16,16][t],n=e.readBits(r),a=0;a<n;a++){var s=e.readBits(8);i.push(s)}try{o+=decodeURIComponent(i.map(function(e){return"%"+("0"+e.toString(16)).substr(-2)}).join(""))}catch(e){}return{bytes:i,text:o}}function a(e,t){for(var i=[],o="",r=[8,10,12][t],n=e.readBits(r),a=0;a<n;a++){var s=e.readBits(13),l=Math.floor(s/192)<<8|s%192;l+=l<7936?33088:49472,i.push(l>>8,255&l),o+=String.fromCharCode(h.shiftJISTable[l])}return{bytes:i,text:o}}function s(e,t){for(var i=new c.BitStream(e),s=t<=9?0:t<=26?1:2,h={text:"",bytes:[],chunks:[]};i.available()>=4;){var d=i.readBits(4);if(d===u.Terminator)return h;if(d===u.ECI)0===i.readBits(1)?h.chunks.push({type:l.ECI,assignmentNumber:i.readBits(7)}):0===i.readBits(1)?h.chunks.push({type:l.ECI,assignmentNumber:i.readBits(14)}):0===i.readBits(1)?h.chunks.push({type:l.ECI,assignmentNumber:i.readBits(21)}):h.chunks.push({type:l.ECI,assignmentNumber:-1});else if(d===u.Numeric){var p=o(i,s);h.text+=p.text,(v=h.bytes).push.apply(v,p.bytes),h.chunks.push({type:l.Numeric,text:p.text})}else if(d===u.Alphanumeric){var f=r(i,s);h.text+=f.text,(b=h.bytes).push.apply(b,f.bytes),h.chunks.push({type:l.Alphanumeric,text:f.text})}else if(d===u.Byte){var m=n(i,s);h.text+=m.text,(w=h.bytes).push.apply(w,m.bytes),h.chunks.push({type:l.Byte,bytes:m.bytes,text:m.text})}else if(d===u.Kanji){var g=a(i,s);h.text+=g.text,(y=h.bytes).push.apply(y,g.bytes),h.chunks.push({type:l.Kanji,bytes:g.bytes,text:g.text})}}var v,b,w,y}Object.defineProperty(t,"__esModule",{value:!0});var l,c=i(7),h=i(8);!function(e){e.Numeric="numeric",e.Alphanumeric="alphanumeric",e.Byte="byte",e.Kanji="kanji",e.ECI="eci"}(l=t.Mode||(t.Mode={}));var u;!function(e){e[e.Terminator=0]="Terminator",e[e.Numeric=1]="Numeric",e[e.Alphanumeric=2]="Alphanumeric",e[e.Byte=4]="Byte",e[e.Kanji=8]="Kanji",e[e.ECI=7]="ECI"}(u||(u={}));var d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];t.decode=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}return e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Error("Cannot read "+e.toString()+" bits");var t=0;if(this.bitOffset>0){var i=8-this.bitOffset,o=e<i?e:i,r=i-o,n=255>>8-o<<r;t=(this.bytes[this.byteOffset]&n)>>r,e-=o,this.bitOffset+=o,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)t=t<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;if(e>0){var r=8-e,n=255>>r<<r;t=t<<e|(this.bytes[this.byteOffset]&n)>>r,this.bitOffset+=e}}return t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();t.BitStream=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(e,t,i){"use strict";function o(e,t,i,o){t.degree()<i.degree()&&(v=[i,t],t=v[0],i=v[1]);for(var r=t,n=i,a=e.zero,s=e.one;n.degree()>=o/2;){var l=r,c=a;if(r=n,a=s,r.isZero())return null;n=l;for(var h=e.zero,u=r.getCoefficient(r.degree()),d=e.inverse(u);n.degree()>=r.degree()&&!n.isZero();){var p=n.degree()-r.degree(),f=e.multiply(n.getCoefficient(n.degree()),d);h=h.addOrSubtract(e.buildMonomial(p,f)),n=n.addOrSubtract(r.multiplyByMonomial(p,f))}if(s=h.multiplyPoly(a).addOrSubtract(c),n.degree()>=r.degree())return null}var m=s.getCoefficient(0);if(0===m)return null;var g=e.inverse(m);return[s.multiply(g),n.multiply(g)];var v}function r(e,t){var i=t.degree();if(1===i)return[t.getCoefficient(1)];for(var o=new Array(i),r=0,n=1;n<e.size&&r<i;n++)0===t.evaluateAt(n)&&(o[r]=e.inverse(n),r++);return r!==i?null:o}function n(e,t,i){for(var o=i.length,r=new Array(o),n=0;n<o;n++){for(var a=e.inverse(i[n]),l=1,c=0;c<o;c++)n!==c&&(l=e.multiply(l,s.addOrSubtractGF(1,e.multiply(i[c],a))));r[n]=e.multiply(t.evaluateAt(a),e.inverse(l)),0!==e.generatorBase&&(r[n]=e.multiply(r[n],a))}return r}function a(e,t){var i=new Uint8ClampedArray(e.length);i.set(e);for(var a=new s.default(285,256,0),c=new l.default(a,i),h=new Uint8ClampedArray(t),u=!1,d=0;d<t;d++){var p=c.evaluateAt(a.exp(d+a.generatorBase));h[h.length-1-d]=p,0!==p&&(u=!0)}if(!u)return i;var f=new l.default(a,h),m=o(a,a.buildMonomial(t,1),f,t);if(null===m)return null;var g=r(a,m[0]);if(null==g)return null;for(var v=n(a,m[1],g),b=0;b<g.length;b++){var w=i.length-1-a.log(g[b]);if(w<0)return null;i[w]=s.addOrSubtractGF(i[w],v[b])}return i}Object.defineProperty(t,"__esModule",{value:!0});var s=i(1),l=i(2);t.decode=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(e,t,i){"use strict";function o(e,t,i,o){var r=e.x-t.x+i.x-o.x,n=e.y-t.y+i.y-o.y;if(0===r&&0===n)return{a11:t.x-e.x,a12:t.y-e.y,a13:0,a21:i.x-t.x,a22:i.y-t.y,a23:0,a31:e.x,a32:e.y,a33:1};var a=t.x-i.x,s=o.x-i.x,l=t.y-i.y,c=o.y-i.y,h=a*c-s*l,u=(r*c-s*n)/h,d=(a*n-r*l)/h;return{a11:t.x-e.x+u*t.x,a12:t.y-e.y+u*t.y,a13:u,a21:o.x-e.x+d*o.x,a22:o.y-e.y+d*o.y,a23:d,a31:e.x,a32:e.y,a33:1}}function r(e,t,i,r){var n=o(e,t,i,r);return{a11:n.a22*n.a33-n.a23*n.a32,a12:n.a13*n.a32-n.a12*n.a33,a13:n.a12*n.a23-n.a13*n.a22,a21:n.a23*n.a31-n.a21*n.a33,a22:n.a11*n.a33-n.a13*n.a31,a23:n.a13*n.a21-n.a11*n.a23,a31:n.a21*n.a32-n.a22*n.a31,a32:n.a12*n.a31-n.a11*n.a32,a33:n.a11*n.a22-n.a12*n.a21}}function n(e,t){return{a11:e.a11*t.a11+e.a21*t.a12+e.a31*t.a13,a12:e.a12*t.a11+e.a22*t.a12+e.a32*t.a13,a13:e.a13*t.a11+e.a23*t.a12+e.a33*t.a13,a21:e.a11*t.a21+e.a21*t.a22+e.a31*t.a23,a22:e.a12*t.a21+e.a22*t.a22+e.a32*t.a23,a23:e.a13*t.a21+e.a23*t.a22+e.a33*t.a23,a31:e.a11*t.a31+e.a21*t.a32+e.a31*t.a33,a32:e.a12*t.a31+e.a22*t.a32+e.a32*t.a33,a33:e.a13*t.a31+e.a23*t.a32+e.a33*t.a33}}function a(e,t){for(var i=r({x:3.5,y:3.5},{x:t.dimension-3.5,y:3.5},{x:t.dimension-6.5,y:t.dimension-6.5},{x:3.5,y:t.dimension-3.5}),a=o(t.topLeft,t.topRight,t.alignmentPattern,t.bottomLeft),l=n(a,i),c=s.BitMatrix.createEmpty(t.dimension,t.dimension),h=function(e,t){var i=l.a13*e+l.a23*t+l.a33;return{x:(l.a11*e+l.a21*t+l.a31)/i,y:(l.a12*e+l.a22*t+l.a32)/i}},u=0;u<t.dimension;u++)for(var d=0;d<t.dimension;d++){var p=d+.5,f=u+.5,m=h(p,f);c.set(d,u,e.get(Math.floor(m.x),Math.floor(m.y)))}return{matrix:c,mappingFunction:h}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(0);t.extract=a},function(e,t,i){"use strict";function o(e){return e.reduce(function(e,t){return e+t})}function r(e,t,i){var o,r,n,a=f(e,t),s=f(t,i),l=f(e,i);return s>=a&&s>=l?(c=[t,e,i],o=c[0],r=c[1],n=c[2]):l>=s&&l>=a?(h=[e,t,i],o=h[0],r=h[1],n=h[2]):(u=[e,i,t],o=u[0],r=u[1],n=u[2]),(n.x-r.x)*(o.y-r.y)-(n.y-r.y)*(o.x-r.x)<0&&(d=[n,o],o=d[0],n=d[1]),{bottomLeft:o,topLeft:r,topRight:n};var c,h,u,d}function n(e,t,i,r){var n=(o(s(e,i,r,5))/7+o(s(e,t,r,5))/7+o(s(i,e,r,5))/7+o(s(t,e,r,5))/7)/4;if(n<1)throw new Error("Invalid module size");var a=Math.round(f(e,t)/n),l=Math.round(f(e,i)/n),c=Math.floor((a+l)/2)+7;switch(c%4){case 0:c++;break;case 2:c--}return{dimension:c,moduleSize:n}}function a(e,t,i,o){var r,n,a,s,l=[{x:Math.floor(e.x),y:Math.floor(e.y)}],c=Math.abs(t.y-e.y)>Math.abs(t.x-e.x);c?(r=Math.floor(e.y),n=Math.floor(e.x),a=Math.floor(t.y),s=Math.floor(t.x)):(r=Math.floor(e.x),n=Math.floor(e.y),a=Math.floor(t.x),s=Math.floor(t.y));for(var h=Math.abs(a-r),u=Math.abs(s-n),d=Math.floor(-h/2),p=r<a?1:-1,m=n<s?1:-1,g=!0,v=r,b=n;v!==a+p;v+=p){var w=c?b:v,y=c?v:b;if(i.get(w,y)!==g&&(g=!g,l.push({x:w,y:y}),l.length===o+1))break;if((d+=u)>0){if(b===s)break;b+=m,d-=h}}for(var C=[],x=0;x<o;x++)l[x]&&l[x+1]?C.push(f(l[x],l[x+1])):C.push(0);return C}function s(e,t,i,o){var r=t.y-e.y,n=t.x-e.x,s=a(e,t,i,Math.ceil(o/2)),l=a(e,{x:e.x-n,y:e.y-r},i,Math.ceil(o/2)),c=s.shift()+l.shift()-1;return(h=l.concat(c)).concat.apply(h,s);var h}function l(e,t){var i=o(e)/o(t),r=0;return t.forEach(function(t,o){r+=Math.pow(e[o]-t*i,2)}),{averageSize:i,error:r}}function c(e,t,i){try{var o=s(e,{x:-1,y:e.y},i,t.length),r=s(e,{x:e.x,y:-1},i,t.length),n={x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},a=s(e,n,i,t.length),c={x:Math.min(i.width,e.x+e.y)+1,y:Math.min(i.height,e.y+e.x)+1},h=s(e,c,i,t.length),u=l(o,t),d=l(r,t),p=l(a,t),f=l(h,t),m=Math.sqrt(u.error*u.error+d.error*d.error+p.error*p.error+f.error*f.error),g=(u.averageSize+d.averageSize+p.averageSize+f.averageSize)/4;return m+(Math.pow(u.averageSize-g,2)+Math.pow(d.averageSize-g,2)+Math.pow(p.averageSize-g,2)+Math.pow(f.averageSize-g,2))/g}catch(e){return 1/0}}function h(e){for(var t=[],i=[],a=[],s=[],l=0;l<=e.height;l++)!function(r){for(var n=0,l=!1,c=[0,0,0,0,0],h=-1;h<=e.width;h++)!function(t){var a=e.get(t,r);if(a===l)n++;else{c=[c[1],c[2],c[3],c[4],n],n=1,l=a;var h=o(c)/7,u=Math.abs(c[0]-h)<h&&Math.abs(c[1]-h)<h&&Math.abs(c[2]-3*h)<3*h&&Math.abs(c[3]-h)<h&&Math.abs(c[4]-h)<h&&!a,f=o(c.slice(-3))/3,m=Math.abs(c[2]-f)<f&&Math.abs(c[3]-f)<f&&Math.abs(c[4]-f)<f&&a;if(u){var g=t-c[3]-c[4],v=g-c[2],b={startX:v,endX:g,y:r},w=i.filter(function(e){return v>=e.bottom.startX&&v<=e.bottom.endX||g>=e.bottom.startX&&v<=e.bottom.endX||v<=e.bottom.startX&&g>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<p&&c[2]/(e.bottom.endX-e.bottom.startX)>d});w.length>0?w[0].bottom=b:i.push({top:b,bottom:b})}if(m){var y=t-c[4],C=y-c[3],b={startX:C,y:r,endX:y},w=s.filter(function(e){return C>=e.bottom.startX&&C<=e.bottom.endX||y>=e.bottom.startX&&C<=e.bottom.endX||C<=e.bottom.startX&&y>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<p&&c[2]/(e.bottom.endX-e.bottom.startX)>d});w.length>0?w[0].bottom=b:s.push({top:b,bottom:b})}}}(h);t.push.apply(t,i.filter(function(e){return e.bottom.y!==r&&e.bottom.y-e.top.y>=2})),i=i.filter(function(e){return e.bottom.y===r}),a.push.apply(a,s.filter(function(e){return e.bottom.y!==r})),s=s.filter(function(e){return e.bottom.y===r})}(l);t.push.apply(t,i.filter(function(e){return e.bottom.y-e.top.y>=2})),a.push.apply(a,s);var h=t.filter(function(e){return e.bottom.y-e.top.y>=2}).map(function(t){var i=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,r=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.round(i),Math.round(r))){var n=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1],a=o(n)/n.length;return{score:c({x:Math.round(i),y:Math.round(r)},[1,1,3,1,1],e),x:i,y:r,size:a}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score}).map(function(e,t,i){if(t>u)return null;var o=i.filter(function(e,i){return t!==i}).map(function(t){return{x:t.x,y:t.y,score:t.score+Math.pow(t.size-e.size,2)/e.size,size:t.size}}).sort(function(e,t){return e.score-t.score});if(o.length<2)return null;var r=e.score+o[0].score+o[1].score;return{points:[e].concat(o.slice(0,2)),score:r}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score});if(0===h.length)return null;var m,g,v=r(h[0].points[0],h[0].points[1],h[0].points[2]),b=v.topRight,w=v.topLeft,y=v.bottomLeft;try{k=n(w,b,y,e),m=k.dimension,g=k.moduleSize}catch(e){return null}var C={x:b.x-w.x+y.x,y:b.y-w.y+y.y},x=(f(w,y)+f(w,b))/2/g,S=1-3/x,P={x:w.x+S*(C.x-w.x),y:w.y+S*(C.y-w.y)},T=a.map(function(t){var i=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,r=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.floor(i),Math.floor(r))){var n=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1];o(n);return{x:i,y:r,score:c({x:Math.floor(i),y:Math.floor(r)},[1,1,1],e)+f({x:i,y:r},P)}}}).filter(function(e){return!!e}).sort(function(e,t){return e.score-t.score}),O=x>=15&&T.length?T[0]:P;return{alignmentPattern:{x:O.x,y:O.y},bottomLeft:{x:y.x,y:y.y},dimension:m,topLeft:{x:w.x,y:w.y},topRight:{x:b.x,y:b.y}};var k}Object.defineProperty(t,"__esModule",{value:!0});var u=4,d=.5,p=1.5,f=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};t.locate=h}]).default})}).call(t,i(100)(e))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var o=i(85),r=i(86),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),s=function(e){function t(t,i){var o=e.call(this)||this;return o.app=t,o._name=i,o._children=[],o}return a(t,e),t.prototype.ui=function(e,t){t=t||{};var i=t.container||e.container,r=this.app.createView(e);return this._children.push(r),r.render(i,null,this),"object"!==(void 0===e?"undefined":n(e))||e instanceof o.a?r:r.getRoot()},t.prototype.show=function(e,t){var i=this;if(t=t||{},"string"==typeof e){if("/"===e.substr(0,1))return this.app.show(e);if(0===e.indexOf("../")){var o=this.getParentView();return void(o?o.show("./"+e.substr(3),t):this.app.show("/"+e.substr(3)))}0===e.indexOf("./")&&(e=e.substr(2));var a=this.getSubViewInfo(t.target);if(!a)return this.app.show("/"+e);if(a.parent!==this)return a.parent.show(e,t)}var s=Object(r.a)(this.app.getRouter().get());if("object"===(void 0===e?"undefined":n(e)))if(webix.isArray(e)){var l=this._index+e[0];s[l]||(s[l]={}),s[l].page=e[1],e=""}else{var c=[];for(var h in e)c.push(encodeURIComponent(h)+"="+encodeURIComponent(e[h]));e="?"+c.join("&")}if("string"==typeof e){if("?"===e.substr(0,1)){var u=e.indexOf("/"),d=e;u>-1&&(d=e.substr(0,u));var p=Object(r.a)(d);webix.extend(s[this._index-1].params,p[0].params,!0),e=u>-1?e.substr(u+1):""}var f=""===e?s.slice(this._index):Object(r.a)(e),m=null;if(this._index){m=s.slice(0,this._index).concat(f);for(var g=0;g<m.length;g++)m[g].index=g+1;var v=Object(r.b)(m);return this.app.canNavigate(v,this).then(function(e){return null!==e?v!==e?i.app.show(e):i._finishShow(m,e):null})}return this._finishShow(f,"")}},t.prototype.init=function(e,t){},t.prototype.ready=function(e,t){},t.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},t.prototype.urlChange=function(e,t){},t.prototype.destroy=function(){},t.prototype.destructor=function(){this.destroy(),this._destroyKids(),this.app=this._parentFrame=null,this._root.destructor(),e.prototype.destructor.call(this)},t.prototype.use=function(e,t){e(this.app,this,t)},t.prototype.refresh=function(){var e=this;this._destroyKids();var t=[];this._index>1&&(t=Object(r.a)(this.app.getRouter().get()).slice(this._index-1)),this._render(t).then(function(){e._parentFrame.id=e.getRoot().config.id})},t.prototype._render=function(e){var t=this,i=this.config();return i.then?i.then(function(i){return t._render_final(i,e)}):this._render_final(i,e)},t.prototype._render_final=function(e,t){var i=this,o=this._container;if(o&&o.$destructed)return Promise.reject("Container destroyed");var r,n={ui:{}};this.app.copyConfig(e,n.ui,this._subs),this.app.callEvent("app:render",[this,t,n]),n.ui.$scope=this;try{if(o&&o.getParentView){var a=o.getParentView();a&&"multiview"===a.name&&!n.ui.id&&(n.ui.id=o.config.id)}this._root=this.app.webix.ui(n.ui,this._container),this._root.getParentView()&&(this._container=this._root),this._init(this._root,t),r=this._urlChange(t).then(function(){return i.ready(i._root,t)})}catch(e){r=Promise.reject(e)}return r.catch(function(e){return i._initError(i,e)})},t.prototype._init=function(e,t){return this.init(e,t)},t.prototype._urlChange=function(e){var t=this;this.app.callEvent("app:urlchange",[this,e,this._index]);var i=[];for(var o in this._subs){var r=this._renderFrame(o,this._subs[o],e);r&&i.push(r)}return Promise.all(i).then(function(){t.urlChange(t._root,e)})},t.prototype._renderFrame=function(e,t,i){if(t.url){if("string"==typeof t.url){var o=Object(r.a)(t.url);return o.map(function(e){e.index=0}),this._createSubView(t,o)}var n=t.view;return"function"!=typeof t.url||n instanceof t.url||(n=new t.url(this.app,"")),n||(n=t.url),this._renderSubView(t,n,i)}if("default"===e&&i&&i.length>1){var a=i.slice(1);return this._createSubView(t,a)}},t.prototype._initError=function(e,t){return this.app.error("app:error:initview",[t,e]),!0},t.prototype._createSubView=function(e,t){var i=this;return this.app.createFromURL(t,e.view).then(function(o){return i._renderSubView(e,o,t)})},t.prototype._renderSubView=function(e,i,o){var r=this.app.webix.$$(e.id);return i.render(r,o,this).then(function(o){return e.view&&e.view!==i&&e.view.destructor(),e.view=i,e.id=o.config.id,i instanceof t&&(i._parentFrame=e),o})},t.prototype._finishShow=function(e,t){var i;return this._index?(i=this._renderPartial(e.slice(this._index-1)),this.app.getRouter().set(t,{silent:!0}),this.app.callEvent("app:route",[e])):(e.map(function(e){return e.index=0}),i=this._renderPartial([null].concat(e))),i},t.prototype._renderPartial=function(e){return this._init_url_data(e),this._urlChange(e)},t.prototype._destroyKids=function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t]&&e[t].destructor&&e[t].destructor();this._children=[]},t}(o.a)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"AlarmView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"alarmForm",view:"form",css:{border:"none"},elementsConfig:{labelWidth:125},elements:[{view:"toolbar",cols:[{view:"label",label:this._("Alarm")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:10},{rows:[{template:this._("Alarm"),type:"section"},{name:"id",hidden:!0},{view:"combo",label:this._("Project"),name:"projectId",localId:"projectCombo",required:!0,readonly:!0,options:this.getParentView().getProjectOptions()},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"text",label:this._("Delay"),name:"delay"},{view:"combo",label:this._("On Script"),name:"onScriptId",localId:"onScriptCombo",options:[]},{view:"combo",label:this._("Off Script"),name:"offScriptId",localId:"offScriptCombo",options:[]},{view:"combo",label:this._("Ack Script"),name:"ackScriptId",localId:"ackScriptCombo",options:[]}]},{rows:[{template:this._("Expression"),type:"section"},{view:"textarea",name:"expression",localId:"alarm-expression",hidden:!0},{localId:"alarm-editor",view:"ace-editor",theme:"monokai-light"}]}]}},t.prototype.save=function(t){this.$$("alarm-expression").setValue(this.$$("alarm-editor").getValue()),e.prototype.save.call(this,t)},t.prototype.bindTo=function(t){e.prototype.bindTo.call(this,t),this.$$("alarm-editor").setValue(t.expression)},t.prototype.ready=function(){},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"AnimationView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return{view:"popup",padding:0,position:function(e){e.width=400,e.left=e.maxWidth-e.width,e.top=0,e.height=e.maxHeight},body:{localId:"animationForm",view:"form",elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:t("Animation")},{},{view:"icon",icon:"window-close",click:function(){return e.hideWindow()}}]},{height:20},{name:"id",hidden:!0},{view:"combo",label:t("Project"),name:"projectId",localId:"projectCombo",required:!0,readonly:!0,invalidMessage:"Please choose a project"},{view:"text",label:t("Name"),name:"name",required:!0,invalidMessage:"Animation Name cannot be empty"},{view:"text",label:t("Description"),name:"dsc"},{view:"colorpicker",label:t("Color"),name:"color",value:"#00DDDC"},{view:"text",label:t("Duration"),name:"duration",type:"number",required:!0,invalidMessage:"Duration must be greather than 1000",validate:function(e){return e>=1e3}},{view:"text",label:t("Play Order"),name:"playOrder",type:"number",required:!0,invalidMessage:"Play Order cannot be empty"},{view:"checkbox",label:t("Play at Main?"),name:"mainFlag",required:!0},{height:10},{view:"textarea",label:t("Svg Content"),name:"svgContent",id:"svgContent",labelPosition:"top",hidden:!0},{view:"uploader",id:"uploadAPI",apiOnly:!0,upload:"php/photo.php",multiple:!1,autosend:!1,link:"mylist",hidden:!0,on:{onBeforeFileAdd:function(e){if("svg"!=e.type.toLowerCase())return webix.message("Only SVG files are allowed"),!1},onAfterFileAdd:function(e){if(e){var t=new FileReader;t.readAsText(e.file,"UTF-8"),t.onload=function(e){this.content=e.target.result;var t=this.content.indexOf("svg");this.content=this.content.substring(0,t+3)+' style="width:100%; height:100%;" '+this.content.substring(t+4),$$("svgContent").setValue(this.content)}}}}},{view:"template",id:"drop",margin:20,type:"clean",required:!0,template:'<div style="margin:10px; height:90%; line-height:200px; border:4px dashed #ccc; text-align:center; vertical-align:middle">Drop SVG file here</div>'},{view:"list",height:120,border:1,id:"mylist",type:"uploader",autoheight:!0,borderless:!0},{view:"button",type:"form",width:125,align:"right",label:t("Save"),click:function(){e.validate()&&(e.getParentView().save(e.$$("animationForm").getValues()),e.$$("mylist").clearAll())}}]}]}}},t.prototype.validate=function(){return!!this.$$("animationForm").validate()||(webix.message({type:"error",text:this._("Form data is invalid")}),!1)},t.prototype.bindTo=function(e){this.$$("animationForm").setValues(e)},t.prototype.showWindow=function(){this.getRoot().show()},t.prototype.hideWindow=function(){this.getRoot().hide()},t.prototype.init=function(){this.$$("uploadAPI").addDropZone($$("drop").$view);var e=this.$$("projectCombo");e.define("options",this.getParentView().getProjectOptions()),e.refresh()},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"AnimationElementsView",function(){return u});var a=i(0),s=i(15),l=i(10),c=i(1),h=i(4),u=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure to continue?")},{rows:[{view:"unitlist",localId:"animationElementsList",uniteBy:function(e){return e.type},type:{height:40},template:"#name# #dsc# #domId#",select:!0,data:[]},Object(h.CrudToolbar)({title:t("Animation Elements"),add:function(){e.add()},edit:function(){e.update()},remove:function(){e.remove()}})]}},t.prototype.getAnimationOptions=function(){return this.getParentView().getAnimationOptions()},t.prototype.getAnimationTypeOptions=function(){return l.c.map(function(e){return{id:e,value:e}})},t.prototype.getSelectedAnimationElement=function(){var e=this.$$("animationElementsList").getSelectedId();if(e)return this.$$("animationElementsList").getItem(e)},t.prototype.showAnimationElementPopup=function(e){e=e||{domId:this.getParentView().getDomElement().id},e.animationId=this.animationId,this.animationElementPopup.bindTo(this.getAnimationOptions(),e),this.animationElementPopup.showWindow()},t.prototype.addElement=function(){if(null==this.getParentView().getDomElement())return void Object(c.d)(this._("No selected dom element"));this.showAnimationElementPopup()},t.prototype.updateElement=function(){var e=this.getSelectedAnimationElement();e&&this.showAnimationElementPopup(e)},t.prototype.removeElement=function(){var e=this,t=this.getSelectedAnimationElement();t&&Object(c.a)(this.confirmOptions,function(){return Object(l.i)(e.animationId,t.id).then(function(){e.$$("animationElementsList").remove(t.id),Object(c.d)(e._("Animation element removed"))})})},t.prototype.saveElement=function(e){var t=this;e.id?Object(c.a)(this.confirmOptions,function(){return Object(l.k)(e).then(function(){t.$$("animationElementsList").updateItem(e.id,e),Object(c.d)(t._("Animation element updated successfully")),t.animationElementPopup.hideWindow()})}):Object(c.a)(this.confirmOptions,function(){return Object(l.b)(e).then(function(i){var o=i.json();e.id=o;var o=t.$$("animationElementsList").add(e);t.$$("animationElementsList").select(o),t.$$("animationElementsList").showItem(o),Object(c.d)(t._("A new animation element added")),t.animationElementPopup.hideWindow()})})},t.prototype.load=function(e){var t=this;this.clear(),this.animationId=e,Object(l.e)(e).then(function(e){t.$$("animationElementsList").parse(e.json());var i=t.$$("animationElementsList").getFirstId();i&&t.$$("animationElementsList").select(i)})},t.prototype.clear=function(){this.animationId=null,this.$$("animationElementsList").clearAll()},t.prototype.init=function(){this.animationElementPopup=this.ui(s.AnimationElementView)},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ConnectionView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"connectionForm",view:"form",borderless:!0,elementsConfig:{labelWidth:125},elements:[{view:"toolbar",cols:[{view:"label",label:this._("Connection")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:10},{rows:[{template:this._("Connection"),type:"section"},{name:"id",hidden:!0},{view:"combo",label:this._("Project"),name:"projectId",localId:"projectCombo",required:!0,options:this.getParentView().getProjectOptions()},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"}]},{rows:[{template:this._("Host"),type:"section"},{view:"text",label:this._("Ip"),name:"ip",required:!0},{view:"text",label:this._("Port"),name:"port",type:"number",required:!0},{view:"text",label:this._("Timeout"),name:"timeout",type:"number",required:!0},{view:"text",label:this._("Msg Timeout"),name:"messageTimeout",type:"number"},{}]}]}},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"DeviceView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"deviceForm",view:"form",borderless:!0,elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Device")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{template:this._("Device"),type:"section"},{name:"id",hidden:!0},{view:"combo",localId:"connCombo",label:this._("Connection"),name:"connectionId",required:!0,options:this.getParentView().getConnectionOptions(!1),on:{onFocus:function(){return e.refreshConnectionCombo()}}},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"combo",label:this._("Protocol"),name:"protocol",required:!0,options:this.getParentView().getProtocolOptions(),on:{onChange:function(t){e.showProperties(t)}}},{view:"text",label:this._("Station Address"),name:"stationAddress",required:!0},{view:"text",label:this._("Remote Address"),name:"remoteAddress",localId:"rmAddress",type:"number",hidden:!0},{view:"text",label:this._("Integrity Scan Time"),name:"integrityScanTime",localId:"intScanTime",type:"number",hidden:!0},{view:"text",label:this._("Event Scan Time"),name:"eventScanTime",localId:"evScanTime",type:"number",hidden:!0},{view:"checkbox",label:this._("Unsolicated Events Flag"),name:"unsolicitedEventsFlag",localId:"unsEventsFlag",hidden:!0},{view:"text",label:this._("Scan Time"),name:"scanTime",localId:"scanTime"},{}]}]}},t.prototype.refreshConnectionCombo=function(){this.$$("connCombo").define("options",this.getParentView().getConnectionOptions(!1)),this.$$("connCombo").refresh()},t.prototype.showProperties=function(e){switch(this.$$("rmAddress").hide(),this.$$("intScanTime").hide(),this.$$("evScanTime").hide(),this.$$("unsEventsFlag").hide(),this.$$("scanTime").show(),e){case"DNP3 Slave":this.$$("rmAddress").show(),this.$$("unsEventsFlag").show();break;case"DNP3":this.$$("rmAddress").show(),this.$$("intScanTime").show(),this.$$("evScanTime").show(),this.$$("unsEventsFlag").show(),this.$$("scanTime").hide()}},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"FrameView",function(){return l});var a=i(2),s=i(16),l=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"frameForm",view:"form",borderless:!0,isDetail:!0,elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Frame")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{template:this._("Frame"),type:"section"},{id:"id",hidden:!0},{view:"combo",label:this._("Device"),name:"deviceId",readonly:!0,required:!0,localId:"deviceCombo",options:this.getParentView().getSelectedDevice(),on:{onChange:function(t){return e.refreshDeviceCombo()}}},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"combo",label:this._("Type"),name:"type",localId:"typeCombo",required:!0,options:this.getParentView().getFrameTypeOptions(),on:{onChange:function(t){e.changeFrameType(t)}}},{view:"text",label:this._("Start Address"),name:"startAddress",required:!0},{view:"text",label:this._("Quantity"),name:"quantity",required:!0},{view:"text",label:this._("Scan Time Factor"),name:"scanTimeFactor"},{view:"combo",label:this._("Point Class"),name:"pointClass",localId:"pointClass",options:this.getParentView().getVariablePointClassOptions()},{view:"text",label:this._("Event Buffer Size"),name:"eventBufferSize",localId:"evBufferSize",type:"number",hidden:!0},{view:"combo",label:this._("Static Variation"),name:"staticVariation",localId:"stVariation",hidden:!0},{view:"combo",label:this._("Event Variation"),name:"eventVariation",localId:"evVariation",hidden:!0},{view:"text",label:this._("Dead Band"),name:"deadband",localId:"deadBand",type:"number",hidden:!0},{rows:[{template:this._("Flags"),type:"section"},{view:"checkbox",label:this._("Is Readable?"),name:"isReadable"},{view:"checkbox",label:this._("Is Writable?"),name:"isWritable"}]},{}]}]}},t.prototype.showMoreProperties=function(){var e=this.getParentView().getSelectedDeviceItem();"DNP3 Slave"==e.protocol||"DNP3"==e.protocol?("DNP3 Slave"==e.protocol&&(this.$$("evBufferSize").show(),this.$$("stVariation").show(),this.$$("evVariation").show(),this.$$("pointClass").show()),this.$$("typeCombo").define("options",this.getParentView().getFrameTypeOptionsDNP())):(this.$$("evBufferSize").hide(),this.$$("stVariation").hide(),this.$$("evVariation").hide(),this.$$("pointClass").hide(),this.$$("typeCombo").define("options",this.getParentView().getFrameTypeOptions()))},t.prototype.refreshDeviceCombo=function(){this.$$("deviceCombo").define("options",this.getParentView().getSelectedDevice()),this.$$("deviceCombo").refresh()},t.prototype.changeFrameType=function(e){switch(e){case"Frozen Counter":this.$$("deadBand").show(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.n)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.g));break;case"Binary Input":this.$$("deadBand").hide(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.k)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.d));break;case"Double Input":this.$$("deadBand").hide(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.m)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.f));break;case"Binary Output":this.$$("deadBand").hide(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.j)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.c));break;case"Counter":this.$$("deadBand").show(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.l)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.e));break;case"Analog Input":this.$$("deadBand").show(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.i)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.b));break;case"Analog Output":this.$$("deadBand").show(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.h)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.a));break;default:this.$$("deadBand").hide()}},t.prototype.bindTo=function(t,i){this.showMoreProperties(),i.deviceId=t.id,e.prototype.bindTo.call(this,i)},t}(a.BaseDetailView)},function(e,t){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e=window.AmCharts;e.AmRectangularChart=e.Class({inherits:e.AmCoordinateChart,construct:function(t){e.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,e.applyTheme(this,t,"AmRectangularChart")},initChart:function(){e.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(e.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),e.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var e,t={};if("xy"==this.type){var i=this.xAxes,o=this.yAxes;for(e=0;e<i.length;e++){var r=i[e];r.ignoreAxisWidth||(r.setOrientation(!0),r.fixAxisPosition(),t[r.position]=!0)}for(e=0;e<o.length;e++)i=o[e],i.ignoreAxisWidth||(i.setOrientation(!1),i.fixAxisPosition(),t[i.position]=!0)}else{for(o=this.valueAxes,e=0;e<o.length;e++)i=o[e],i.ignoreAxisWidth||(i.setOrientation(this.rotate),i.fixAxisPosition(),t[i.position]=!0);(e=this.categoryAxis)&&!e.ignoreAxisWidth&&(e.setOrientation(!this.rotate),e.fixAxisPosition(),e.fixAxisPosition(),t[e.position]=!0)}t.left&&(this.marginLeft=0),t.right&&(this.marginRight=0),t.top&&(this.marginTop=0),t.bottom&&(this.marginBottom=0),this.fixMargins=t},measureMargins:function(){var e,t=this.valueAxes,i=this.autoMarginOffset,o=this.fixMargins,r=this.realWidth,n=this.realHeight,a=i,s=i,l=r;e=n;var c;for(c=0;c<t.length;c++)t[c].handleSynchronization(),e=this.getAxisBounds(t[c],a,l,s,e),a=Math.round(e.l),l=Math.round(e.r),s=Math.round(e.t),e=Math.round(e.b);(t=this.categoryAxis)&&(e=this.getAxisBounds(t,a,l,s,e),a=Math.round(e.l),l=Math.round(e.r),s=Math.round(e.t),e=Math.round(e.b)),o.left&&a<i&&(this.marginLeft=Math.round(-a+i),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),o.right&&l>=r-i&&(this.marginRight=Math.round(l-r+i),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),o.top&&s<i+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-s+i+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),o.bottom&&e>n-i&&(this.marginBottom=Math.round(this.marginBottom+e-n+i),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(e,t,i,o,r){if(!e.ignoreAxisWidth){var n=e.labelsSet,a=e.tickLength;if(e.inside&&(a=0),n)switch(n=e.getBBox(),e.position){case"top":e=n.y,o>e&&(o=e);break;case"bottom":e=n.y+n.height,r<e&&(r=e);break;case"right":e=n.x+n.width+a+3,i<e&&(i=e);break;case"left":e=n.x-a,t>e&&(t=e)}}return{l:t,t:o,r:i,b:r}},drawZoomOutButton:function(){var t=this;if(!t.zbSet){var i=t.container.set();t.zoomButtonSet.push(i);var o=t.color,r=t.fontSize,n=t.zoomOutButtonImageSize,a=t.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),s=t.langObj.zoomOutText||t.zoomOutText,l=t.zoomOutButtonColor,c=t.zoomOutButtonAlpha,h=t.zoomOutButtonFontSize,u=t.zoomOutButtonPadding;isNaN(h)||(r=h),(h=t.zoomOutButtonFontColor)&&(o=h);var d,h=t.zoomOutButton;h&&(h.fontSize&&(r=h.fontSize),h.color&&(o=h.color),h.backgroundColor&&(l=h.backgroundColor),isNaN(h.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=h.backgroundAlpha));var p=h=0,p=t.pathToImages;for(a&&((e.isAbsolute(a)||void 0===p)&&(p=""),d=t.container.image(p+a+t.extension,0,0,n,n),e.setCN(t,d,"zoom-out-image"),i.push(d),d=d.getBBox(),h=d.width+5),void 0!==s&&(o=e.text(t.container,s,o,t.fontFamily,r,"start"),e.setCN(t,o,"zoom-out-label"),r=o.getBBox(),p=d?d.height/2-3:r.height/2,o.translate(h,p),i.push(o)),d=i.getBBox(),o=1,e.isModern||(o=0),l=e.rect(t.container,d.width+2*u+5,d.height+2*u-2,l,1,1,l,o),l.setAttr("opacity",c),l.translate(-u,-u),e.setCN(t,l,"zoom-out-bg"),i.push(l),l.toBack(),t.zbBG=l,d=l.getBBox(),i.translate(t.marginLeftReal+t.plotAreaWidth-d.width+u,t.marginTopReal+u),i.hide(),i.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB(),t.clickZB()}),c=0;c<i.length;c++)i[c].attr({cursor:"pointer"});void 0!==t.zoomOutButtonTabIndex&&(i.setAttr("tabindex",t.zoomOutButtonTabIndex),i.setAttr("role","menuitem"),i.keyup(function(e){13==e.keyCode&&t.clickZB()})),t.zbSet=i}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,o=this.dy,r=this.marginLeftReal,n=this.marginTopReal,a=this.plotAreaWidth-1,s=this.plotAreaHeight-1,l=this.plotAreaFillColors,c=this.plotAreaFillAlphas,h=this.plotAreaBorderColor,u=this.plotAreaBorderAlpha;"object"==(void 0===c?"undefined":i(c))&&(c=c[0]),l=e.polygon(this.container,[0,a,a,0,0],[0,0,s,s,0],l,c,1,h,u,this.plotAreaGradientAngle),e.setCN(this,l,"plot-area"),l.translate(r+t,n+o),this.set.push(l),0!==t&&0!==o&&(l=this.plotAreaFillColors,"object"==(void 0===l?"undefined":i(l))&&(l=l[0]),l=e.adjustLuminosity(l,-.15),a=e.polygon(this.container,[0,t,a+t,a,0],[0,o,o,0,0],l,c,1,h,u),e.setCN(this,a,"plot-area-bottom"),a.translate(r,n+s),this.set.push(a),t=e.polygon(this.container,[0,0,t,t,0],[0,s,s+o,o,0],l,c,1,h,u),e.setCN(this,t,"plot-area-left"),t.translate(r,n),this.set.push(t)),(r=this.bbset)&&this.scrollbarOnly&&r.remove()},updatePlotArea:function(){var e=this.updateWidth(),t=this.updateHeight(),i=this.container;this.realWidth=e,this.realWidth=t,i&&this.container.setSize(e,t);var i=this.marginLeftReal,o=this.marginTopReal,e=e-i-this.marginRightReal-this.dx,t=t-o-this.marginBottomReal;1>e&&(e=1),1>t&&(t=1),this.plotAreaWidth=Math.round(e),this.plotAreaHeight=Math.round(t),this.plotBalloonsSet.translate(i,o)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var e=this.getTitleHeight();this.titleHeight=e,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=e),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var e,t=this.valueAxes;for(e=0;e<t.length;e++){var i=t[e];this.setAxisRenderers(i),this.updateObjectSize(i)}},setAxisRenderers:function(t){t.axisRenderer=e.RecAxis,t.guideFillRenderer=e.RecFill,t.axisItemRenderer=e.RecItem,t.marginsChanged=!0},updateGraphs:function(){var e,t=this.graphs;for(e=0;e<t.length;e++){var i=t[e];i.index=e,i.rotate=this.rotate,this.updateObjectSize(i)}},updateObjectSize:function(e){e.width=this.plotAreaWidth-1,e.height=this.plotAreaHeight-1,e.x=this.marginLeftReal,e.y=this.marginTopReal,e.dx=this.dx,e.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=e.processObject(t,e.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=e.processObject(t,e.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){e.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var e,t=this.trendLines;for(e=0;e<t.length;e++){var i=t[e];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal,i.y=this.marginTopReal,i.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(e){this.trendLines.push(e)},zoomOutValueAxes:function(){for(var e=this.valueAxes,t=0;t<e.length;t++)e[t].zoomOut()},removeTrendLine:function(e){var t,i=this.trendLines;for(t=i.length-1;0<=t;t--)i[t]==e&&i.splice(t,1)},adjustMargins:function(e,t){var i=e.position,o=e.scrollbarHeight+e.offset;e.enabled&&("top"==i?t?this.marginLeftReal+=o:this.marginTopReal+=o:t?this.marginRightReal+=o:this.marginBottomReal+=o)},getScrollbarPosition:function(e,t,i){var o="bottom",r="top";e.oppositeAxis||(r=o,o="top"),e.position=t?"bottom"==i||"left"==i?o:r:"top"==i||"right"==i?o:r},updateChartScrollbar:function(e,t){if(e){e.rotate=t;var i=this.marginTopReal,o=this.marginLeftReal,r=e.scrollbarHeight,n=this.dx,a=this.dy,s=e.offset;"top"==e.position?t?(e.y=i,e.x=o-r-s):(e.y=i-r+a-s,e.x=o+n):t?(e.y=i+a,e.x=o+this.plotAreaWidth+n+s):(e.y=i+this.plotAreaHeight+s,e.x=this.marginLeftReal)}},showZB:function(e){var t=this.zbSet;e&&""!==(t=this.zoomOutText)&&t&&this.drawZoomOutButton(),(t=this.zbSet)&&(this.zoomButtonSet.push(t),e?t.show():t.hide(),this.rollOutZB())},handleReleaseOutside:function(t){e.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){e.AmRectangularChart.base.handleMouseDown.call(this,t);var i=this.chartCursor;i&&i.handleMouseDown&&!this.rolledOverZB&&i.handleMouseDown(t)},update:function(){e.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(e){this.relativeZoomValueAxes(e.target.valueAxes,e.relativeStart,e.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(e){if(e&&e.enabled){var t=e.valueAxes[0],i=t.relativeStart,o=t.relativeEnd;t.reversed&&(o=1-i,i=1-t.relativeEnd),e.percentZoom(i,o)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var e,t=this.valueAxes;for(e=0;e<t.length;e++)t[e].zoom(this.start,this.end);for(t=this.graphs,e=0;e<t.length;e++)t[e].zoom(this.start,this.end);(e=this.chartCursor)&&e.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(e,t){var i=e.relativeStart,o=e.relativeEnd;if(i>o)var r=i,i=o,o=r;this.relativeZoomValueAxes(t,i,o),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(t,i,o){if(this.hideBalloonReal(),i=e.fitToBounds(i,0,1),o=e.fitToBounds(o,0,1),i>o){var r=i;i=o,o=r}var r=1/this.maxZoomFactor,n=e.getDecimals(r)+4;if(o-i<r&&(o=i+(o-i)/2,i=o-r/2,o+=r/2,1<o&&(i-=o-1,o=1),0>i&&(i=0,o=r)),i=e.roundTo(i,n),o=e.roundTo(o,n),r=!1,t){for(n=0;n<t.length;n++){var a=t[n].zoomToRelativeValues(i,o,!0);a&&(r=a)}this.showZB()}return r},addChartCursor:function(t){e.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide)),this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(e){var t,i=this.valueAxes;for(t=0;t<i.length;t++)if(!e.panning){var o=i[t];o&&o.showBalloon&&o.showBalloon(e.x,e.y)}},handleCursorZoom:function(e){if(this.skipZoomed)this.skipZoomed=!1;else{var t=this.startX0,i=this.endX0,o=this.endY0,r=this.startY0,n=e.startX,a=e.endX,s=e.startY,l=e.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(t+n*(i-t),t+a*(i-t),r+s*(o-r),r+l*(o-r),e)}},handleCursorHide:function(){var e,t=this.valueAxes;for(e=0;e<t.length;e++)t[e].hideBalloon();for(t=this.graphs,e=0;e<t.length;e++)t[e].hideBalloonReal()}})}(),function(){var e=window.AmCharts;e.AmSerialChart=e.Class({inherits:e.AmRectangularChart,construct:function(t){this.type="serial",e.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var i=new e.CategoryAxis(t);i.chart=this,this.categoryAxis=i,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,e.applyTheme(this,t,this.cname)},initChart:function(){e.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var e,t=this.countColumns(),i=this.chartData,o=this.graphs;for(e=0;e<o.length;e++){var r=o[e];r.data=i,r.columnCount=t}0<i.length&&(this.firstTime=this.getStartTime(i[0].time),this.lastTime=this.getEndTime(i[i.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var t,i,o=this.valueAxes;if(0<o.length){var r=0;for(i=0;i<o.length;i++)t=o[i],r<t.gridCountReal&&(r=t.gridCountReal);var n=!1;for(i=0;i<o.length;i++)if(t=o[i],t.gridCountReal<r){var a=(r-t.gridCountReal)/2,s=n=a;0!=a-Math.round(a)&&(n-=.5,s+=.5),0<=t.min&&0>t.min-n*t.step&&(s+=n,n=0),0>=t.max&&0<t.max+s*t.step&&(n+=s,s=0),a=e.getDecimals(t.step),t.minimum=e.roundTo(t.min-n*t.step,a),t.maximum=e.roundTo(t.max+s*t.step,a),t.setStep=t.step,n=t.strictMinMax=!0}for(n&&this.updateAfterValueZoom(),i=0;i<o.length;i++)t=o[i],t.minimum=NaN,t.maximum=NaN,t.setStep=NaN,t.strictMinMax=!1}}},handleWheelReal:function(e,t){if(!this.wheelBusy){var i=this.categoryAxis,o=i.parseDates,r=i.minDuration(),n=1,a=1;this.mouseWheelZoomEnabled?t||(n=-1):t&&(n=-1);var s=this.chartCursor;if(s)if(s.mouseIsOver()){var l=s.mouseX,s=s.mouseY;n!=a&&(l=this.rotate?s/this.plotAreaHeight:l/this.plotAreaWidth,n*=l,a*=1-l),l=.05*(this.end-this.start),o&&(l=.05*(this.endTime-this.startTime)/r),1>l&&(l=1),n*=l,a*=l,o&&!i.equalSpacing||(n=Math.round(n),a=Math.round(a)),s=this.chartData.length,i=this.lastTime,l=this.firstTime,0>e?o?(s=this.endTime-this.startTime,o=this.startTime+n*r,r=this.endTime+a*r,0<a&&0<n&&r>=i&&(r=i,o=i-s),this.zoomToDates(new Date(o),new Date(r))):(0<a&&0<n&&this.end>=s-1&&(n=a=0),o=this.start+n,r=this.end+a,this.zoomToIndexes(o,r)):o?(s=this.endTime-this.startTime,o=this.startTime-n*r,r=this.endTime-a*r,0<a&&0<n&&o<=l&&(o=l,r=l+s),this.zoomToDates(new Date(o),new Date(r))):(0<a&&0<n&&1>this.start&&(n=a=0),o=this.start-n,r=this.end-a,this.zoomToIndexes(o,r))}else this.handleMouseOut()}},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN);var i=t=!1,o=!1,r=this.chartScrollbar;r&&(r.dragging&&(t=!0,r.handleDragStop()),r.resizingRight&&(o=!0,r.rightDragStop()),r.resizingLeft&&(i=!0,r.leftDragStop())),e.AmSerialChart.base.validateData.call(this),t&&r.handleDragStart(),o&&r.rightDragStart(),i&&r.leftDragStart()},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){e.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t)){var i=this.chartScrollbar;!i||!this.marginsUpdated&&this.autoMargins||i.draw(),(i=this.valueScrollbar)&&i.draw();var o,r,i=t.length-1;o=this.categoryAxis,o.parseDates&&!o.equalSpacing?(o=this.startTime,r=this.endTime,(isNaN(o)||isNaN(r))&&(o=this.firstTime,r=this.lastTime)):(o=this.start,r=this.end,(isNaN(o)||isNaN(r))&&(r=o=NaN),isNaN(o)&&(isNaN(this.startTime)||(o=this.getClosestIndex(t,"time",this.startTime,!0,0,t.length))),isNaN(r)&&(isNaN(this.endTime)||(r=this.getClosestIndex(t,"time",this.endTime,!1,0,t.length))),(isNaN(o)||isNaN(r))&&(o=0,r=i)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(o,r)}}else this.cleanChart()},cleanChart:function(){e.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(e,t,i){e.chart=this,e.id=i,e.rotate=t,e.setOrientation(!this.rotate),e.init(),this.setAxisRenderers(e),this.updateObjectSize(e)},updateValueAxes:function(){e.AmSerialChart.base.updateValueAxes.call(this);var t,i=this.valueAxes;for(t=0;t<i.length;t++){var o=i[t],r=this.rotate;o.rotate=r,o.setOrientation(r),r=this.categoryAxis,r.startOnAxis&&!r.parseDates||(o.expandMinMax=!0)}},getStartTime:function(t){var i=this.categoryAxis;return e.resetDateToMin(new Date(t),i.minPeriod,1,i.firstDayOfWeek).getTime()},getEndTime:function(t){var i=e.extractPeriod(this.categoryAxis.minPeriod);return e.changeDate(new Date(t),i.period,i.count,!0).getTime()-1},updateMargins:function(){e.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate)),(t=this.valueScrollbar)&&(this.getScrollbarPosition(t,!this.rotate,this.valueAxes[0].position),this.adjustMargins(t,!this.rotate))},updateScrollbars:function(){e.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(e,t){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?(this.timeZoom(e,t),isNaN(e)&&this.zoomOutValueAxes()):this.indexZoom(e,t),(i=this.chartCursor)&&(i.pan||i.hideCursorReal()),this.updateLegendValues()},timeZoom:function(t,i){var o=this.maxSelectedTime;isNaN(o)||(i!=this.endTime&&i-t>o&&(t=i-o),t!=this.startTime&&i-t>o&&(i=t+o));var r=this.minSelectedTime;if(0<r&&i-t<r){var n=Math.round(t+(i-t)/2),r=Math.round(r/2);t=n-r,i=n+r}if(r=this.chartData,n=this.categoryAxis,e.ifArray(r)&&(t!=this.startTime||i!=this.endTime)){var a=n.minDuration(),s=this.firstTime,l=this.lastTime;t||(t=s,isNaN(o)||(t=l-o)),i||(i=l),t>l&&(t=l),i<s&&(i=s),t<s&&(t=s),i>l&&(i=l),i<t&&(i=t+a),i-t<a/5&&(i<l?i=t+a/5:t=i-a/5),this.startTime=t,this.endTime=i,o=r.length-1,a=this.getClosestIndex(r,"time",t,!0,0,o),r=this.getClosestIndex(r,"time",i,!1,a,o),n.timeZoom(t,i),n.zoom(a,r),this.start=e.fitToBounds(a,0,o),this.end=e.fitToBounds(r,0,o),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},showZB:function(){var t,i=this.categoryAxis;i&&i.parseDates&&!i.equalSpacing&&(this.startTime>this.firstTime&&(t=!0),this.endTime<this.lastTime&&(t=!0)),0<this.start&&(t=!0),this.end<this.chartData.length-1&&(t=!0),(i=this.valueAxes)&&(i=i[0],isNaN(i.relativeStart)||(0!==e.roundTo(i.relativeStart,3)&&(t=!0),1!=e.roundTo(i.relativeEnd,3)&&(t=!0))),e.AmSerialChart.base.showZB.call(this,t)},updateAfterValueZoom:function(){e.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(e,t){var i=this.maxSelectedSeries,o=!1;if(isNaN(i)||(t!=this.end&&t-e>i&&(e=t-i,o=!0),e!=this.start&&t-e>i&&(t=e+i,o=!0)),o&&(o=this.chartScrollbar)&&o.dragger){var r=o.dragger.getBBox();o.maxWidth=r.width,o.maxHeight=r.height}e==this.start&&t==this.end||(o=this.chartData.length-1,isNaN(e)&&(e=0,isNaN(i)||(e=o-i)),isNaN(t)&&(t=o),t<e&&(t=e),t>o&&(t=o),e>o&&(e=o-1),0>e&&(e=0),this.start=e,this.end=t,this.categoryAxis.zoom(e,t),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==e||t!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){e.AmSerialChart.base.updateGraphs.call(this);var t,i=this.graphs;for(t=0;t<i.length;t++){var o=i[t];o.columnWidthReal=this.columnWidth,o.categoryAxis=this.categoryAxis,e.isString(o.fillToGraph)&&(o.fillToGraph=this.graphsById[o.fillToGraph])}},zoomAxesAndGraphs:function(){e.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var t,i,o=this.graphs;for(this.columnsArray=[],t=0;t<o.length;t++){i=o[t];var r=i.columnsArray;if(r){var n;for(n=0;n<r.length;n++)this.columnsArray.push(r[n])}}if(this.columnsArray.sort(this.compareDepth),o=this.columnsSet,0<this.columnsArray.length){for(r=this.container.set(),this.columnSet.push(r),t=0;t<this.columnsArray.length;t++)r.push(this.columnsArray[t].column.set);i&&r.translate(i.x,i.y),this.columnsSet=r}e.remove(o)}},compareDepth:function(e,t){return e.depth>t.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,t=this.categoryAxis;if(e){if(!this.zoomedByScrollbar){var i=e.dragger;i&&i.stop()}this.zoomedByScrollbar=!1,t.parseDates&&!t.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end)}this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var t,i=this.trendLines;for(t=0;t<i.length;t++){var o=i[t],o=e.processObject(o,e.TrendLine,this.theme);i[t]=o,o.chart=this,o.id||(o.id="trendLineAuto"+t+"_"+(new Date).getTime()),e.isString(o.valueAxis)&&(o.valueAxis=this.getValueAxisById(o.valueAxis)),o.valueAxis||(o.valueAxis=this.valueAxes[0]),o.categoryAxis=this.categoryAxis}},validateNow:function(t,i){t&&this.zoomOutOnDataUpdate&&(this.endTime=this.end=this.startTime=this.start=NaN),e.AmSerialChart.base.validateNow.call(this,t,i)},countColumns:function(){var e,t,i,o,r=0,n=this.valueAxes.length,a=this.graphs.length,s=!1;for(o=0;o<n;o++){t=this.valueAxes[o];var l=t.stackType,c=0;if("100%"==l||"regular"==l)for(s=!1,i=0;i<a;i++)e=this.graphs[i],e.tcc=1,e.valueAxis==t&&"column"==e.type&&(!s&&e.stackable&&(r++,s=!0),(!e.stackable&&e.clustered||e.newStack&&0!==c)&&r++,e.columnIndex=r-1,e.clustered||(e.columnIndex=0),c++);if("none"==l||"3d"==l){for(c=!1,i=0;i<a;i++)e=this.graphs[i],e.valueAxis==t&&"column"==e.type&&(e.clustered?(e.tcc=1,e.newStack&&(r=0),e.hidden||(e.columnIndex=r,r++)):e.hidden||(c=!0,e.tcc=1,e.columnIndex=0));c&&0===r&&(r=1)}if("3d"==l){for(t=1,c=0;c<a;c++)e=this.graphs[c],e.newStack&&t++,e.depthCount=t,e.tcc=r;r=t}if("regular"==l||"100%"==l)for(t=10,c=0;c<a;c++)e=this.graphs[c],e.newStack&&t--,e.depthCount=t,e.tcc=r}return r},parseData:function(){e.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var t,i=this.chartData;for(t=0;t<i.length;t++)if(i[t].category==e)return t},handleScrollbarZoom:function(e){this.zoomedByScrollbar=!0,this.zoom(e.start,e.end)},dispatchTimeZoomEvent:function(){if(this.drawGraphs&&(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime)){var t={type:"zoomed"};t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var i=this.categoryAxis,o=e.extractPeriod(i.minPeriod).period,i=i.dateFormatsObject[o];t.startValue=e.formatDate(t.startDate,i,this),t.endValue=e.formatDate(t.endDate,i,this),t.chart=this,t.target=this,this.fire(t)}},dispatchIndexZoomEvent:function(){if(this.drawGraphs&&(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end)){this.startIndex=this.start,this.endIndex=this.end;var t=this.chartData;if(e.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var i={chart:this,target:this,type:"zoomed"};i.startIndex=this.start,i.endIndex=this.end,i.startValue=t[this.start].category,i.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,i.startDate=new Date(this.startTime),i.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(i)}}},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(e,t,i,o,r,n){0>r&&(r=0),n>e.length-1&&(n=e.length-1);var a=r+Math.round((n-r)/2),s=e[a][t];return i==s?a:1>=n-r?o?r:Math.abs(e[r][t]-i)<Math.abs(e[n][t]-i)?r:n:i==s?a:i<s?this.getClosestIndex(e,t,i,o,r,a):this.getClosestIndex(e,t,i,o,a,n)},zoomToIndexes:function(e,t){var i=this.chartData;if(i){var o=i.length;0<o&&(0>e&&(e=0),t>o-1&&(t=o-1),o=this.categoryAxis,o.parseDates&&!o.equalSpacing?this.zoom(i[e].time,this.getEndTime(i[t].time)):this.zoom(e,t))}},zoomToDates:function(t,i){var o=this.chartData;if(o)if(this.categoryAxis.equalSpacing){var r=this.getClosestIndex(o,"time",t.getTime(),!0,0,o.length);i=e.resetDateToMin(i,this.categoryAxis.minPeriod,1),o=this.getClosestIndex(o,"time",i.getTime(),!1,0,o.length),this.zoom(r,o)}else this.zoom(t.getTime(),i.getTime())},zoomToCategoryValues:function(e,t){this.chartData&&this.zoom(this.getCategoryIndexByValue(e),this.getCategoryIndexByValue(t))},formatPeriodString:function(t,i){if(i){i.periodDataItem={},i.periodPercentDataItem={};var o=["value","open","low","high","close"],r="value open low high close average sum count".split(" "),n=i.valueAxis,a=this.chartData,s=i.numberFormatter;s||(s=this.nf);for(var l=0;l<o.length;l++){for(var c,h,u,d,p,f,m,g,v,b,w=o[l],y=0,C=0,x=0,S=0,P=this.start;P<=this.end;P++){var T=a[P];if(T){var O=T.axes[n.id].graphs[i.id];if(O){if(O.values){var k=O.values[w],T=T.x.categoryAxis;this.rotate?(0>T||T>O.graph.height)&&(k=NaN):(0>T||T>O.graph.width)&&(k=NaN),isNaN(k)||(isNaN(c)&&(c=k),h=k,(isNaN(u)||u>k)&&(u=k),(isNaN(d)||d<k)&&(d=k),p=e.getDecimals(y),T=e.getDecimals(k),y+=k,y=e.roundTo(y,Math.max(p,T)),C++,p=y/C)}O.percents&&(O=O.percents[w],!isNaN(O))&&(isNaN(f)&&(f=O),m=O,(isNaN(g)||g>O)&&(g=O),(isNaN(v)||v<O)&&(v=O),b=e.getDecimals(x),k=e.getDecimals(O),x+=O,x=e.roundTo(x,Math.max(b,k)),S++,b=x/S)}}}y={open:c,close:h,high:d,low:u,average:p,sum:y,count:C},x={open:f,close:m,high:v,low:g,average:b,sum:x,count:S},t=e.formatValue(t,y,r,s,w+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=e.formatValue(t,x,r,this.pf,"percents\\."+w+"\\."),i.periodDataItem[w]=y,i.periodPercentDataItem[w]=x}}return t=e.cleanFromEmpty(t)},formatString:function(t,i,o){if(i){var r=i.graph;if(void 0!==t){if(-1!=t.indexOf("[[category]]")){var n=i.serialDataItem.category;if(this.categoryAxis.parseDates){var a=this.balloonDateFormat,s=this.chartCursor;s&&s.categoryBalloonDateFormat&&(a=s.categoryBalloonDateFormat),a=e.formatDate(n,a,this),-1!=a.indexOf("fff")&&(a=e.formatMilliseconds(a,n)),n=a}t=t.replace(/\[\[category\]\]/g,String(n.replace("$","$$$")))}n=r.numberFormatter,n||(n=this.nf),a=i.graph.valueAxis,(s=a.duration)&&!isNaN(i.values.value)&&a.maxInterval&&(s=e.formatDuration(i.values.value,s,"",a.durationUnits,a.maxInterval,n),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),s)),"date"==a.type&&(a=e.formatDate(new Date(i.values.value),r.dateFormat,this),s=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(s,a),a=e.formatDate(new Date(i.values.open),r.dateFormat,this),s=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(s,a)),r="value open low high close total".split(" "),a=this.pf,t=e.formatValue(t,i.percents,r,a,"percents\\."),t=e.formatValue(t,i.values,r,n,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=e.formatValue(t,i.values,["percents"],a),-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,i.dataContext)),-1!=t.indexOf("[[")&&i.graph.customData&&(t=e.formatDataContextValue(t,i.graph.customData)),t=e.AmSerialChart.base.formatString.call(this,t,i,o)}return t}},updateChartCursor:function(){e.AmSerialChart.base.updateChartCursor.call(this);var t=this.chartCursor,i=this.categoryAxis;if(t){var o=t.categoryBalloonAlpha,r=t.categoryBalloonColor,n=t.color;void 0===r&&(r=t.cursorColor);var a=t.valueZoomable,s=t.zoomable,l=t.valueLineEnabled;if(this.rotate?(t.vLineEnabled=l,t.hZoomEnabled=a,t.vZoomEnabled=s):(t.hLineEnabled=l,t.vZoomEnabled=a,t.hZoomEnabled=s),t.valueLineBalloonEnabled)for(l=0;l<this.valueAxes.length;l++)a=this.valueAxes[l],(s=a.balloon)||(s={}),s=e.extend(s,this.balloon,!0),s.fillColor=r,s.balloonColor=r,s.fillAlpha=o,s.borderColor=r,s.color=n,a.balloon=s;else for(s=0;s<this.valueAxes.length;s++)a=this.valueAxes[s],a.balloon&&(a.balloon=null);i&&(i.balloonTextFunction=t.categoryBalloonFunction,t.categoryLineAxis=i,i.balloonText=t.categoryBalloonText,t.categoryBalloonEnabled&&((s=i.balloon)||(s={}),s=e.extend(s,this.balloon,!0),s.fillColor=r,s.balloonColor=r,s.fillAlpha=o,s.borderColor=r,s.color=n,i.balloon=s),i.balloon&&(i.balloon.enabled=t.categoryBalloonEnabled))}},addChartScrollbar:function(t){e.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),t.gridAxis=this.categoryAxis,this.chartScrollbar=t},addValueScrollbar:function(t){e.callMethod("destroy",[this.valueScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarValueZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted));var i=t.scrollbarHeight;this.rotate?void 0===t.height&&(t.height=i):void 0===t.width&&(t.width=i),t.gridAxis||(t.gridAxis=this.valueAxes[0]),t.valueAxes=this.valueAxes,this.valueScrollbar=t},removeChartScrollbar:function(){e.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){e.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(t){e.AmSerialChart.base.handleReleaseOutside.call(this,t),e.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){e.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){e.AmSerialChart.base.processScrollbars.call(this);var t=this.valueScrollbar;t&&(t=e.processObject(t,e.ChartScrollbar,this.theme),t.id="valueScrollbar",this.addValueScrollbar(t))},handleValueAxisZoom:function(e){this.handleValueAxisZoomReal(e,this.valueAxes)},zoomOut:function(){e.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(e){var t=e.index,i=this.chartData,o=e.graph;if(t+1<i.length)for(t+=1;t<i.length;t++)if((e=i[t])&&(e=e.axes[o.valueAxis.id].graphs[o.id],!isNaN(e.y)))return e},handleCursorZoomReal:function(e,t,i,o,r){var n,a,s=r.target;this.rotate?(isNaN(e)||isNaN(t)||this.relativeZoomValueAxes(this.valueAxes,e,t)&&this.updateAfterValueZoom(),s.vZoomEnabled&&(n=r.start,a=r.end)):(isNaN(i)||isNaN(o)||this.relativeZoomValueAxes(this.valueAxes,i,o)&&this.updateAfterValueZoom(),s.hZoomEnabled&&(n=r.start,a=r.end)),isNaN(n)||isNaN(a)||(e=this.categoryAxis,e.parseDates&&!e.equalSpacing?this.zoomToDates(new Date(n),new Date(a)):this.zoomToIndexes(n,a))},handleCursorZoomStarted:function(){var e=this.valueAxes;if(e){var e=e[0],t=e.relativeStart,i=e.relativeEnd;e.reversed&&(t=1-e.relativeEnd,i=1-e.relativeStart),this.rotate?(this.startX0=t,this.endX0=i):(this.startY0=t,this.endY0=i)}this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(t){e.AmSerialChart.base.handleCursorMove.call(this,t);var i=t.target,o=this.categoryAxis;if(t.panning)this.handleCursorHide(t);else if(this.chartData&&!i.isHidden){var r=this.graphs;if(r){var n;if(n=o.xToIndex(this.rotate?t.y:t.x),n=this.chartData[n]){var a,s,l,c;if(i.oneBalloonOnly&&i.valueBalloonsEnabled){var h=1/0;for(a=r.length-1;0<=a;a--)if(s=r[a],s.balloon.enabled&&s.showBalloon&&!s.hidden){if(l=s.valueAxis.id,l=n.axes[l].graphs[s.id],i.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l)))continue;l=l.y,"top"==s.showBalloonAt&&(l=0),"bottom"==s.showBalloonAt&&(l=this.height);var u=i.mouseX,d=i.mouseY;l=this.rotate?Math.abs(u-l):Math.abs(d-l),l<h&&(h=l,c=s)}i.mostCloseGraph=c}if(this.prevCursorItem!=n||c!=this.prevMostCloseGraph){for(h=[],a=0;a<r.length;a++)s=r[a],l=s.valueAxis.id,l=n.axes[l].graphs[s.id],i.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l))&&s.balloon?s.balloon.hide():c&&s!=c?(s.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),s.balloon.hide(0)):i.valueBalloonsEnabled?(s.balloon.showBullet=i.bulletsEnabled,s.balloon.bulletSize=i.bulletSize/2,t.hideBalloons||(s.showGraphBalloon(l,i.pointer,!1,i.graphBulletSize,i.graphBulletAlpha),s.balloon.set&&h.push({balloon:s.balloon,y:s.balloon.pointToY}))):(s.currentDataItem=l,s.resizeBullet(l,i.graphBulletSize,i.graphBulletAlpha));i.avoidBalloonOverlapping&&this.arrangeBalloons(h),this.prevCursorItem=n}this.prevMostCloseGraph=c}}r=e.fitToBounds(t.x,0,i.width),c=e.fitToBounds(t.y,0,i.height),o.showBalloon(r,c,i.categoryBalloonDateFormat,t.skip),this.updateLegendValues()}},handleCursorHide:function(t){e.AmSerialChart.base.handleCursorHide.call(this,t),t=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),t&&t.hideBalloon(),t=this.graphs;var i;for(i=0;i<t.length;i++)t[i].currentDataItem=null},handleCursorPanning:function(t){var i,o=t.target,r=t.deltaX,n=t.deltaY,a=t.delta2X,s=t.delta2Y;if(t=!1,this.rotate){isNaN(a)&&(a=r,t=!0);var l=this.endX0;i=this.startX0;var c=l-i,l=l-c*a,h=c;t||(h=0),t=e.fitToBounds(i-c*r,0,1-h)}else isNaN(s)&&(s=n,t=!0),l=this.endY0,i=this.startY0,c=l-i,l+=c*n,h=c,t||(h=0),t=e.fitToBounds(i+c*s,0,1-h);i=e.fitToBounds(l,h,1);var u;o.valueZoomable&&(u=this.relativeZoomValueAxes(this.valueAxes,t,i));var d;i=this.categoryAxis,this.rotate&&(r=n,a=s),t=!1,isNaN(a)&&(a=r,t=!0),o.zoomable&&(0<Math.abs(r)||0<Math.abs(a))&&(i.parseDates&&!i.equalSpacing?(s=this.startTime0,n=this.endTime0,i=n-s,a*=i,c=this.firstTime,l=this.lastTime,h=i,t||(h=0),t=Math.round(e.fitToBounds(s-i*r,c,l-h)),a=Math.round(e.fitToBounds(n-a,c+h,l)),(this.startTime!=t||this.endTime!=a)&&(d={chart:this,target:o,type:"zoomed",start:t,end:a},this.skipZoomed=!0,o.fire(d),this.zoom(t,a),d=!0)):(s=this.start0,n=this.end0,i=n-s,r=Math.round(i*r),a=Math.round(i*a),c=this.chartData.length-1,t||(i=0),t=e.fitToBounds(s-r,0,c-i),i=e.fitToBounds(n-a,i,c),(this.start!=t||this.end!=i)&&(this.skipZoomed=!0,o.fire({chart:this,target:o,type:"zoomed",start:t,end:i}),this.zoom(t,i),d=!0))),!d&&u&&this.updateAfterValueZoom()},arrangeBalloons:function(e){var t=this.plotAreaHeight;e.sort(this.compareY);var i,o,r,n=this.plotAreaWidth,a=e.length;for(i=0;i<a;i++)o=e[i].balloon,o.setBounds(0,0,n,t),o.restorePrevious(),o.draw(),t=o.yPos-3;for(e.reverse(),i=0;i<a;i++){o=e[i].balloon;var t=o.bottom,s=o.bottom-o.yPos;0<i&&t-s<r+3&&o.setBounds&&(o.setBounds(0,r+3,n,r+s+3),o.restorePrevious(),o.draw()),o.set&&o.set.show(),r=o.bottom}},compareY:function(e,t){return e.y<t.y?1:-1}})}(),function(){var e=window.AmCharts;e.Cuboid=e.Class({construct:function(e,t,i,o,r,n,a,s,l,c,h,u,d,p,f,m,g){this.set=e.set(),this.container=e,this.h=Math.round(i),this.w=Math.round(t),this.dx=o,this.dy=r,this.colors=n,this.alpha=a,this.bwidth=s,this.bcolor=l,this.balpha=c,this.dashLength=p,this.topRadius=m,this.pattern=f,this.rotate=d,this.bcn=g,d?0>t&&0===h&&(h=180):0>i&&270==h&&(h=90),this.gradientRotation=h,0===o&&0===r&&(this.cornerRadius=u),this.draw()},draw:function(){var t=this.set;t.clear();var o=this.container,r=o.chart,n=this.w,a=this.h,s=this.dx,l=this.dy,c=this.colors,h=this.alpha,u=this.bwidth,d=this.bcolor,p=this.balpha,f=this.gradientRotation,m=this.cornerRadius,g=this.dashLength,v=this.pattern,b=this.topRadius,w=this.bcn,y=c,C=c;"object"==(void 0===c?"undefined":i(c))&&(y=c[0],C=c[c.length-1]);var x,S,P,T,O,k,A,N,B,j=h;v&&(h=0);var I,V,D,_,E=this.rotate;if(0<Math.abs(s)||0<Math.abs(l))if(isNaN(b))A=C,C=e.adjustLuminosity(y,-.2),C=e.adjustLuminosity(y,-.2),x=e.polygon(o,[0,s,n+s,n,0],[0,l,l,0,0],C,h,1,d,0,f),0<p&&(B=e.line(o,[0,s,n+s],[0,l,l],d,p,u,g)),S=e.polygon(o,[0,0,n,n,0],[0,a,a,0,0],C,h,1,d,0,f),S.translate(s,l),0<p&&(P=e.line(o,[s,s],[l,l+a],d,p,u,g)),T=e.polygon(o,[0,0,s,s,0],[0,a,a+l,l,0],C,h,1,d,0,f),O=e.polygon(o,[n,n,n+s,n+s,n],[0,a,a+l,l,0],C,h,1,d,0,f),0<p&&(k=e.line(o,[n,n+s,n+s,n],[0,l,a+l,a],d,p,u,g)),C=e.adjustLuminosity(A,.2),A=e.polygon(o,[0,s,n+s,n,0],[a,a+l,a+l,a,a],C,h,1,d,0,f),0<p&&(N=e.line(o,[0,s,n+s],[a,a+l,a+l],d,p,u,g));else{var $,M,R;E?($=a/2,C=s/2,R=a/2,M=n+s/2,V=Math.abs(a/2),I=Math.abs(s/2)):(C=n/2,$=l/2,M=n/2,R=a+l/2+1,I=Math.abs(n/2),V=Math.abs(l/2)),D=I*b,_=V*b,.1<I&&.1<I&&(x=e.circle(o,I,y,h,u,d,p,!1,V),x.translate(C,$)),.1<D&&.1<D&&(A=e.circle(o,D,e.adjustLuminosity(y,.5),h,u,d,p,!1,_),A.translate(M,R))}for(h=j,1>Math.abs(a)&&(a=0),1>Math.abs(n)&&(n=0),!isNaN(b)&&(0<Math.abs(s)||0<Math.abs(l))?(c=[y],c={fill:c,stroke:d,"stroke-width":u,"stroke-opacity":p,"fill-opacity":h},E?(h="M0,0 L"+n+","+(a/2-a/2*b),u=" B",0<n&&(u=" A"),e.VML?(h+=u+Math.round(n-D)+","+Math.round(a/2-_)+","+Math.round(n+D)+","+Math.round(a/2+_)+","+n+",0,"+n+","+a,h=h+" L0,"+a+(u+Math.round(-I))+","+Math.round(a/2-V)+","+Math.round(I)+","+Math.round(a/2+V)+",0,"+a+",0,0"):(h+="A"+D+","+_+",0,0,0,"+n+","+(a-a/2*(1-b))+"L0,"+a,h+="A"+I+","+V+",0,0,1,0,0"),I=90):(u=n/2-n/2*b,h="M0,0 L"+u+","+a,e.VML?(h="M0,0 L"+u+","+a,u=" B",0>a&&(u=" A"),h+=u+Math.round(n/2-D)+","+Math.round(a-_)+","+Math.round(n/2+D)+","+Math.round(a+_)+",0,"+a+","+n+","+a,h+=" L"+n+",0",h+=u+Math.round(n/2+I)+","+Math.round(V)+","+Math.round(n/2-I)+","+Math.round(-V)+","+n+",0,0,0"):(h+="A"+D+","+_+",0,0,0,"+(n-n/2*(1-b))+","+a+"L"+n+",0",h+="A"+I+","+V+",0,0,1,0,0"),I=180),o=o.path(h).attr(c),o.gradient("linearGradient",[y,e.adjustLuminosity(y,-.3),e.adjustLuminosity(y,-.3),y],I),E?o.translate(s/2,0):o.translate(0,l/2)):o=0===a?e.line(o,[0,n],[0,0],d,p,u,g):0===n?e.line(o,[0,0],[0,a],d,p,u,g):0<m?e.rect(o,n,a,c,h,u,d,p,m,f,g):e.polygon(o,[0,0,n,n,0],[0,a,a,0,0],c,h,u,d,p,f,!1,g),n=isNaN(b)?0>a?[x,B,S,P,T,O,k,A,N,o]:[A,N,S,P,T,O,x,B,k,o]:E?0<n?[x,o,A]:[A,o,x]:0>a?[x,o,A]:[A,o,x],e.setCN(r,o,w+"front"),e.setCN(r,S,w+"back"),e.setCN(r,A,w+"top"),e.setCN(r,x,w+"bottom"),e.setCN(r,T,w+"left"),e.setCN(r,O,w+"right"),x=0;x<n.length;x++)(S=n[x])&&(t.push(S),e.setCN(r,S,w+"element"));v&&o.pattern(v,NaN,r.path)},width:function(e){isNaN(e)&&(e=0),this.w=Math.round(e),this.draw()},height:function(e){isNaN(e)&&(e=0),this.h=Math.round(e),this.draw()},animateHeight:function(t,i){var o=this;o.animationFinished=!1,o.easing=i,o.totalFrames=t*e.updateRate,o.rh=o.h,o.frame=0,o.height(1),setTimeout(function(){o.updateHeight.call(o)},1e3/e.updateRate)},updateHeight:function(){var t=this;t.frame++;var i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rh-1,i),t.height(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/e.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,i){var o=this;o.animationFinished=!1,o.easing=i,o.totalFrames=t*e.updateRate,o.rw=o.w,o.frame=0,o.width(1),setTimeout(function(){o.updateWidth.call(o)},1e3/e.updateRate)},updateWidth:function(){var t=this;t.frame++;var i=t.totalFrames;t.frame<=i?(i=t.easing(0,t.frame,1,t.rw-1,i),t.width(i),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/e.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),function(){var e=window.AmCharts;e.CategoryAxis=e.Class({inherits:e.AxisBase,construct:function(t){this.cname="CategoryAxis",e.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,e.applyTheme(this,t,this.cname)},draw:function(){e.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;if(this.data=t,this.labelRotationR=this.labelRotation,this.type=null,e.ifArray(t)){var i,o=this.chart;"scrollbar"!=this.id?(e.setCN(o,this.set,"category-axis"),e.setCN(o,this.labelsSet,"category-axis"),e.setCN(o,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var r,n,a,s,l,c,h=this.start,u=this.labelFrequency,d=0,p=this.end-h+1,f=this.gridCountR,m=this.showFirstLabel,g=this.showLastLabel,v="",v=e.extractPeriod(this.minPeriod),b=e.getPeriodDuration(v.period,v.count),w=this.rotate,y=this.firstDayOfWeek,C=this.boldPeriodBeginning;i=e.resetDateToMin(new Date(t[t.length-1].time+1.05*b),this.minPeriod,1,y).getTime(),this.firstTime=o.firstTime,this.endTime>i&&(this.endTime=i),c=this.minorGridEnabled,a=this.gridAlpha;var x=0,S=0;if(this.widthField)for(i=this.start;i<=this.end;i++)if(l=this.data[i]){var P=Number(this.data[i].dataContext[this.widthField]);isNaN(P)||(x+=P,l.widthValue=P)}if(this.parseDates&&!this.equalSpacing)this.lastTime=t[t.length-1].time,this.maxTime=e.resetDateToMin(new Date(this.lastTime+1.05*b),this.minPeriod,1,y).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(d=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,i=this.choosePeriod(0),u=i.period,n=i.count,i=e.getPeriodDuration(u,n),i<b&&(u=v.period,n=v.count,i=b),a=u,"WW"==a&&(a="DD"),this.currentDateFormat=this.dateFormatsObject[a],this.stepWidth=this.getStepWidth(p),f=Math.ceil(this.timeDifference/i)+1,v=e.resetDateToMin(new Date(this.startTime-i),u,n,y).getTime(),this.cellWidth=this.getStepWidth(p),p=Math.round(v/i),h=-1,p/2==Math.round(p/2)&&(h=-2,v-=i),p=this.start,p/2==Math.round(p/2)&&p--,0>p&&(p=0),S=this.end+2,S>=this.data.length&&(S=this.data.length),t=!1,t=!m,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),P=p,this.data[p].time!=e.resetDateToMin(new Date(this.data[p].time),u,n,y).getTime()){var b=0,T=v;for(i=p;i<S;i++)l=this.data[i].time,this.checkPeriodChange(u,n,l,T)&&(b++,2<=b&&(P=i,i=S),T=l)}if(c&&1<n&&(l=this.chooseMinorFrequency(n),e.getPeriodDuration(u,l)),0<this.gridCountR)for(i=p;i<S;i++)l=this.data[i].time,this.checkPeriodChange(u,n,l,v)&&i>=P&&(p=this.getCoordinate(i-this.start),c=!1,this.nextPeriod[a]&&(c=this.checkPeriodChange(this.nextPeriod[a],1,l,v,a))&&e.resetDateToMin(new Date(l),this.nextPeriod[a],1,y).getTime()!=l&&(c=!1),b=!1,c&&this.markPeriodChange?(c=this.dateFormatsObject[this.nextPeriod[a]],b=!0):c=this.dateFormatsObject[a],v=e.formatDate(new Date(l),c,o),(i==h&&!m||i==f&&!g)&&(v=" "),t?t=!1:(C||(b=!1),p-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(v=this.labelFunction(v,new Date(l),this,u,n,s)),this.boldLabels&&(b=!0),r=new this.axisItemRenderer(this,p,v,void 0,void 0,void 0,void 0,b),c=r.graphics(),this.pushAxisItem(r),c=c.getBBox().width,e.isModern||(c-=p),this.previousPos=p+c)),s=v=l)}}else if(this.cellWidth=this.getStepWidth(p),p<f&&(f=p),d+=this.start,this.stepWidth=this.getStepWidth(p),0<f)for(y=Math.floor(p/f),l=this.chooseMinorFrequency(y),p=d,p/2==Math.round(p/2)&&p--,0>p&&(p=0),C=0,this.widthField&&(p=this.start,y=1),this.end-p+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),i=p;i<=this.end+2;i++){if(f=!1,0<=i&&i<this.data.length?(n=this.data[i],v=n.category,f=n.forceShow):v="",c&&!isNaN(l)){if(i/l!=Math.round(i/l)&&!f)continue;i/y==Math.round(i/y)||f||(this.gridAlpha=this.minorGridAlpha,v=void 0)}else if(i/y!=Math.round(i/y)&&!f)continue;p=this.getCoordinate(i-d),f=0,"start"==this.gridPosition&&(p-=this.cellWidth/2,f=this.cellWidth/2),r=!0,s=f,"start"==this.tickPosition&&(s=0,r=!1,f=0),(i==h&&!m||i==this.end&&!g)&&(v=void 0),Math.round(C/u)!=C/u&&(v=void 0),C++,t=this.cellWidth,w&&(t=NaN,this.ignoreAxisWidth||!o.autoMargins)&&(t="right"==this.position?o.marginRight-this.titleWidth:o.marginLeft-this.titleWidth,t-=this.tickLength+10),this.labelFunction&&n&&(v=this.labelFunction(v,n,this)),v=e.fixBrakes(v),b=!1,this.boldLabels&&(b=!0),i>this.end&&"start"==this.tickPosition&&(v=" "),this.rotate&&this.inside&&(f-=2),isNaN(n.widthValue)||(n.percentWidthValue=n.widthValue/x*100,t=this.rotate?this.height*n.widthValue/x:this.width*n.widthValue/x,p=S,S+=t,s=f=t/2),r=new this.axisItemRenderer(this,p,v,r,t,f,void 0,b,s,!1,n.labelColor,n.className),r.serialDataItem=n,this.pushAxisItem(r),this.gridAlpha=a}for(i=m=0;i<this.data.length;i++)(l=this.data[i])&&(this.parseDates&&!this.equalSpacing?(g=l.time,h=this.cellWidth,"MM"==this.minPeriod&&(h=864e5*e.daysInMonth(new Date(g))*this.stepWidth,l.cellWidth=h),g=Math.round((g-this.startTime)*this.stepWidth+h/2)):g=this.getCoordinate(i-d),l.x[this.id]=g);if(this.widthField)for(i=this.start;i<=this.end;i++)l=this.data[i],h=l.widthValue,l.percentWidthValue=h/x*100,this.rotate?(g=this.height*h/x/2+m,m=this.height*h/x+m):(g=this.width*h/x/2+m,m=this.width*h/x+m),l.x[this.id]=g;for(x=this.guides.length,i=0;i<x;i++)m=this.guides[i],y=y=y=c=h=NaN,g=m.above,m.toCategory&&(y=o.getCategoryIndexByValue(m.toCategory),isNaN(y)||(h=this.getCoordinate(y-d),m.expand&&(h+=this.cellWidth/2),r=new this.axisItemRenderer(this,h,"",!0,NaN,NaN,m),this.pushAxisItem(r,g))),m.category&&(y=o.getCategoryIndexByValue(m.category),isNaN(y)||(c=this.getCoordinate(y-d),m.expand&&(c-=this.cellWidth/2),y=(h-c)/2,r=new this.axisItemRenderer(this,c,m.label,!0,NaN,y,m),this.pushAxisItem(r,g))),C=o.dataDateFormat,m.toDate&&(!C||m.toDate instanceof Date||(m.toDate=m.toDate.toString()+" |"),m.toDate=e.getDate(m.toDate,C),this.equalSpacing?(y=o.getClosestIndex(this.data,"time",m.toDate.getTime(),!1,0,this.data.length-1),isNaN(y)||(h=this.getCoordinate(y-d))):h=(m.toDate.getTime()-this.startTime)*this.stepWidth,r=new this.axisItemRenderer(this,h,"",!0,NaN,NaN,m),this.pushAxisItem(r,g)),m.date&&(!C||m.date instanceof Date||(m.date=m.date.toString()+" |"),m.date=e.getDate(m.date,C),this.equalSpacing?(y=o.getClosestIndex(this.data,"time",m.date.getTime(),!1,0,this.data.length-1),isNaN(y)||(c=this.getCoordinate(y-d))):c=(m.date.getTime()-this.startTime)*this.stepWidth,y=(h-c)/2,r=!0,m.toDate&&(r=!1),r="H"==this.orientation?new this.axisItemRenderer(this,c,m.label,r,2*y,NaN,m):new this.axisItemRenderer(this,c,m.label,!1,NaN,y,m),this.pushAxisItem(r,g)),r&&(y=r.label)&&this.addEventListeners(y,m),(0<h||0<c)&&(y=!1,this.rotate?(h<this.height||c<this.height)&&(y=!0):(h<this.width||c<this.width)&&(y=!0),y&&(h=new this.guideFillRenderer(this,c,h,m),c=h.graphics(),this.pushAxisItem(h,g),m.graphics=c,c.index=i,this.addEventListeners(c,m)));(o=o.chartCursor)&&(w?o.fixHeight(this.cellWidth):(o.fixWidth(this.cellWidth),o.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=O}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(w=this.axisLine.set)&&w.toFront();var O=this.getBBox().height;2<O-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(t){var i,o=this.data,r=this.chart,n=r.rotate,a=this.stepWidth;if(this.parseDates&&!this.equalSpacing)t=this.startTime+Math.round(t/a)-this.minDuration()/2,i=r.getClosestIndex(o,"time",t,!1,this.start,this.end+1);else if(this.widthField)for(r=1/0,a=this.start;a<=this.end;a++){var s=this.data[a];s&&(s=Math.abs(s.x[this.id]-t))<r&&(r=s,i=a)}else this.startOnAxis||(t-=a/2),i=this.start+Math.round(t/a);i=e.fitToBounds(i,0,o.length-1);var l;return o[i]&&(l=o[i].x[this.id]),n?l>this.height+1&&i--:l>this.width+1&&i--,0>l&&i++,i=e.fitToBounds(i,0,o.length-1)},dateToCoordinate:function(e){return this.parseDates&&!this.equalSpacing?(e.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(e=this.chart.getClosestIndex(this.data,"time",e.getTime(),!1,0,this.data.length-1),this.getCoordinate(e-this.start)):NaN},categoryToCoordinate:function(e){return this.chart?this.parseDates?this.dateToCoordinate(new Date(e)):(e=this.chart.getCategoryIndexByValue(e),isNaN(e)?void 0:this.getCoordinate(e-this.start)):NaN},coordinateToDate:function(e){return this.equalSpacing?(e=this.xToIndex(e),new Date(this.data[e].time)):new Date(this.startTime+e/this.stepWidth)},coordinateToValue:function(e){if(e=this.xToIndex(e),e=this.data[e])return this.parseDates?e.time:e.category},getCoordinate:function(e){return e*=this.stepWidth,this.startOnAxis||(e+=this.stepWidth/2),Math.round(e)},formatValue:function(t,i){return i||(i=this.currentDateFormat),this.parseDates&&(t=e.formatDate(new Date(t),i,this.chart)),t},showBalloonAt:function(e,t){return void 0===t&&(t=this.parseDates?this.dateToCoordinate(new Date(e)):this.categoryToCoordinate(e)),this.adjustBalloonCoordinate(t)},formatBalloonText:function(t,i,o){var r="",n="",a=this.chart,s=this.data[i];if(s)if(this.parseDates)r=e.formatDate(s.category,o,a),i=e.changeDate(new Date(s.category),this.minPeriod,1),n=e.formatDate(i,o,a),-1!=r.indexOf("fff")&&(r=e.formatMilliseconds(r,s.category),n=e.formatMilliseconds(n,i));else{var l;this.data[i+1]&&(l=this.data[i+1]),r=e.fixNewLines(s.category),l&&(n=e.fixNewLines(l.category))}return t=t.replace(/\[\[category\]\]/g,String(r)),t=t.replace(/\[\[toCategory\]\]/g,String(n))},adjustBalloonCoordinate:function(e,t){var i=this.xToIndex(e),o=this.chart.chartCursor;if(this.stickBalloonToCategory){var r=this.data[i];r&&(e=r.x[this.id]),this.stickBalloonToStart&&(e-=this.cellWidth/2);var n=0;if(o){var a=o.limitToGraph;if(a){var s=a.valueAxis.id;a.hidden||(n=r.axes[s].graphs[a.id].y)}this.rotate?("left"==this.position?(a&&(n-=o.width),0<n&&(n=0)):0>n&&(n=0),o.fixHLine(e,n)):("top"==this.position?(a&&(n-=o.height),0<n&&(n=0)):0>n&&(n=0),o.fullWidth&&(e+=1),o.fixVLine(e,n))}}return o&&!t&&(o.setIndex(i),this.parseDates&&o.setTimestamp(this.coordinateToDate(e).getTime())),e}})}()},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"AnimationView",function(){return c});var a=i(0),s=i(10),l=i(29),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){return this._=this.app.getService("locale")._,this.projectId=null,{rows:[{localId:"multi-animations"},{localId:"tabbar-animations"}]}},t.prototype.updateView=function(e,t){"START"==e?(this.projectId=t.id,this.generateStage()):this.stopAll()},t.prototype.getAnimationOptions=function(){return this.animations.map(function(e){return{id:e.id,value:e.name}})},t.prototype.generateStage=function(){var e=this;this.stopAll(),Object(s.g)(this.projectId).then(function(t){e.animations=t.json(),e.animations=e.animations.filter(function(e){return e.mainFlag}).sort(function(e,t){return e.playOrder-t.playOrder});var i=void 0,o=void 0;if(e.animations.length>0){i={localId:"tabbar-animations",view:"tabbar",multiview:!0,options:e.getAnimationOptions()},o={localId:"multi-animations",view:"multiview",cells:e.animations.map(function(e){return{id:e.id,view:"template",type:"clean",template:function(){return'<div style="margin:1px;width:100%; height:100%;background:'+e.color+'">'+e.svgContent+"</div>"}}}),on:{onViewChange:function(t,i){e.stop(t),e.start(i)}}},e.animators=[];for(var r=0;r<e.animations.length;r++)e.animators.push(new l.Animator(e.animations[r]));e.animators[0].start()}else o={localId:"multi-animations"},i={localId:"tabbar-animations"},delete e.animators;webix.ui(i,e.$$("tabbar-animations")),webix.ui(o,e.$$("multi-animations"))})},t.prototype.ready=function(){},t.prototype.stop=function(e){if(this.animators)for(var t=0;t<this.animators.length;t++)this.animators[t].getId()==e&&this.animators[t].stop()},t.prototype.start=function(e){if(this.animators)for(var t=0;t<this.animators.length;t++)if(this.animators[t].getId()==e)try{this.animators[t].start()}catch(e){}},t.prototype.stopAll=function(){if(this.animators)for(var e=0;e<this.animators.length;e++)this.animators[e].stop()},t.prototype.destroy=function(){this.stopAll()},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"Animator",function(){return p});var r=i(10),n=i(12),a=i(99),s=i.n(a),l=i(101),c=i.n(l),h=i(1),u=i(6),d=i(19),p=(i.n(d),function(){function e(t){o(this,e),this.animation=t,this.isRunning=!1,this.scannerList=[],this.loopingElements=[]}return e.prototype.getId=function(){return this.animation.id},e.prototype.start=function(){var e=this;this.isRunning||Object(r.e)(this.animation.id).then(function(t){e.animElems=t.json(),e.animElems.forEach(function(e){return e.props=JSON.parse(e.props)}),e.timer=setInterval(function(){return e.refresh()},e.animation.duration),e.isRunning=!0})},e.prototype.stop=function(){this.isRunning&&(clearInterval(this.timer),this.stopVelocities(),this.stopScanner(),this.isRunning=!1)},e.prototype.refresh=function(){var e=this;Object(r.d)(this.animation.id).then(function(t){for(var i=t.json(),o=0;o<e.animElems.length;o++){var r=e.animElems[o],n=i[r.id];try{e.animate(r,n)}catch(e){}}})},e.prototype.animate=function(e,t){switch(e.type){case"Opacity":this.opac(e,t);break;case"Rotate":this.rotate(e,t);break;case"Get":this.text(e,t);break;case"Tooltip":this.tooltip(e,t);break;case"Bar":this.bar(e,t);break;case"Color":this.colorChange(e,t);break;case"Script":this.script(e);break;case"Set":this.set(e,t);break;case"QRCodeGeneration":this.qrCodeGen(e,t);break;case"QRCodeScan":this.qrCodeScan(e)}},e.prototype.opac=function(e,t){var i=this.el(e.domId);if(i){var o=1*(t-e.props.min)/(e.props.max-e.props.min);s()(i,{opacity:o},this.animation.duration)}},e.prototype.rotate=function(e,t){var i=0;if(t<=e.props.min||e.props.min==e.props.max)i=0;else if(t>=e.props.max)i=360;else{var o=e.props.max-e.props.min,r=t-e.props.min;i=360*r/o}var n=this.el(e.domId);if(n){var a=n.getBBox();if("g"==n.tagName){var l=n.transform.baseVal.getItem(0).matrix.e,c=n.transform.baseVal.getItem(0).matrix.f,h=l+a.x+a.width/2,u=c+a.y+a.height/2;n.style.transformOrigin=h+"px "+u+"px",e.rotate||(e.rotate=!0,s()(n,{rotateZ:0,translateX:l,translateY:c},{duration:10})),s()(n,{rotateZ:i,translateX:l,translateY:c},{duration:this.animation.duration})}else{var h=Number(a.x)+a.width/2,u=Number(a.y)+a.height/2;n.style.transformOrigin=h+"px "+u+"px",s()(n,{rotateZ:i},{duration:this.animation.duration})}}},e.prototype.text=function(e,t){var i=this.el(e.domId);i&&(i.innerHTML=t)},e.prototype.tooltip=function(e,t){if(!e.tooltip){e.tooltip=webix.ui({view:"tooltip",template:e.props.title?"<div>#title#</div><hr><div style='color:#color#; font-size:#size#'>#value#</div>":"<div style='color:#color#; font-size:#size#'>#value#</div>"});var i=this.el(e.domId);if(!i)return;webix.event(i,"mousemove",function(t){e.tooltip.show({title:e.props.title,color:e.props.color||"black",size:e.props.size||"10px",value:e.tooltip.msg},webix.html.pos(t))}),webix.event(i,"mouseout",function(){e.tooltip.hide()})}e.tooltip.msg=t},e.prototype.bar=function(e,t){var i=this.el(e.domId);if(i){e.bbox||(e.bbox=i.getBBox());var o=e.bbox;if("vertical"==e.props.orientation){var r=o.height*(t-e.props.min)/(e.props.max-e.props.min);s()(i,{height:r,y:o.y+o.height-r},this.animation.duration)}else if("horizontal"==e.props.orientation){var n=o.width*(t-e.props.min)/(e.props.max-e.props.min);s()(i,{width:n},this.animation.duration)}}},e.prototype.colorChange=function(e,t){var i=t.split("/"),o=this.el(e.domId);o&&(1==i.length?(e.color&&o&&(s()(o,"stop"),e.color=!1),o.style.fill=i[0]):(!this.oldColors||this.oldColors[0]==i[0]&&this.oldColors[1]==i[1]||(e.color=!1),!e.color&&o&&(s()(o,"stop"),e.color=!0,s()(o,{fill:i},{duration:1e3,loop:!0}),this.loopingElements.push(o),this.oldColors=i)))},e.prototype.script=function(e){if(!e.script){e.script={name:e.name,projectId:this.animation.projectId,code:e.expression,log:!0},this.hover(e);var t=this.el(e.domId);if(!t)return;webix.event(t,"click",function(t){Object(n.g)(e.script)})}},e.prototype.set=function(e,t){if(e.setValue=t,!e.setOptions){e.setOptions={ok:"Yes",cancel:"No",text:e.props.title},this.hover(e);var i=this.el(e.domId);if(!i)return;webix.event(i,"click",function(t){"AUTO"==e.props.setType?Object(u.s)(e.props.variableId,e.setValue).then(function(){Object(h.d)("Success")}):"YES/NO"==e.props.setType?Object(h.a)(e.setOptions,function(){return Object(u.s)(e.props.variableId,e.setValue).then(function(){Object(h.d)("Success")})}):"MANUAL"==e.props.setType&&Object(h.e)({hasNegative:!0,hasDecimal:!0,initialValue:e.setValue,callback:function(t){Object(u.s)(e.props.variableId,t).then(function(){Object(h.d)("Success")})}})})}},e.prototype.hover=function(e){var t=this.el(e.domId);t&&(e.prevStyle={stroke:t.style.stroke,fill:t.style.fill,opacity:t.style.opacity},webix.event(t,"mousemove",function(e){t.style.stroke="#3498db",t.style.fill="#27ae60",t.style.opacity=.5}),webix.event(t,"mouseout",function(){t.style.stroke=e.prevStyle.stroke,t.style.fill=e.prevStyle.fill,t.style.opacity=e.prevStyle.opacity}))},e.prototype.qrCodeGen=function(e,t){var i=this.el(e.domId);if(i&&"rect"==i.tagName){var o=i.parentNode;if(o){var r=c()(4,"L");r.addData(""+t),r.make();var n=document.createElement("g");n.innerHTML=r.createSvgTag();var a=n.getElementsByTagName("svg")[0],s=o.getElementsByTagName("svg");if(null!=i.getAttribute("x")){var l=i.getAttribute("x")-0+3,h=i.getAttribute("y")-0+3;a.setAttribute("x",l),a.setAttribute("y",h),a.setAttribute("height",i.getAttribute("height")-6),a.setAttribute("width",i.getAttribute("width")-6),o.setAttribute("x",i.getAttribute("x")),o.setAttribute("y",i.getAttribute("y")),o.setAttribute("height",i.getAttribute("height")),o.setAttribute("width",i.getAttribute("width"))}else{var l=o.getAttribute("x")-0+3,h=o.getAttribute("y")-0+3;a.setAttribute("x",l),a.setAttribute("y",h),a.setAttribute("height",o.getAttribute("height")-6),a.setAttribute("width",o.getAttribute("width")-6)}s.length>0&&o.removeChild(s[0]),o.appendChild(a)}}},e.prototype.qrCodeScan=function(e){if(!e.qrScan){e.qrScan=!0;var t=this.el(e.domId);if(t&&"rect"==t.tagName){var i=t.parentNode,o=document.createElement("canvas");o.id="qrCanvas"+e.id;var r=document.createElementNS("http://www.w3.org/2000/svg","foreignObject"),n=t.getAttribute("x"),a=t.getAttribute("y"),s=t.getAttribute("width"),l=t.getAttribute("height");r.setAttribute("x",n),r.setAttribute("y",a),r.setAttribute("height",s),r.setAttribute("width",l),r.appendChild(o),i.appendChild(r),this.qrCodeScanner(o.id,s,l)}}},e.prototype.qrCodeScanner=function(e,t,o){function r(e,t,i){c.beginPath(),c.moveTo(e.x,e.y),c.lineTo(t.x,t.y),c.lineWidth=4,c.strokeStyle=i,c.stroke()}var n=this,a=i(19),s=document.createElement("video"),l=document.getElementById(e),c=l.getContext("2d");navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(function(e){s.srcObject=e,s.setAttribute("playsinline",!0),s.play()}),this.stream=s;var h=function(){if(s.readyState===s.HAVE_ENOUGH_DATA){l.hidden=!1,l.height=o,l.width=t,c.drawImage(s,0,0,l.width,l.height);var e=c.getImageData(0,0,l.width,l.height),i=a(e.data,e.width,e.height);i?(r(i.location.topLeftCorner,i.location.topRightCorner,"#FF3B58"),r(i.location.topRightCorner,i.location.bottomRightCorner,"#FF3B58"),r(i.location.bottomRightCorner,i.location.bottomLeftCorner,"#FF3B58"),r(i.location.bottomLeftCorner,i.location.topLeftCorner,"#FF3B58"),n.scanData!=i.data&&(n.scanData=i.data,n.sendScannedData(n.scanData))):console.log("Show qr code")}},u=setInterval(function(){requestAnimationFrame(h)});this.scannerList.push(u)},e.prototype.sendScannedData=function(e){for(var t=JSON.parse(e),i=Object.keys(t),o=0;o<i.length;o++)Object(u.t)(this.animation.projectId,function(e,t){switch(t){case"m":return e+"_RAW_METHANE";case"e":return e+"_RAW_ETHANE";case"p":return e+"_RAW_PENTANE";case"ib":return e+"_RAW_IBUTANE";case"nb":return e+"_RAW_NBUTANE";case"ip":return e+"_RAW_IPENTANE";case"np":return e+"_RAW_NPENTANE";case"c6":return e+"_RAW_C6PLUS";case"n":return e+"_RAW_NITROGEN";case"co":return e+"_RAW_CO2";case"a":return e+"_ATMOSPHERIC_PRESSURE";case"s":return e+"_SUPERIOR";case"sg":return e+"_SG";default:return"NO"}}(this.animation.dsc,i[o]),t[i[o]])},e.prototype.stopScanner=function(){for(var e=0;e<this.scannerList.length;e++)clearInterval(this.scannerList[e]);this.scannerList=[],this.stream&&this.stream.srcObject&&this.stream.srcObject.getVideoTracks()[0].stop()},e.prototype.stopVelocities=function(){if(this.loopingElements){for(var e=0;e<this.loopingElements.length;e++)s()(this.loopingElements[e],"stop");this.loopingElements=[]}},e.prototype.el=function(e){return document.getElementById(e)},e.prototype.getAbsoluteBoundingRect=function(e){var t=document,i=window,o=t.body,r=void 0!==i.pageXOffset?i.pageXOffset:(t.documentElement||o.parentNode||o).scrollLeft,n=void 0!==i.pageYOffset?i.pageYOffset:(t.documentElement||o.parentNode||o).scrollTop,a=e.getBoundingClientRect();if(e!==o)for(var s=e.parentNode;s!==o;)r+=s.scrollLeft,n+=s.scrollTop,s=s.parentNode;return{bottom:a.bottom+n,height:a.height,left:a.left+r,right:a.right+r,top:a.top+n,width:a.width}},e}())},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ChartView",function(){return c});var a=i(0),s=i(18),l=(i.n(s),i(27)),c=(i.n(l),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._;return this.chartType="BAR",this.data=[],{cols:[{type:"clean",css:"gridBg",view:"template",id:"gmChartView",template:'<div id="gmChart" style="width:100%;height:100%"></div>'},{type:"space",borderless:!0,css:"headerBg",width:70,rows:[{borderless:!1,view:"icon",icon:"line-chart",height:"auto",css:"iconStyle",click:function(){"BAR"==e.chartType&&(e.chartType="LINE",e.load(e.data))}},{borderless:!1,view:"icon",icon:"bar-chart",height:"auto",css:"iconStyle",click:function(){"LINE"==e.chartType&&(e.chartType="BAR",e.load(e.data))}}]}]}},t.prototype.generateLineChart=function(){this.chart=window.AmCharts.makeChart("gmChart",{type:"serial",theme:"light",hideCredits:!0,marginTop:5,marginBottom:0,marginRight:10,marginLeft:10,dataProvider:this.data,synchronizeGrid:!0,startDuration:.2,balloon:{cornerRadius:2,adjustBorderColor:!1,horizontalPadding:3,verticalPadding:3,color:"#ffffff",borderThickness:1,borderColor:"#B3C2F2"},valueAxes:[{id:"CHK_UNCORRECTED_TOTAL",axisColor:"#757e85",gridColor:"#757e85",gridThickness:.2,labelsEnabled:!1},{id:"UNCORRECTED_TOTAL",axisColor:"#757e85",gridColor:"#757e85",gridThickness:.2,labelsEnabled:!1},{id:"CORRECTED_TOTAL",axisColor:"#757e85",gridColor:"#757e85",gridThickness:.2,labelsEnabled:!1},{id:"ENERGY_TOTAL",axisColor:"#757e85",gridColor:"#757e85",gridThickness:.2,labelsEnabled:!1},{id:"MASS_TOTAL",axisColor:"#757e85",gridColor:"#757e85",gridThickness:.2,labelsEnabled:!1}],graphs:[{valueAxis:"CHK_UNCORRECTED_TOTAL",lineColor:"#F84330",bullet:"round",bulletSize:3,type:"smoothedLine",fillAlphas:0,valueField:"CHK_UNCORRECTED_TOTAL"},{valueAxis:"UNCORRECTED_TOTAL",lineColor:"#EFC937",bullet:"round",bulletSize:3,type:"smoothedLine",fillAlphas:0,valueField:"UNCORRECTED_TOTAL"},{valueAxis:"CORRECTED_TOTAL",lineColor:"#478D9F",bullet:"round",bulletSize:3,type:"smoothedLine",fillAlphas:0,valueField:"CORRECTED_TOTAL"},{valueAxis:"ENERGY_TOTAL",lineColor:"#E461AC",bullet:"round",bulletSize:3,type:"smoothedLine",fillAlphas:0,valueField:"ENERGY_TOTAL"},{valueAxis:"MASS_TOTAL",lineColor:"#8ACC7B",bullet:"round",bulletSize:3,type:"smoothedLine",fillAlphas:0,valueField:"MASS_TOTAL"}],chartCursor:{cursorPosition:"mouse"},categoryField:"type",categoryAxis:{color:"#94948f",gridColor:"#757e85",gridThickness:.6,startOnAxis:!0,axisColor:"#757e85",minorGridEnabled:!0}})},t.prototype.generateBarChart=function(){this.chart=window.AmCharts.makeChart("gmChart",{type:"serial",theme:"light",hideCredits:!0,marginTop:5,marginBottom:0,marginRight:10,marginLeft:10,dataProvider:this.data,synchronizeGrid:!0,categoryField:"type",startDuration:1,balloon:{cornerRadius:2,adjustBorderColor:!1,horizontalPadding:3,verticalPadding:3,color:"#ffffff",borderThickness:1,borderColor:"#B3C2F2"},categoryAxis:{gridPosition:"start",position:"left",color:"#94948f",gridColor:"#757e85",axisColor:"#757e85",minorGridEnabled:!0},valueAxes:[{id:"CHK_UNCORRECTED_TOTAL",axisColor:"#757e85",gridColor:"#757e85",labelsEnabled:!1},{id:"UNCORRECTED_TOTAL",axisColor:"#757e85",gridColor:"#757e85",labelsEnabled:!1},{id:"CORRECTED_TOTAL",axisColor:"#757e85",gridColor:"#757e85",labelsEnabled:!1},{id:"ENERGY_TOTAL",axisColor:"#757e85",gridColor:"#757e85",labelsEnabled:!1},{id:"MASS_TOTAL",axisColor:"#757e85",gridColor:"#757e85",labelsEnabled:!1}],graphs:[{lineColor:"#F84330",fillAlphas:.8,id:"g1",lineAlpha:.2,type:"column",valueField:"CHK_UNCORRECTED_TOTAL"},{lineColor:"#EFC937",fillAlphas:.8,id:"g2",lineAlpha:.2,type:"column",valueField:"UNCORRECTED_TOTAL"},{lineColor:"#478D9F",fillAlphas:.8,id:"g3",lineAlpha:.2,type:"column",valueField:"CORRECTED_TOTAL"},{lineColor:"#E461AC",fillAlphas:.8,id:"g4",lineAlpha:.2,type:"column",valueField:"ENERGY_TOTAL"},{lineColor:"#8ACC7B",fillAlphas:.8,id:"g5",lineAlpha:.2,type:"column",valueField:"MASS_TOTAL"}]})},t.prototype.load=function(){"LINE"==this.chartType?this.generateLineChart():"BAR"==this.chartType&&this.generateBarChart()},t.prototype.clearChart=function(){if(this.data){for(var e=0;e<this.data.length;e++)for(var t in this.data[e])"type"!=t&&(this.data[e][t]=0);this.update(this.data)}},t.prototype.update=function(e){e.length>0&&(this.data=e,this.chart?(this.chart.dataProvider=e,this.chart.validateData()):this.load())},t.prototype.ready=function(){},t}(a.b))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"METERING_DATA",function(){return o}),i.d(t,"ENERGY_DATA",function(){return r}),i.d(t,"INUSE_LEFT_DATA",function(){return n}),i.d(t,"INUSE_RIGHT_DATA",function(){return a}),i.d(t,"PREVIOUS_DATA",function(){return s}),i.d(t,"TOTALISOR_DATA",function(){return l}),i.d(t,"DATE_DATA",function(){return c});var o=[{order:1,id:"LINE_PRESSURE",streamName:"PRESSURE",value:62.52,unit:"bar"},{order:2,id:"LINE_TEMPERATURE",streamName:"TEMPERATURE",value:21.2,unit:"°C"},{order:3,id:"UNCORRECTED_FLOW_RATE",streamName:"UNCORRECTED FR",value:1569,unit:"m³/h"},{order:4,id:"CORRECTED_FLOW_RATE",streamName:"CORRECTED FR",value:98.847,unit:"sm³/h"},{order:5,id:"MASS_FLOW_RATE",streamName:"MASS FR",value:978.847,unit:"kg/h"},{order:6,id:"ENERGY_FLOW_RATE",streamName:"ENERGY FR",value:.1783,unit:"mcal/h"},{order:7,id:"ATMOSPHERIC_PRESSURE",streamName:"ATM PRESSURE",value:1373,unit:"bar"}],r=[{order:1,id:"SUPERIOR",streamName:"SUPERIOR",value:"9213,2343",unit:"kcal/sm³"},{order:2,id:"INFERIOR",streamName:"INFERIOR",value:"8421,2388",unit:"kcal/sm³"},{order:3,id:"BASE_DENSITY",streamName:"BASE D",value:"0,8754",unit:"kg/sm³"},{order:4,id:"LINE_DENSITY",streamName:"LINE D",value:"51,3343",unit:"kg/sm³"},{order:5,id:"CONVERTION_FACTOR",streamName:"CF",value:"65,4475",unit:""},{order:6,id:"SG",streamName:"SG",value:"0,6835",unit:""}],n=[{order:1,id:"NORMALIZED_METHANE",streamName:"IN-USE METHANE",value:"95,5403",unit:"% mole"},{order:2,id:"NORMALIZED_ETHANE",streamName:"IN-USE ETHANE",value:"97,5402",unit:"% mole"},{order:3,id:"NORMALIZED_PROPANE",streamName:"IN-USE PROPANE",value:"95,5403",unit:"% mole"},{order:4,id:"NORMALIZED_IBUTANE",streamName:"IN-USE I-BUTANE",value:"97,5402",unit:"% mole"},{order:5,id:"NORMALIZED_NBUTANE",streamName:"IN-USE N-BUTANE",value:"95,5403",unit:"% mole"},{order:6,id:"NORMALIZED_NEOPENTANE",streamName:"IN-USE NEO PENTANE",value:"97,5402",unit:"% mole"}],a=[{order:7,id:"NORMALIZED_IPENTANE",streamName:"IN-USE I-PENTHANE",value:"93,4536",unit:"% mole"},{order:8,id:"NORMALIZED_NPENTANE",streamName:"IN-USE N-PENTHANE",value:"93,4532",unit:"% mole"},{order:9,id:"NORMALIZED_C6PLUS",streamName:"IN-USE C6+",value:"93,4536",unit:"% mole"},{order:10,id:"NORMALIZED_NITROGEN",streamName:"IN-USE NITROGEN",value:"93,4532",unit:"% mole"},{order:11,id:"NORMALIZED_CO2",streamName:"IN-USE CO2",value:"93,4536",unit:"% mole"},{order:12,id:"INUSE_GC",streamName:"IN-USE GC",value:0,unit:"% mole"}],s=[{order:1,id:"UNCORRECTED_TOTAL",streamName:"UNCORRECTED TOTAL",hvalue:"-",dvalue:"-",unit:"m³"},{order:2,id:"CORRECTED_TOTAL",streamName:"CORRECTED TOTAL",hvalue:"-",dvalue:"-",unit:"sm³"},{order:3,id:"ENERGY_TOTAL",streamName:"ENERGY TOTAL",hvalue:"-",dvalue:"-",unit:"mcal"},{order:4,id:"SSH_UNCORRECTED_TOTAL",streamName:"UNCORRECTED INDEX",hvalue:"-",dvalue:"-",unit:"m³"},{order:5,id:"SSH_CORRECTED_TOTAL",streamName:"CORRECTED INDEX",hvalue:"-",dvalue:"-",unit:"sm³"},{order:6,id:"SSH_ENERGY_TOTAL",streamName:"ENERGY INDEX",hvalue:"-",dvalue:"-",unit:"mcal"},{order:7,id:"LINE_PRESSURE",streamName:"LINE PRESSURE",hvalue:"-",dvalue:"-",unit:"bar"},{order:8,id:"LINE_TEMPERATURE",streamName:"LINE TEMPERATURE",hvalue:"-",dvalue:"-",unit:"°C"},{order:9,id:"CONVERTION_FACTOR",streamName:"CONVERTION FACTOR",hvalue:"-",dvalue:"-",unit:""},{order:10,id:"SG",streamName:"S.G.",hvalue:"-",dvalue:"-",unit:""},{order:11,id:"BASE_DENSITY",streamName:"BASE DENSITY",hvalue:"-",dvalue:"-",unit:"kg/sm³"},{order:12,id:"LINE_DENSITY",streamName:"LINE DENSITY",hvalue:"-",dvalue:"-",unit:"kg/sm³"},{order:13,id:"SUPERIOR",streamName:"SUPERIOR",hvalue:"-",dvalue:"-",unit:"kcal/sm³"},{order:14,id:"INFERIOR",streamName:"INFERIOR",hvalue:"-",dvalue:"-",unit:"kcal/sm³"},{order:15,id:"METHANE",streamName:"METHANE",hvalue:"-",dvalue:"-",unit:"% mole"},{order:16,id:"ETHANE",streamName:"ETHANE",hvalue:"-",dvalue:"-",unit:"% mole"},{order:17,id:"PROPANE",streamName:"PROPANE",hvalue:"-",dvalue:"-",unit:"% mole"},{order:18,id:"IBUTANE",streamName:"IBUTANE",hvalue:"-",dvalue:"-",unit:"% mole"},{order:19,id:"NBUTANE",streamName:"NBUTANE",hvalue:"-",dvalue:"-",unit:"% mole"},{order:20,id:"IPENTANE",streamName:"IPENTANE",hvalue:"-",dvalue:"-",unit:"% mole"},{order:21,id:"NPENTANE",streamName:"NPENTANE",hvalue:"-",dvalue:"-",unit:"% mole"},{order:22,id:"C6PLUS",streamName:"C6PLUS",hvalue:"-",dvalue:"-",unit:"% mole"},{order:23,id:"NITROGEN",streamName:"NITROGEN",hvalue:"-",dvalue:"-",unit:"% mole"},{order:24,id:"CO2",streamName:"CO2",hvalue:"-",dvalue:"-",unit:"% mole"}],l=[{order:1,id:"CHK_UNCORRECTED_TOTAL",streamName:"LF/HF2",unit:"m³",value:"0",CH:"0",CD:"0",PH:"0",PD:"0",$cellCss:{streamName:{color:"#F84330"}}},{order:2,id:"UNCORRECTED_TOTAL",streamName:"UNCORR.",unit:"m³",value:"0",CH:"0",CD:"0",PH:"0",PD:"0",$cellCss:{streamName:{color:"#EFC937"}}},{order:3,id:"CORRECTED_TOTAL",streamName:"CORR.",unit:"sm³",value:"0",CH:"0",CD:"0",PH:"0",PD:"0",$cellCss:{streamName:{color:"#478D9F"}}},{order:4,id:"ENERGY_TOTAL",streamName:"ENERGY",unit:"kg",value:"0",CH:"0",CD:"0",PH:"0",PD:"0",$cellCss:{streamName:{color:"#E461AC"}}},{order:5,id:"MASS_TOTAL",streamName:"MASS",unit:"mcal",value:"0",CH:"0",CD:"0",PH:"0",PD:"0",$cellCss:{streamName:{color:"#8ACC7B"}}}],c=["CDT_DAY","CDT_MONTH","CDT_YEAR","CDT_HOUR","CDT_MINUTE","CDT_SECOND"]},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"GasMeteringView",function(){return c});var a=i(0),s=i(33),l=i(11),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){return this._=this.app.getService("locale")._,this.stream=null,{id:"subView2",rows:[{id:"gasDetail",$subview:s.ModelView,name:"ModelView"}]}},t.prototype.updateView=function(e,t){"START"==e?(this.project=t,this.generateStage(),this.getAlarmsAndStatuses(),this.runPeriodically(),this.getSubView("ModelView").runPeriodically()):(this.stopPeriodically(),this.getSubView("ModelView").stopPeriodically(),this.clearAll())},t.prototype.getProperties=function(){return JSON.parse(this.project.properties)},t.prototype.getStreams=function(){var e=this.getProperties(),t=[];if(e){var i=e.STREAMS;i&&(t=JSON.parse(i))}return t},t.prototype.getAlarmsAndStatuses=function(){var e=this;this.project&&Object(l.i)(this.project.id).then(function(t){e.alarms=t.json(),e.alarms.length>0&&Object(l.g)(e.alarms).then(function(t){e.alarmStatuses=t.json(),e.updateAlarmValues()})})},t.prototype.generateStage=function(){var e=this;this.clearAll(),this.streams=this.getStreams();var t=void 0;$$("tabbar-animations")&&$$("subView2").removeView("tabbar-animations"),this.stream=null,this.streams.length>0&&(this.stream=this.streams[0].id,t={borderless:!0,height:40,id:"tabbar-animations",view:"tabbar",options:this.streams.map(function(e){return{id:e.id,value:'<p style="margin:0;font-size:14px; line-height:12px;">'+e.name+'</p><span style="font-size:10px;">'+e.id+"</span>"}}),on:{onChange:function(t){e.stream=t,e.clearAll(),e.refreshValues()}}},$$("subView2").addView(t))},t.prototype.refreshValues=function(){this.project&&this.stream&&(this.getSubView("ModelView").refreshValues(this.project,this.stream),this.updateAlarmValues())},t.prototype.updateAlarmValues=function(){var e=this;this.alarms&&this.alarms.length>0&&Object(l.k)(this.project.id).then(function(t){for(var i=t.json(),o=0;o<i.length;o++)!function(t){var o=e.alarms.find(function(e){return e.id==i[t].alarmId});i[t].name=o.name,i[t].dsc=o.dsc,i[t].onDate=new Date(i[t].onDate)}(o);var r=i.filter(function(t){return"Active"==e.alarmStatuses[t.alarmId]});e.getSubView("ModelView").updateAlarmValues(r)})},t.prototype.clearAll=function(){this.getSubView("ModelView").clearAll()},t.prototype.runPeriodically=function(){var e=this,t=this.getParentView().getSettings();this.stopPeriodically(),this.refreshValues(),this.timer=setInterval(function(){try{e.refreshValues()}catch(e){}},t.gmPeriod)},t.prototype.stopPeriodically=function(){try{this.timer&&clearInterval(this.timer)}catch(e){}},t.prototype.ready=function(){},t.prototype.destroy=function(){this.stopPeriodically()},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ModelView",function(){return f});var a=i(102),s=(i.n(a),i(0)),l=i(34),c=i(35),h=i(36),u=i(30),d=i(31),p=i(6),f=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;return this._=this.app.getService("locale")._,{type:"clean",css:"bg",rows:[{height:180,type:"space",css:"bg",padding:5,cols:[{rows:[{view:"label",css:"labelView graphLabel",label:this._("GRAPHICAL VIEW"),height:30},{type:"clean",view:"template",template:'<object type="image/svg+xml" id="alphasvg" data="../../../images/graphView.svg" style="width:100%;height:100%;"></object>',css:{"background-color":"#3e4d58"}}]},{css:"bg",rows:[{css:"flowLabel",id:"flowBackground",height:30,cols:[{view:"label",label:this._("FLOW RATE"),css:"labelView",value:"FLOW RATE",id:"flowName"},{view:"icon",css:"iconStyle",icon:"caret-left",click:function(){e.selectAdjacent("PREV")}},{height:30,view:"label",label:"0/0",value:"0/0",localId:"flowCounter",width:50,align:"center",css:"textStyle"},{view:"icon",css:"iconStyle",icon:"caret-right",click:function(){e.selectAdjacent("NEXT")}}]},{margin:3,rows:[{css:"gridBg",cols:[{view:"label",id:"flowValue",label:"-",value:"-",css:"flowRate",align:"center",height:"auto"},{view:"label",id:"flowUnit",label:"-",value:"-",css:"unit",align:"center",width:110,height:"auto"}]},{css:"calendar",cols:[{},{view:"icon",icon:"calendar"},{view:"label",label:"01/01/2018",value:"01/01/2018",align:"center",css:"textStyle",width:100,localId:"currDay"},{view:"label",label:"|",align:"center",css:"textStyle",width:50},{view:"icon",icon:"clock-o"},{view:"label",label:"00:00:00",value:"00:00:00",css:"textStyle",align:"center",width:100,localId:"currTime"},{}]}]}]}]},{type:"space",css:"bg",padding:5,cols:[{type:"space",css:"bg",padding:0,rows:[{height:185,type:"space",padding:0,css:"bg",cols:[{borderless:!0,rows:[{view:"label",css:"labelView meterinLabel",label:this._("METERING"),height:30},{type:"clean",css:"gridBg",borderless:!0,cols:[{type:"space",css:"gridBg",padding:4,rows:[{id:"MeteringView",$subview:l.GridView,name:"MeteringView"}]},{type:"space",css:"unitBg",padding:0,rows:[{$subview:h.UnitView,name:"MeteringUnit"}]}]}]},{rows:[{view:"label",css:"labelView energyLabel",label:this._("ENERGY & OTHER VALUES"),height:30},{type:"clean",css:"gridBg",borderless:!0,cols:[{type:"space",css:"gridBg",padding:4,rows:[{id:"EnergyView",$subview:l.GridView,name:"EnergyView"}]},{type:"space",css:"unitBg",padding:0,rows:[{$subview:h.UnitView,name:"EnergyUnit"}]}]}]}]},{height:165,rows:[{view:"label",css:"labelView inuseLabel",label:this._("IN-USE GAS COMPONENTS ")+"<span style='font-size:14px;font-weight:300;'> (% mole)</span>",height:30},{type:"clean",css:"bg",borderless:!0,cols:[{type:"space",css:"gridBg",padding:4,rows:[{id:"InuseLeftView",$subview:l.GridView,name:"InuseLeftView"}]},{type:"space",css:"gridBg",padding:4,rows:[{id:"InuseRightView",$subview:l.GridView,name:"InuseRightView"}]}]}]},{type:"space",css:"bg",padding:0,rows:[{borderless:!0,rows:[{view:"label",css:"labelView totalisorLabel",label:this._("TOTALISORS"),height:30},{$subview:u.ChartView,name:"ChartView"}]},{type:"clean",borderless:!0,height:130,css:"headerBg",rows:[{type:"space",css:"headerBg",padding:0,rows:[{borderless:!0,view:"datatable",scroll:!1,css:"tableBg",height:20,columns:[{id:"streamName",width:110,header:"NAME"},{id:"C",fillspace:!0,header:{text:"CURRENT",height:20,css:{"text-align":"right"}}},{id:"CH",fillspace:!0,header:{text:"C.HOUR",css:{"text-align":"right"}}},{id:"PH",fillspace:!0,header:{text:"P.HOUR",css:{"text-align":"right"}}},{id:"CD",fillspace:!0,header:{text:"C.DAY",css:{"text-align":"right"}}},{id:"PD",fillspace:!0,header:{text:"P.DAY",css:{"text-align":"right"}}},{width:70}]}]},{css:"headerBg",cols:[{type:"space",css:"gridBg",padding:4,borderless:!0,rows:[{view:"datatable",localId:"TotalisorGrid",header:!1,scroll:!1,rowHeight:20,select:!0,css:"tableBg",borderless:!0,columns:[{id:"id",hidden:!0},{id:"streamName",width:110,header:"NAME"},{id:"value",fillspace:!0,header:{text:"CURRENT",height:20},css:{"text-align":"right",color:"#B3C2F2"}},{id:"CH",fillspace:!0,header:"CUR.HOUR",css:{"text-align":"right",color:"#B3C2F2"}},{id:"PH",fillspace:!0,header:"PRV.HOUR",css:{"text-align":"right",color:"#B3C2F2"}},{id:"CD",fillspace:!0,header:"CUR.DAY",css:{"text-align":"right",color:"#B3C2F2"}},{id:"PD",fillspace:!0,header:"PRV.DAY",css:{"text-align":"right",color:"#B3C2F2"}},{id:"unit",hidden:!0}],on:{onBeforeSelect:function(){e.clearSelections()},onAfterSelect:function(t){var i=e.$$("TotalisorGrid").serialize(),o=e.$$("TotalisorGrid").getItem(t),r=o;r.grid="TOTALISOR",r.gridName="TOTALISORS",r.total=i.length,r.color="#52b4fa",e.updateFlowObject(r)}}}]},{type:"space",css:"unitBg",padding:0,rows:[{$subview:h.UnitView,name:"TotalisorUnit"}]}]}]}]}]},{type:"space",css:"bg",padding:0,rows:[{type:"space",padding:0,css:"bg",cols:[{borderless:!0,rows:[{view:"label",css:"labelView pLabel",label:this._("PREVIOUS HOURLY & DAILY VALUES"),height:30},{type:"clean",borderless:!0,css:"headerBg",cols:[{type:"clean",css:"headerBg",width:180,rows:[{type:"space",css:"headerBg",padding:0,rows:[{borderless:!0,view:"datatable",scroll:!1,css:"tableBg",height:20,columns:[{id:"streamName",fillspace:!0,header:{text:"NAME",height:20}}]}]},{type:"clean",css:"gridBg",borderless:!0,cols:[{type:"space",css:"gridBg",padding:4,rows:[{view:"datatable",localId:"PreviousGrid",header:!1,scroll:!1,rowHeight:20,select:!0,borderless:!0,css:"tableBg",columns:[{id:"id",hidden:!0},{id:"streamName",fillspace:!0}],data:d.PREVIOUS_DATA,on:{onBeforeSelect:function(){e.clearSelections()},onAfterSelect:function(t){var i=e.$$("PreviousGrid").serialize(),o=e.getSubView("Previous0View").getItem(t),r=o;r.grid="PREVIOUS",r.gridName="PREVIOUS HOURLY VALUES",r.total=i.length,r.value=r.hvalue,r.color="#713E5A",e.updateFlowObject(r)}}}]}]}]},{view:"carousel",id:"carousel",cols:[{$subview:c.PGridView,name:"Previous0View"},{$subview:c.PGridView,name:"Previous1View"},{$subview:c.PGridView,name:"Previous2View"},{$subview:c.PGridView,name:"Previous3View"},{$subview:c.PGridView,name:"Previous4View"},{$subview:c.PGridView,name:"Previous5View"},{$subview:c.PGridView,name:"Previous6View"},{$subview:c.PGridView,name:"Previous7View"},{$subview:c.PGridView,name:"Previous8View"},{$subview:c.PGridView,name:"Previous9View"}]},{type:"space",css:"unitBg",padding:0,rows:[{$subview:h.UnitView,name:"PreviousUnit"}]}]}]}]},{height:130,cols:[{width:120,rows:[{view:"label",css:"labelView alarmLabel",label:this._("ALARMS ON"),height:30},{type:"space",css:{background:"#d13b46"},paddingY:18,paddingX:28,borderless:!0,rows:[{view:"icon",icon:"bell-o",css:"alarmIcon",height:"auto"}]}]},{type:"clean",css:"headerBg",rows:[{type:"space",css:"headerBg",padding:0,borderless:!0,rows:[{borderless:!0,view:"datatable",scroll:!1,css:"tableBg",height:20,columns:[{id:"name",width:100,header:{text:"NAME",height:20}},{id:"dsc",fillspace:!0,header:"DSC"},{id:"onDate",width:150,header:{text:"ON DATE",css:{"text-align":"right"}},format:webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),css:{"text-align":"right",color:"#B3C2F2"}},{id:"status",hidden:!0},{id:"acknowledge",hidden:!0}]}]},{type:"space",css:"gridBg",padding:4,borderless:!0,rows:[{view:"datatable",localId:"AlarmGrid",header:!1,scroll:!1,rowHeight:20,select:!1,css:"tableBg",borderless:!0,columns:[{id:"name",width:100,header:{text:"NAME",height:20}},{id:"dsc",fillspace:!0,header:"DSC"},{id:"onDate",width:150,header:"ON DATE",format:webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),css:{"text-align":"right",color:"#B3C2F2"}},{id:"status",hidden:!0},{id:"acknowledge",hidden:!0}],data:[{name:"first alarm",dsc:"adawdawdawh audgawdg awidawdg",onDate:new Date}]}]}]}]}]}]}]}},t.prototype.selectAdjacent=function(e){this.flowObject&&("TOTALISOR"==this.flowObject.grid?this.selectGridAdjacent("TotalisorGrid",e):"PREVIOUS"==this.flowObject.grid?this.selectGridAdjacent("PreviousGrid",e):"METERING"==this.flowObject.grid?this.getSubView("MeteringView").selectAdjacent(e):"ENERGY"==this.flowObject.grid?this.getSubView("EnergyView").selectAdjacent(e):"INUSE"==this.flowObject.grid&&("NEXT"==e?6==this.flowObject.order?this.getSubView("InuseRightView").selectAdjacent(e):this.flowObject.order==this.flowObject.total?this.getSubView("InuseLeftView").selectAdjacent(e):this.flowObject.order<6?this.getSubView("InuseLeftView").selectAdjacent(e):this.getSubView("InuseRightView").selectAdjacent(e):1==this.flowObject.order?this.getSubView("InuseRightView").selectAdjacent(e):7==this.flowObject.order?this.getSubView("InuseLeftView").selectAdjacent(e):this.flowObject.order<7?this.getSubView("InuseLeftView").selectAdjacent(e):this.getSubView("InuseRightView").selectAdjacent(e)))},t.prototype.selectGridAdjacent=function(e,t){var i=this.$$(e).serialize(),o=this.$$(e).getSelectedItem();if(o){for(var r=0;r<i.length;r++)if(i[r].id==o.id)return void("NEXT"==t?i[r].order==i.length?this.$$(e).select(i[0].id):this.$$(e).select(i[r+1].id):0==r?this.$$(e).select(i[i.length-1].id):this.$$(e).select(i[r-1].id))}else this.$$(e).select(i[0].id)},t.prototype.updateFlowObject=function(e){this.flowObject=e,this.$$("flowValue").setValue(e.value),this.$$("flowUnit").setValue(e.unit),this.$$("flowName").setValue(e.gridName),this.$$("flowCounter").setValue(e.order+"/"+e.total),webix.html.removeCss(this.$$("flowBackground").getNode(),""),this.$$("flowBackground").define("css",{background:e.color})},t.prototype.clearSelections=function(){this.getSubView("MeteringView").clearSelection(),this.getSubView("EnergyView").clearSelection(),this.getSubView("InuseLeftView").clearSelection(),this.getSubView("InuseRightView").clearSelection(),this.$$("TotalisorGrid").clearSelection(),this.$$("PreviousGrid").clearSelection()},t.prototype.refreshValues=function(e,t){var i=this;e&&t&&(Object(p.k)(e.id).then(function(e){var o=e.json();i.updateValues(t,o)}),this.updatePreviousValues(e,t))},t.prototype.updateAlarmValues=function(e){this.$$("AlarmGrid").clearAll(),this.$$("AlarmGrid").parse(e.filter(function(e){return"On"==e.status}))},t.prototype.updateValues=function(e,t){this.updateFlowObjectValue(e,t),this.updateSVG(e,t),this.getSubView("MeteringView").updateValues(e,t),this.getSubView("EnergyView").updateValues(e,t),this.getSubView("InuseLeftView").updateValues(e,t),this.getSubView("InuseRightView").updateValues(e,t),this.updateTotalisorValues(e,t),this.updateDate(e,t)},t.prototype.updateFlowObjectValue=function(e,t){if(this.flowObject)if("PREVIOUS"==this.flowObject.grid)this.$$("PreviousGrid").select(this.flowObject.id);else{var i=e+"_"+this.flowObject.id;t[i]?this.flowObject.value=this.localeString(t[i].value,".",3,","):this.flowObject.value="-",this.updateFlowObject(this.flowObject)}},t.prototype.updateTotalisorValues=function(e,t){for(var i=this.$$("TotalisorGrid").serialize(),o=["CH","PH","CD","PD"],r=0;r<i.length;r++){var n=e+"_"+i[r].id;t[n]&&(i[r].value=t[n].value);for(var a=0;a<o.length;a++){var s=e+"_"+o[a]+"_"+i[r].id;t[s]&&(i[r][o[a]]=t[s].value)}this.$$("TotalisorGrid").updateItem(i[r].id,i[r])}for(var l=[],r=0;r<o.length;r++){for(var c={type:o[r]},a=0;a<i.length;a++)c[i[a].id]=i[a][o[r]];l.push(c)}this.getSubView("ChartView").update(l)},t.prototype.updatePreviousValues=function(e,t){if(1==this.checkProject(e,t))for(var i=0;i<10;i++)this.getSubView("Previous"+i+"View").refreshValues();else this.getPreviousValues()},t.prototype.getPreviousValues=function(){var e=this;if(this.stream&&this.project){var t=this.stream,i=d.PREVIOUS_DATA.map(function(e){return t+"_PH_"+e.id}),o=d.PREVIOUS_DATA.map(function(e){return t+"_PD_"+e.id}),r=i.concat(o);Object(p.j)(this.project.id,r,10).then(function(i){for(var o=i.json(),r=0;r<10;r++)o[r]&&e.getSubView("Previous"+r+"View").updateValues(t,o[r])})}},t.prototype.checkProject=function(e,t){if(e&&t){if(this.project&&this.stream)return this.project.id==e.id&&this.stream==t||(this.project=e,this.stream=t,!1);this.project=e,this.stream=t}return!1},t.prototype.updateDate=function(e,t){for(var i={},o=0;o<d.DATE_DATA.length;o++){var r=e+"_"+d.DATE_DATA[o];if(t[r])switch(d.DATE_DATA[o]){case"CDT_DAY":i.day=t[r].value;break;case"CDT_MONTH":i.month=t[r].value;break;case"CDT_YEAR":i.year=t[r].value;break;case"CDT_HOUR":i.hour=t[r].value;break;case"CDT_MINUTE":i.minute=t[r].value;break;case"CDT_SECOND":i.second=t[r].value}}i.day?(i.day=this.pad(i.day,2),i.month=this.pad(i.month,2),i.hour=this.pad(i.hour,2),i.minute=this.pad(i.minute,2),i.second=this.pad(i.second,2),i.year<100&&(i.year="20"+i.year),this.$$("currDay").setValue(i.day+"/"+i.month+"/"+i.year),this.$$("currTime").setValue(i.hour+":"+i.minute+":"+i.second)):(this.$$("currDay").setValue("01/01/2018"),this.$$("currTime").setValue("00:00:00"))},t.prototype.pad=function(e,t,i){return i=i||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(i)+e},t.prototype.updateSVG=function(e,t){for(var i=d.METERING_DATA,o=0;o<i.length;o++){var r=e+"_"+i[o].id;if(t[r]){var n="text_"+i[o].id,a=t[r].value+' <tspan style="fill:#CACFD6;font-size:14px;font-weight:normal">'+i[o].unit.toUpperCase()+"</tspan>";this.updateSVGContent(n,a)}}},t.prototype.clearSVG=function(){for(var e=d.METERING_DATA,t=0;t<e.length;t++){var i="text_"+e[t].id,o='- <tspan style="fill:#CACFD6;font-size:14px;font-weight:normal">'+e[t].unit.toUpperCase()+"</tspan>";this.updateSVGContent(i,o)}},t.prototype.updateSVGContent=function(e,t){var i=document.getElementById("alphasvg");if(i){var o=i.contentDocument,r=o.getElementById(e);r&&(r.innerHTML=t)}},t.prototype.clearAll=function(){this.getSubView("MeteringView").emptyValues(),this.getSubView("EnergyView").emptyValues(),this.getSubView("InuseLeftView").emptyValues(),this.getSubView("InuseRightView").emptyValues(),this.emptyTotalisorValues(),this.clearSVG(),this.updateAlarmValues([]);for(var e=0;e<10;e++)this.getSubView("Previous"+e+"View").clearValues()},t.prototype.emptyTotalisorValues=function(){for(var e=this.$$("TotalisorGrid").serialize(),t=0;t<e.length;t++)e[t].value="-",e[t].CH="-",e[t].PH="-",e[t].CD="-",e[t].PD="-",this.$$("TotalisorGrid").updateItem(e[t].id,e[t]);this.getSubView("ChartView").clearChart()},t.prototype.localeString=function(e,t,i,o){var r,n,a=(""+e).split("."),s="";for(t||(t=" "),i||0===i||(i=3),r=a[0].length;r>i;)n=r-i,s=t+a[0].slice(n,r)+s,r=n;return s=a[0].slice(0,r)+s,a[0]=s,a.join(o)},t.prototype.initializeData=function(){this.getSubView("MeteringView").initializeData(d.METERING_DATA),this.getSubView("MeteringUnit").initializeData(d.METERING_DATA),this.getSubView("EnergyView").initializeData(d.ENERGY_DATA),this.getSubView("EnergyUnit").initializeData(d.ENERGY_DATA),this.getSubView("InuseLeftView").initializeData(d.INUSE_LEFT_DATA),this.getSubView("InuseRightView").initializeData(d.INUSE_RIGHT_DATA),this.$$("TotalisorGrid").parse(d.TOTALISOR_DATA),this.getSubView("TotalisorUnit").initializeData(d.TOTALISOR_DATA);for(var e=0;e<10;e++)this.getSubView("Previous"+e+"View").initializeData(d.PREVIOUS_DATA);this.getSubView("PreviousUnit").initializeData([{}].concat(d.PREVIOUS_DATA))},t.prototype.runPeriodically=function(){var e=this;this.stopPeriodically(),this.timer=setInterval(function(){try{new Date;e.getPreviousValues()}catch(e){}},6e5)},t.prototype.stopPeriodically=function(){try{this.timer&&clearInterval(this.timer)}catch(e){}},t.prototype.ready=function(){this.initializeData()},t.prototype.destroy=function(){this.stopPeriodically()},t}(s.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"GridView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._;return this.data=[],{view:"datatable",header:!1,scroll:!1,rowHeight:20,select:!0,borderless:!0,localId:"gmDatatable",css:"tableBg",columns:[{id:"id",hidden:!0},{id:"streamName",fillspace:!0},{id:"value",adjust:!0,css:{"text-align":"right",color:"#B3C2F2"}}],on:{onBeforeSelect:function(){e.getParentView().clearSelections()},onAfterSelect:function(t){var i=e.$$("gmDatatable").serialize(),o=e.$$("gmDatatable").getItem(t),r=o;"LINE_PRESSURE"==i[0].id?(r.grid="METERING",r.gridName="METERING",r.total=i.length,r.color="#f5c348"):"SUPERIOR"==i[0].id?(r.grid="ENERGY",r.gridName="ENERGY & OTHER VALUES",r.total=i.length,r.color="#49a944"):(r.grid="INUSE",r.gridName="IN-USE GAS COMPONENTS",r.total=2*i.length,r.color="#4eb0bd"),e.getParentView().updateFlowObject(r)}}}},t.prototype.selectAdjacent=function(e){var t=this.data,i=this.$$("gmDatatable").getSelectedItem();if(i){for(var o=0;o<t.length;o++)if(t[o].id==i.id)return void("NEXT"==e?t[o].order==t.length?this.$$("gmDatatable").select(t[0].id):this.$$("gmDatatable").select(t[o+1].id):0==o?this.$$("gmDatatable").select(t[t.length-1].id):this.$$("gmDatatable").select(t[o-1].id))}else"NEXT"==e?this.$$("gmDatatable").select(t[0].id):this.$$("gmDatatable").select(t[t.length-1].id)},t.prototype.clearSelection=function(){this.$$("gmDatatable").clearSelection()},t.prototype.updateValues=function(e,t){for(var i=0;i<this.data.length;i++){var o=e+"_"+this.data[i].id;if(t[o]){if("INUSE_GC"==this.data[i].id){var r={0:"KEYPAD",1:"GCA",2:"GCB",3:"NONE"};this.data[i].value=r[t[o].value]}else this.data[i].value=this.getParentView().localeString(t[o].value,".",3,",");this.$$("gmDatatable").updateItem(this.data[i].id,this.data[i])}}},t.prototype.emptyValues=function(){for(var e=0;e<this.data.length;e++)this.data[e].value="-",this.$$("gmDatatable").updateItem(this.data[e].id,this.data[e])},t.prototype.initializeData=function(e){this.data=e,this.$$("gmDatatable").clearAll(),this.$$("gmDatatable").parse(this.data)},t.prototype.ready=function(){},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"PGridView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){this._=this.app.getService("locale")._;return this.hourFormat=webix.Date.dateToStr("%d/%m/%Y %H:%i"),this.dayFormat=webix.Date.dateToStr("%d/%m/%Y"),{type:"clean",css:"headerBg",rows:[{type:"space",css:"headerBg",padding:0,rows:[{localId:"pHeader",borderless:!0,view:"datatable",scroll:!1,css:"tableBg",height:20,columns:[{id:"hvalue",fillspace:!0,header:{text:"-",height:20,css:{"text-align":"right"}}},{id:"dvalue",fillspace:!0,header:{text:"-",css:{"text-align":"right"}}}]}]},{type:"clean",css:"gridBg",borderless:!0,cols:[{type:"space",css:"gridBg",padding:4,rows:[{view:"datatable",header:!1,scroll:!1,rowHeight:20,select:!1,borderless:!0,localId:"pgmDatatable",css:"tableBg",columns:[{id:"varName",hidden:!0},{id:"streamName",hidden:!0},{id:"hvalue",fillspace:!0,css:{"text-align":"right",color:"#B3C2F2"}},{id:"dvalue",fillspace:!0,css:{"text-align":"right",color:"#B3C2F2"}}],data:[]}]}]}]}},t.prototype.getItem=function(e){return this.$$("pgmDatatable").getItem(e)},t.prototype.clearValues=function(){this.prevData=JSON.stringify(this.data);for(var e=0;e<this.data.length;e++)this.data[e].hvalue="-",this.data[e].dvalue="-",this.$$("pgmDatatable").updateItem(this.data[e].id,this.data[e]);this.updateHeader("-","-"),this.data=JSON.parse(this.prevData)},t.prototype.updateValues=function(e,t){for(var i=0;i<this.data.length;i++){var o=e+"_PH_"+this.data[i].id;t[o]&&(this.hour=t[o].dttm,this.data[i].hvalue=t[o].lastValue);var r=e+"_PD_"+this.data[i].id;t[r]&&(this.day=t[r].dttm,this.data[i].dvalue=t[r].lastValue),this.$$("pgmDatatable").updateItem(this.data[i].id,this.data[i])}var n="-",a="-";null!=this.hour&&"undefined"!=this.hour&&(n=this.hourFormat(new Date(this.hour))),null!=this.day&&"undefined"!=this.day&&(a=this.dayFormat(new Date(this.day))),this.updateHeader(n,a)},t.prototype.refreshValues=function(){for(var e=0;e<this.data.length;e++)this.$$("pgmDatatable").updateItem(this.data[e].id,this.data[e]);var t="-",i="-";null!=this.hour&&"undefined"!=this.hour&&(t=this.hourFormat(new Date(this.hour))),null!=this.day&&"undefined"!=this.day&&(i=this.dayFormat(new Date(this.day))),this.updateHeader(t,i)},t.prototype.updateHeader=function(e,t){var i={localId:"pHeader",borderless:!0,view:"datatable",scroll:!1,css:"tableBg",height:20,columns:[{id:"hvalue",fillspace:!0,header:{text:e,height:20,css:{"text-align":"right"}}},{id:"dvalue",fillspace:!0,header:{text:t,css:{"text-align":"right"}}}]};webix.ui(i,this.$$("pHeader"))},t.prototype.initializeData=function(e){this.data=JSON.parse(JSON.stringify(e)),this.$$("pgmDatatable").clearAll(),this.$$("pgmDatatable").parse(this.data)},t.prototype.ready=function(){},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"UnitView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){this._=this.app.getService("locale")._;return{view:"datatable",width:70,padding:0,header:!1,scroll:!1,rowHeight:20,borderless:!0,localId:"gmUnitTable",css:"tableUnit",columns:[{id:"unit",width:70}],data:[]}},t.prototype.emptyValues=function(){for(var e=this.$$("gmUnitTable").serialize(),t=0;t<e.length;t++)e[t].value="-";this.updateValues(e)},t.prototype.updateValues=function(e){this.$$("gmUnitTable").clearAll(),this.$$("gmUnitTable").parse(e)},t.prototype.initializeData=function(e){this.$$("gmUnitTable").clearAll(),this.$$("gmUnitTable").parse(e)},t.prototype.ready=function(){},t}(a.b)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"GAS_DATA",function(){return o}),i.d(t,"SLIDER_DATA",function(){return r}),i.d(t,"properties",function(){return n});var o=[{id:"METHANE",varName:"METHANE",streamName:"METHANE",unit:"% MOLE"},{id:"ETHANE",varName:"ETHANE",streamName:"ETHANE",unit:"% MOLE"},{id:"PROPANE",varName:"PROPANE",streamName:"PROPANE",unit:"% MOLE"},{id:"IBUTANE",varName:"IBUTANE",streamName:"I-BUTANE",unit:"% MOLE"},{id:"NBUTANE",varName:"NBUTANE",streamName:"N-BUTANE",unit:"% MOLE"},{id:"IPENTANE",varName:"IPENTANE",streamName:"I-PENTANE",unit:"% MOLE"},{id:"NPENTANE",varName:"NPENTANE",streamName:"N-PENTANE",unit:"% MOLE"},{id:"NEOPENTANE",varName:"NEOPENTANE",streamName:"NEO-PENTANE",unit:"% MOLE"},{id:"C6PLUS",varName:"C6PLUS",streamName:"C6PLUS",unit:"% MOLE"},{id:"HEXANE",varName:"HEXANE",streamName:"HEXANE",unit:"% MOLE"},{id:"HEPTANE",varName:"HEPTANE",streamName:"HEPTANE",unit:"% MOLE"},{id:"OCTANE",varName:"OCTANE",streamName:"OCTANE",unit:"% MOLE"},{id:"NITROGEN",varName:"NITROGEN",streamName:"NITROGEN",unit:"% MOLE"},{id:"CO2",varName:"CO2",streamName:"CO2",unit:"% MOLE"},{id:"SUPERIOR",varName:"SUPERIOR",streamName:"SUPERIOR",unit:"KCAL/SM3"},{id:"INFERIOR",varName:"INFERIOR",streamName:"INFERIOR",unit:"KCAL/SM3"},{id:"SG",varName:"SG",streamName:"S.G.",unit:"-"},{id:"WOBBE_INDEX",varName:"WOBBE_INDEX",streamName:"WOBBE INDEX",unit:"KCAL/SM3"},{id:"ATMOSPHERIC_PRESSURE",varName:"ATMOSPHERIC_PRESSURE",streamName:"ATMOSPHERIC PRESSURE",unit:"BAR"}],r=[{id:"METHANE",rawName:"RAW_METHANE",normName:"NORMALIZED_METHANE"},{id:"ETHANE",rawName:"RAW_ETHANE",normName:"NORMALIZED_ETHANE"},{id:"PROPANE",rawName:"RAW_PROPANE",normName:"NORMALIZED_PROPANE"},{id:"IBUTANE",rawName:"RAW_IBUTANE",normName:"NORMALIZED_IBUTANE"},{id:"NBUTANE",rawName:"RAW_NBUTANE",normName:"NORMALIZED_NBUTANE"},{id:"IPENTANE",rawName:"RAW_IPENTANE",normName:"NORMALIZED_IPENTANE"},{id:"NPENTANE",rawName:"RAW_NPENTANE",normName:"NORMALIZED_NPENTANE"},{id:"NEOPENTANE",rawName:"RAW_NEOPENTANE",normName:"NORMALIZED_NEOPENTANE"},{id:"C6PLUS",rawName:"RAW_C6PLUS",normName:"NORMALIZED_C6PLUS"},{id:"HEXANE",rawName:"RAW_HEXANE",normName:"NORMALIZED_HEXANE"},{id:"HEPTANE",rawName:"RAW_HEPTANE",normName:"NORMALIZED_HEPTANE"},{id:"OCTANE",rawName:"RAW_OCTANE",normName:"NORMALIZED_OCTANE"},{id:"NITROGEN",rawName:"RAW_NITROGEN",normName:"NORMALIZED_NITROGEN"},{id:"CO2",rawName:"RAW_CO2",normName:"NORMALIZED_CO2"},{id:"SUPERIOR",rawName:"-",normName:"SUPERIOR"},{id:"INFERIOR",rawName:"-",normName:"INFERIOR"},{id:"SG",rawName:"-",normName:"SG"},{id:"WOBBE_INDEX",rawName:"-",normName:"WOBBE_INDEX"},{id:"ATMOSPHERIC_PRESSURE",rawName:"-",normName:"ATMOSPHERIC_PRESSURE"}],n={GCA:"A01_GC_LIVE_",GCB:"A02_GC_LIVE_",KPAD:"STN00_KP_",INUSE:"STN00_INUSE_",MIN:"STN00_MIN_",MAX:"STN00_MAX_"}},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"GasPropertiesView",function(){return d});var a=i(102),s=(i.n(a),i(0)),l=i(39),c=i(40),h=i(37),u=i(6),d=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){return this._=this.app.getService("locale")._,{type:"clean",borderless:!1,padding:1,rows:[{borderless:!1,padding:0,rows:[{type:"clean",borderless:!0,css:"headerBg",rows:[{type:"space",css:"headerBg",padding:0,rows:[{borderless:!0,view:"datatable",scroll:!1,css:"tableBg",height:30,columns:[{id:"streamName",adjust:!0,header:{text:"NAME",height:30},width:200},{id:"streamGCA",fillspace:!0,header:{text:"G.C.A"}},{id:"streamGCB",fillspace:!0,header:{text:"G.C.B"}},{id:"streamKeypad",fillspace:!0,header:{text:"KEY-PAD"}},{id:"streamInuse",fillspace:!0,header:{text:"In-use"}},{id:"streamMin",fillspace:!0,header:{text:"Min"}},{id:"streamMax",fillspace:!0,header:{text:"Max"}},{id:"d",width:150,header:{text:"Downloaded",css:{"text-align":"right"}}},{id:"n",width:150,header:{text:"Normalized",css:{"text-align":"right"}}},{id:"unit",width:70,header:{text:"Unit",css:{"text-align":"center"}}}]}]},{css:"headerBg",cols:[{type:"space",css:"gridBg",padding:4,borderless:!0,rows:[{view:"datatable",localId:"varGrid",header:!1,scroll:!1,rowHeight:30,select:!0,borderless:!0,css:"tableBg",columns:[{id:"varName",hidden:!0},{id:"streamName",width:200},{id:"streamGCA",fillspace:!0},{id:"streamGCB",fillspace:!0},{id:"streamKeypad",fillspace:!0},{id:"streamInuse",fillspace:!0},{id:"streamMin",fillspace:!0},{id:"streamMax",fillspace:!0}],data:h.GAS_DATA}]},{width:300,type:"space",css:"gridBg",padding:4,borderless:!0,rows:[{view:"carousel",id:"carousel",css:"carouselBg",borderless:!0,cols:[]}]},{type:"space",css:"unitBg",padding:0,rows:[{$subview:c.UnitView,name:"PreviousUnit"}]}]}]}]}]}},t.prototype.updateView=function(e,t){"START"==e?(this.project=t,this.clearAll(),this.bindData(this.project.id),this.runPeriodically()):this.stopPeriodically()},t.prototype.clearAll=function(){this.$$("varGrid").clearAll(),webix.ui([{id:"temp",css:"tableBg"}],this.$$("carousel"))},t.prototype.refreshData=function(){var e=this;Object(u.n)(this.project.id).then(function(t){for(var i=t.json(),o=0;o<e.variables.length;o++)e.variables[o].value=e.getValue(e.variables[o],i);for(var o=0;o<h.GAS_DATA.length;o++){var r=e.getBindedObj(e.variables,h.GAS_DATA[o]);e.$$("varGrid").updateItem(r.id,r)}for(var o=0;o<e.devices.length;o++)for(var n=0;n<h.SLIDER_DATA.length;n++){var r=e.getBindedSliderObj(e.devices[o],h.SLIDER_DATA[n]);e.getSubView("PreviousView"+o).updateValues(r)}})},t.prototype.runPeriodically=function(){var e=this,t=this.getParentView().getSettings();this.stopPeriodically(),this.timer=setInterval(function(){try{e.refreshData()}catch(e){}},t.gpPeriod)},t.prototype.stopPeriodically=function(){this.timer&&clearInterval(this.timer)},t.prototype.ready=function(){this.getSubView("PreviousUnit").initializeData(h.GAS_DATA)},t.prototype.destroy=function(){this.stopPeriodically()},t.prototype.bindData=function(e){var t=this;Object(u.q)(e).then(function(i){t.variables=i.json(),Object(u.n)(e).then(function(e){for(var i=e.json(),o=0;o<t.variables.length;o++)t.variables[o].value=t.getValue(t.variables[o],i);for(var r=[],o=0;o<h.GAS_DATA.length;o++)r.push(t.getBindedObj(t.variables,h.GAS_DATA[o]));t.$$("varGrid").parse(r),t.bindDataSlider()})})},t.prototype.getBindedObj=function(e,t){var i={};i.id=t.id,i.streamName=t.streamName;for(var o=0;o<e.length;o++)switch(e[o].name){case h.properties.GCA+t.varName:i.streamGCA=e[o].value;break;case h.properties.GCB+t.varName:i.streamGCB=e[o].value;break;case h.properties.KPAD+t.varName:i.streamKeypad=e[o].value;break;case h.properties.INUSE+t.varName:i.streamInuse=e[o].value;break;case h.properties.MIN+t.varName:i.streamMin=e[o].value;break;case h.properties.MAX+t.varName:i.streamMax=e[o].value}return i},t.prototype.getValue=function(e,t){for(var i in t)if(e.id==i)return t[i].value},t.prototype.bindDataSlider=function(){if(this.variables){this.devices=this.getDeviceNames(),this.sliderData=[];for(var e=0;e<this.devices.length;e++){for(var t=[],i=0;i<h.SLIDER_DATA.length;i++)t.push(this.getBindedSliderObj(this.devices[e],h.SLIDER_DATA[i]));this.sliderData.push({table:t,name:this.devices[e]})}for(var e=0;e<this.devices.length;e++){var o="PreviousView"+e;this.$$("carousel").addView({id:o,rows:[{$subview:l.SliderView,name:o}]})}this.$$("carousel").removeView("temp")}},t.prototype.getDeviceNames=function(){for(var e=[],t=0;t<this.variables.length;t++)this.variables[t].name.includes("RAW_METHANE")&&e.push(this.variables[t].name.substring(0,this.variables[t].name.indexOf("RAW_METHANE")));return e},t.prototype.getSubViewData=function(){if(this.sliderData)return this.sliderData.shift()},t.prototype.getBindedSliderObj=function(e,t){var i={};i.id=t.id;for(var o=0;o<this.variables.length;o++)switch(this.variables[o].name){case e+t.rawName:i.rawValue=this.variables[o].value;break;case e+t.normName:i.normValue=this.variables[o].value}return i},t}(s.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"SliderView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){this._=this.app.getService("locale")._;return{type:"clean",css:"gridBg",borderless:!0,rows:[{type:"space",css:"gridBg",padding:0,borderless:!0,rows:[{view:"datatable",header:!1,scroll:!1,rowHeight:30,select:!0,borderless:!0,localId:"pgmDatatable",css:"tableBg",columns:[{id:"rawValue",fillspace:!0,css:{"text-align":"right",color:"#B3C2F2"}},{id:"normValue",fillspace:!0,css:{"text-align":"right",color:"#B3C2F2"}}],data:[]},{view:"label",label:"deviceName",align:"center",localId:"deviceId",css:"labelStyle"},{height:25}]}]}},t.prototype.emptyValues=function(){for(var e=this.$$("pgmDatatable").serialize(),t=0;t<e.length;t++)e[t].value="-";this.updateValues(e)},t.prototype.updateValues=function(e){this.$$("pgmDatatable").updateItem(e.id,e)},t.prototype.initializeData=function(e){this.$$("pgmDatatable").clearAll(),this.$$("pgmDatatable").parse(e)},t.prototype.updateDeviceName=function(e){this.$$("deviceId").setValue(e.substring(0,e.length-1))},t.prototype.ready=function(){var e=this.getParentView().getSubViewData();e&&(this.initializeData(e.table),this.updateDeviceName(e.name))},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"UnitView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){this._=this.app.getService("locale")._;return{view:"datatable",width:70,padding:0,header:!1,scroll:!1,rowHeight:30,borderless:!0,localId:"gmUnitTable",css:"tableUnit",columns:[{id:"unit",width:70}],data:[]}},t.prototype.emptyValues=function(){for(var e=this.$$("gmUnitTable").serialize(),t=0;t<e.length;t++)e[t].value="-";this.updateValues(e)},t.prototype.updateValues=function(e){this.$$("gmUnitTable").clearAll(),this.$$("gmUnitTable").parse(e)},t.prototype.initializeData=function(e){this.$$("gmUnitTable").clearAll(),this.$$("gmUnitTable").parse(e)},t.prototype.ready=function(){},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"NetworkView",function(){return l});var a=i(0),s=i(9),l=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){return this._=this.app.getService("locale")._,this.initGo(),{rows:[{localId:"gojs-network"}]}},t.prototype.updateView=function(e,t){"START"==e?(this.project=t,this.updateGo()):this.stopPeriodically()},t.prototype.updateGo=function(){var e=this;Object(s.d)(this.project.id).then(function(t){e.connections=t.json(),Object(s.b)(e.connections).then(function(t){for(var i=t.json(),o=0;o<e.connections.length;o++)e.connections[o].status=i[e.connections[o].id]||"Not Available";var r=e.generateModel(e.connections);e.chart={localId:"gojs-network",view:"goJsNetworkChart",model:r},webix.ui(e.chart,e.$$("gojs-network")),e.runPeriodically()})})},t.prototype.generateModel=function(e){var t=0,i=[{key:"Inscada",text:"INSCADA",category:"Generator",location:"300 0"},{key:"bar",category:"HBar",location:t+" 100",size:"600 4",fill:"green"}],o=[{from:"Inscada",to:"bar"}];1==e.length&&(t=300);for(var r=600/(e.length-1),n=0;n<e.length;n++){var a=e[n],s="con"+a.id,l="gray";"Connected"==a.status?l="green":"Disconnected"==a.status&&(l="red"),i.push({key:s,text:a.ip+":"+a.port,color:l,category:"Connection",location:t+" 200"}),o.push({from:s,to:"bar"});var c=e[n].devices;if(c.length>0){var h=600/e.length-50,u=t-h/2,d=u;1==c.length&&(d=t);var p=h/(c.length-1);i.push({key:"bar"+a.id,category:"HBar",location:u+" 300",size:h+" 4",fill:"blue"}),o.push({from:"bar"+a.id,to:s});for(var f=0;f<c.length;f++){var m=c[f].dsc||c[f].name;o.push({from:"dev"+c[f].id,to:"bar"+a.id,text:c[f].stationAddress}),i.push({key:"dev"+c[f].id,text:m,category:"Device",location:d+" 400"}),d+=p}}t+=r}return{data:i,links:o}},t.prototype.runPeriodically=function(){var e=this,t=this.getParentView().getSettings();this.stopPeriodically(),this.timer=setInterval(function(){try{e.refreshConnectionStatuses()}catch(e){}},t.nPeriod)},t.prototype.stopPeriodically=function(){this.timer&&clearInterval(this.timer)},t.prototype.refreshConnectionStatuses=function(){var e=this;this.connections&&this.connections.length>0&&(Object(s.b)(this.connections).then(function(t){for(var i=t.json(),o=0;o<e.connections.length;o++)e.connections[o].status=i[e.connections[o].id]||"Not Available"}).catch(function(t){for(var i=0;i<e.connections.length;i++)e.connections[i].status="Not Available"}),this.$$("gojs-network").updateConnectionStatus(this.connections))},t.prototype.initGo=function(){webix.protoUI({name:"goJsNetworkChart",$init:function(e){this.$view.innerHTML="<div style='position:relative; width:100%; height:100%;'></div>",this._initChart(e)},_initChart:function(e){e.chartConfig;this.$=window.go.GraphObject.make,this.myDiagram=this.$(go.Diagram,this.$view.firstChild,{initialContentAlignment:go.Spot.Center,"linkingTool.direction":go.LinkingTool.ForwardsOnly,isEnabled:!1}),this.myDiagram.nodeTemplateMap.add("Generator",this.$(go.Node,"Spot",{locationSpot:go.Spot.Center,locationObjectName:"BODY",selectionObjectName:"BODY"},new go.Binding("location","location",go.Point.parse).makeTwoWay(go.Point.stringify),this.$(go.Picture,"../images/inscada_mon.png",{width:100,height:100,portId:"",cursor:"pointer",fromSpot:go.Spot.TopBottomSides,toSpot:go.Spot.TopBottomSides}),this.$(go.TextBlock,{alignment:go.Spot.Top,alignmentFocus:go.Spot.Center},new go.Binding("text","text")))),this.myDiagram.nodeTemplateMap.add("Connection",this.$(go.Node,"Spot",{locationSpot:go.Spot.Center,locationObjectName:"BODY",selectionObjectName:"BODY"},new go.Binding("location","location",go.Point.parse).makeTwoWay(go.Point.stringify),this.$(go.Shape,"Circle",{width:20,height:20,portId:"",cursor:"pointer",fromSpot:go.Spot.TopBottomSides,toSpot:go.Spot.TopBottomSides},new go.Binding("fill","color")),this.$(go.TextBlock,{verticalAlignment:go.Spot.Bottom,alignmentFocus:go.Spot.Center,height:50},new go.Binding("text","text")))),this.myDiagram.nodeTemplateMap.add("Device",this.$(go.Node,"Spot",{locationSpot:go.Spot.Center,locationObjectName:"BODY",selectionObjectName:"BODY"},new go.Binding("location","location",go.Point.parse).makeTwoWay(go.Point.stringify),this.$(go.Picture,"../images/gojs/pc.jpg",{name:"BODY",width:50,height:40,portId:"",cursor:"pointer",fromSpot:go.Spot.TopBottomSides,toSpot:go.Spot.TopBottomSides}),this.$(go.TextBlock,{verticalAlignment:go.Spot.Bottom,alignmentFocus:go.Spot.Center,height:80},new go.Binding("text","text")))),this.myDiagram.nodeTemplateMap.add("HBar",this.$(go.Node,new go.Binding("location","location",go.Point.parse).makeTwoWay(go.Point.stringify),{layerName:"Background",resizable:!0,resizeObjectName:"SHAPE",resizeAdornmentTemplate:this.$(go.Adornment,"Spot",this.$(go.Placeholder),this.$(go.Shape,{alignment:go.Spot.Left,cursor:"col-resize",desiredSize:new go.Size(6,6),fill:"lightblue",stroke:"dodgerblue"}),this.$(go.Shape,{alignment:go.Spot.Right,cursor:"col-resize",desiredSize:new go.Size(6,6),fill:"lightblue",stroke:"dodgerblue"}))},this.$(go.Shape,"Rectangle",{name:"SHAPE",fill:"black",stroke:null,strokeWidth:0,width:1e3,height:4,minSize:new go.Size(100,4),maxSize:new go.Size(1/0,4)},new go.Binding("desiredSize","size",go.Size.parse).makeTwoWay(go.Size.stringify),new go.Binding("fill"),{portId:"",toLinkable:!0}))),go.Diagram.inherit(this.BarLink,go.Link),this.myDiagram.linkTemplate=this.$(this.BarLink,{routing:go.Link.Orthogonal,relinkableFrom:!0,relinkableTo:!0},this.$(go.Shape,{strokeWidth:2}),this.$(go.TextBlock,{alignment:go.Spot.Left,alignmentFocus:go.Spot.Left},new go.Binding("text","text"))),this.BarLink.prototype.getLinkPoint=function(e,t,i,o,r,n,a){if("HBar"===e.category){var s=go.Link.prototype.getLinkPoint.call(this,n,a,this.computeSpot(!o),!o,r,e,t),l=new go.Rect(t.getDocumentPoint(go.Spot.TopLeft),t.getDocumentPoint(go.Spot.BottomRight)),c=s.y>l.centerY?l.bottom:l.top;return s.x<l.left?new go.Point(l.left,c):s.x>l.right?new go.Point(l.right,c):new go.Point(s.x,c)}return go.Link.prototype.getLinkPoint.call(this,e,t,i,o,r,n,a)},this.BarLink.prototype.getLinkDirection=function(e,t,i,o,r,n,a,s){var l=t.getDocumentPoint(go.Spot.Center);return s.getDocumentPoint(go.Spot.Center).y>l.y?90:270}},model_setter:function(e){this.myDiagram.model=new window.go.GraphLinksModel(e.data,e.links)},updateConnectionStatus:function(e){for(var t=this.myDiagram.model,i=0;i<e.length;i++)for(var o=e[i],r=0;r<t.nodeDataArray.length;r++){var n=t.nodeDataArray[r];if(n.key=="con"+o.id){var a="gray";"Connected"==o.status?a="green":"Disconnected"==o.status&&(a="red"),t.startTransaction("status"),t.setDataProperty(n,"color",a),t.commitTransaction("status")}}},BarLink:function(){go.Link.call(this)}},webix.ui.view)},t.prototype.ready=function(){},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ExpressionView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"expressionForm",position:function(e){e.width=800,e.left=e.maxWidth-e.width,e.top=0,e.height=e.maxHeight},view:"form",css:{border:"none"},elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Code")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{rows:[{name:"id",hidden:!0},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"}]},{rows:[{template:this._("Code"),type:"section"},{view:"textarea",localId:"expression-code",label:this._("Expression"),labelPosition:"top",name:"code",hidden:!0},{localId:"expression-editor",view:"ace-editor",theme:"monokai-light"}]}]}]}},t.prototype.save=function(t){this.$$("expression-code").setValue(this.$$("expression-editor").getValue()),e.prototype.save.call(this,t)},t.prototype.bindTo=function(t){e.prototype.bindTo.call(this,t),this.$$("expression-editor").setValue(t.code)},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(){return Object(s.c)("/expressions")}function r(e){return Object(s.d)("/expressions",e)}function n(e){return Object(s.e)("/expressions/"+e.id,e)}function a(e){return Object(s.b)("/expressions/"+e)}t.c=o,t.a=r,t.d=n,t.b=a;var s=i(5)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"AnimationView",function(){return h});var a=i(0),s=i(10),l=i(3),c=i(45),h=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;return this._=this.app.getService("locale")._,this.projectId=null,this.projects=[],Object(l.e)().then(function(t){e.projects=t.json(),e.$$("projectCombo").define("options",e.getProjectOptions())}),{cols:[{rows:[{localId:"one-animation",css:"homeTableBg"}]},{header:this._("Settings"),width:300,margin:10,collapsed:!0,hidden:!0,localId:"animeSett",body:{view:"form",localId:"trendForm",elementsConfig:{labelWidth:100,labelPosition:"top"},elements:[{view:"combo",label:this._("Projects"),localId:"projectCombo",options:this.getProjectOptions(),on:{onChange:function(t){e.project=e.projects.filter(function(e){return e.id==t})[0],Object(s.g)(t).then(function(t){e.animations=t.json(),e.$$("animationCombo").define("options",e.getAnimationOptions())})}}},{view:"combo",label:this._("Animations"),localId:"animationCombo",on:{onChange:function(t){e.animationId=t}}},{},{view:"button",width:125,align:"right",type:"form",label:this._("Load"),click:function(){e.updateView("START",e.project),e.writeState(e.project)}}]}}]}},t.prototype.updateView=function(e,t){"START"==e?(this.projectId=t.id,this.generateStage()):this.stop()},t.prototype.hideSettings=function(){this.$$("animeSett").isVisible()?this.$$("animeSett").hide():this.$$("animeSett").show()},t.prototype.writeState=function(e){if(e){var t=webix.storage.local.get("homeState");1==this.order?(t.anim1.projectId=e.id,t.anim1.animeId=this.animationId):(t.anim2.projectId=e.id,t.anim2.animeId=this.animationId),webix.storage.local.put("homeState",t)}},t.prototype.setOrder=function(e){this.order=e},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getAnimationOptions=function(){return this.animations.map(function(e){return{id:e.id,value:e.name}})},t.prototype.generateStage=function(){var e=this;this.stop(),Object(s.g)(this.projectId).then(function(t){e.animations=t.json();var i=e.animations.filter(function(t){return t.id==e.animationId})[0],o=void 0;e.animations.length>0?(o={localId:"one-animation",id:i.id,view:"template",css:{background:"#292e33"},template:function(){return'<div style="margin:1px;width:100%; height:100%;background:'+i.color+'">'+i.svgContent+"</div>"}},e.animator=new c.Animator(i),e.animator.start()):(o={localId:"one-animation"},delete e.animator),webix.ui(o,e.$$("one-animation")),e.$$("animationCombo").define("options",e.getAnimationOptions()),e.$$("animationCombo").setValue(e.animationId)})},t.prototype.startAnimation=function(e,t){this.animationId=t,this.updateView("START",{id:e}),this.$$("projectCombo").setValue(e)},t.prototype.ready=function(){},t.prototype.stop=function(){this.animator&&this.animator.stop()},t.prototype.start=function(){this.animator&&this.animator.start()},t.prototype.destroy=function(){this.stop()},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"Animator",function(){return p});var r=i(10),n=i(12),a=i(99),s=i.n(a),l=i(101),c=i.n(l),h=i(1),u=i(6),d=i(19),p=(i.n(d),function(){function e(t){o(this,e),this.animation=t,this.isRunning=!1,this.scannerList=[],this.loopingElements=[]}return e.prototype.getId=function(){return this.animation.id},e.prototype.start=function(){var e=this;this.isRunning||Object(r.e)(this.animation.id).then(function(t){e.animElems=t.json(),e.animElems.forEach(function(e){return e.props=JSON.parse(e.props)}),e.timer=setInterval(function(){return e.refresh()},e.animation.duration),e.isRunning=!0})},e.prototype.stop=function(){this.isRunning&&(clearInterval(this.timer),this.stopVelocities(),this.stopScanner(),this.isRunning=!1)},e.prototype.refresh=function(){var e=this;Object(r.d)(this.animation.id).then(function(t){for(var i=t.json(),o=0;o<e.animElems.length;o++){var r=e.animElems[o],n=i[r.id];try{e.animate(r,n)}catch(e){}}})},e.prototype.animate=function(e,t){switch(e.type){case"Opacity":this.opac(e,t);break;case"Rotate":this.rotate(e,t);break;case"Get":this.text(e,t);break;case"Tooltip":this.tooltip(e,t);break;case"Bar":this.bar(e,t);break;case"Color":this.colorChange(e,t);break;case"Script":this.script(e);break;case"Set":this.set(e,t);break;case"QRCodeGeneration":this.qrCodeGen(e,t);break;case"QRCodeScan":this.qrCodeScan(e)}},e.prototype.opac=function(e,t){var i=this.el(e.domId);if(i){var o=1*(t-e.props.min)/(e.props.max-e.props.min);s()(i,{opacity:o},this.animation.duration)}},e.prototype.rotate=function(e,t){var i=0;if(t<=e.props.min||e.props.min==e.props.max)i=0;else if(t>=e.props.max)i=360;else{var o=e.props.max-e.props.min,r=t-e.props.min;i=360*r/o}var n=this.el(e.domId);if(n){var a=n.getBBox();if("g"==n.tagName){var l=n.transform.baseVal.getItem(0).matrix.e,c=n.transform.baseVal.getItem(0).matrix.f,h=l+a.x+a.width/2,u=c+a.y+a.height/2;n.style.transformOrigin=h+"px "+u+"px",e.rotate||(e.rotate=!0,s()(n,{rotateZ:0,translateX:l,translateY:c},{duration:10})),s()(n,{rotateZ:i,translateX:l,translateY:c},{duration:this.animation.duration})}else{var h=Number(a.x)+a.width/2,u=Number(a.y)+a.height/2;n.style.transformOrigin=h+"px "+u+"px",s()(n,{rotateZ:i},{duration:this.animation.duration})}}},e.prototype.text=function(e,t){var i=this.el(e.domId);i&&(i.innerHTML=t)},e.prototype.tooltip=function(e,t){if(!e.tooltip){e.tooltip=webix.ui({view:"tooltip",template:e.props.title?"<div>#title#</div><hr><div style='color:#color#; font-size:#size#'>#value#</div>":"<div style='color:#color#; font-size:#size#'>#value#</div>"});var i=this.el(e.domId);if(!i)return;webix.event(i,"mousemove",function(t){e.tooltip.show({title:e.props.title,color:e.props.color||"black",size:e.props.size||"10px",value:e.tooltip.msg},webix.html.pos(t))}),webix.event(i,"mouseout",function(){e.tooltip.hide()})}e.tooltip.msg=t},e.prototype.bar=function(e,t){var i=this.el(e.domId);if(i){e.bbox||(e.bbox=i.getBBox());var o=e.bbox;if("vertical"==e.props.orientation){var r=o.height*(t-e.props.min)/(e.props.max-e.props.min);s()(i,{height:r,y:o.y+o.height-r},this.animation.duration)}else if("horizontal"==e.props.orientation){var n=o.width*(t-e.props.min)/(e.props.max-e.props.min);s()(i,{width:n},this.animation.duration)}}},e.prototype.colorChange=function(e,t){var i=t.split("/"),o=this.el(e.domId);o&&(1==i.length?(e.color&&o&&(s()(o,"stop"),e.color=!1),o.style.fill=i[0]):(!this.oldColors||this.oldColors[0]==i[0]&&this.oldColors[1]==i[1]||(e.color=!1),!e.color&&o&&(s()(o,"stop"),e.color=!0,s()(o,{fill:i},{duration:1e3,loop:!0}),this.loopingElements.push(o),this.oldColors=i)))},e.prototype.script=function(e){if(!e.script){e.script={name:e.name,projectId:this.animation.projectId,code:e.expression,log:!0},this.hover(e);var t=this.el(e.domId);if(!t)return;webix.event(t,"click",function(t){Object(n.g)(e.script)})}},e.prototype.set=function(e,t){if(e.setValue=t,!e.setOptions){e.setOptions={ok:"Yes",cancel:"No",text:e.props.title},this.hover(e);var i=this.el(e.domId);if(!i)return;webix.event(i,"click",function(t){"AUTO"==e.props.setType?Object(u.s)(e.props.variableId,e.setValue).then(function(){Object(h.d)("Success")}):"YES/NO"==e.props.setType?Object(h.a)(e.setOptions,function(){return Object(u.s)(e.props.variableId,e.setValue).then(function(){Object(h.d)("Success")})}):"MANUAL"==e.props.setType&&Object(h.e)({hasNegative:!0,hasDecimal:!0,initialValue:e.setValue,callback:function(t){Object(u.s)(e.props.variableId,t).then(function(){Object(h.d)("Success")})}})})}},e.prototype.hover=function(e){var t=this.el(e.domId);t&&(e.prevStyle={stroke:t.style.stroke,fill:t.style.fill,opacity:t.style.opacity},webix.event(t,"mousemove",function(e){t.style.stroke="#3498db",t.style.fill="#27ae60",t.style.opacity=.5}),webix.event(t,"mouseout",function(){t.style.stroke=e.prevStyle.stroke,t.style.fill=e.prevStyle.fill,t.style.opacity=e.prevStyle.opacity}))},e.prototype.qrCodeGen=function(e,t){var i=this.el(e.domId);if(i&&"rect"==i.tagName){var o=i.parentNode;if(o){var r=c()(4,"L");r.addData(""+t),r.make();var n=document.createElement("g");n.innerHTML=r.createSvgTag();var a=n.getElementsByTagName("svg")[0],s=o.getElementsByTagName("svg");if(null!=i.getAttribute("x")){var l=i.getAttribute("x")-0+3,h=i.getAttribute("y")-0+3;a.setAttribute("x",l),a.setAttribute("y",h),a.setAttribute("height",i.getAttribute("height")-6),a.setAttribute("width",i.getAttribute("width")-6),o.setAttribute("x",i.getAttribute("x")),o.setAttribute("y",i.getAttribute("y")),o.setAttribute("height",i.getAttribute("height")),o.setAttribute("width",i.getAttribute("width"))}else{var l=o.getAttribute("x")-0+3,h=o.getAttribute("y")-0+3;a.setAttribute("x",l),a.setAttribute("y",h),a.setAttribute("height",o.getAttribute("height")-6),a.setAttribute("width",o.getAttribute("width")-6)}s.length>0&&o.removeChild(s[0]),o.appendChild(a)}}},e.prototype.qrCodeScan=function(e){if(!e.qrScan){e.qrScan=!0;var t=this.el(e.domId);if(t&&"rect"==t.tagName){var i=t.parentNode,o=document.createElement("canvas");o.id="qrCanvas"+e.id;var r=document.createElementNS("http://www.w3.org/2000/svg","foreignObject"),n=t.getAttribute("x"),a=t.getAttribute("y"),s=t.getAttribute("width"),l=t.getAttribute("height");r.setAttribute("x",n),r.setAttribute("y",a),r.setAttribute("height",s),r.setAttribute("width",l),r.appendChild(o),i.appendChild(r),this.qrCodeScanner(o.id,s,l)}}},e.prototype.qrCodeScanner=function(e,t,o){function r(e,t,i){c.beginPath(),c.moveTo(e.x,e.y),c.lineTo(t.x,t.y),c.lineWidth=4,c.strokeStyle=i,c.stroke()}var n=this,a=i(19),s=document.createElement("video"),l=document.getElementById(e),c=l.getContext("2d");navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(function(e){s.srcObject=e,s.setAttribute("playsinline",!0),s.play()}),this.stream=s;var h=function(){if(s.readyState===s.HAVE_ENOUGH_DATA){l.hidden=!1,l.height=o,l.width=t,c.drawImage(s,0,0,l.width,l.height);var e=c.getImageData(0,0,l.width,l.height),i=a(e.data,e.width,e.height);i?(r(i.location.topLeftCorner,i.location.topRightCorner,"#FF3B58"),r(i.location.topRightCorner,i.location.bottomRightCorner,"#FF3B58"),r(i.location.bottomRightCorner,i.location.bottomLeftCorner,"#FF3B58"),r(i.location.bottomLeftCorner,i.location.topLeftCorner,"#FF3B58"),n.scanData!=i.data&&(n.scanData=i.data,n.sendScannedData(n.scanData))):console.log("Show qr code")}},u=setInterval(function(){requestAnimationFrame(h)});this.scannerList.push(u)},e.prototype.sendScannedData=function(e){for(var t=JSON.parse(e),i=Object.keys(t),o=0;o<i.length;o++)Object(u.t)(this.animation.projectId,function(e,t){switch(t){case"m":return e+"_RAW_METHANE";case"e":return e+"_RAW_ETHANE";case"p":return e+"_RAW_PENTANE";case"ib":return e+"_RAW_IBUTANE";case"nb":return e+"_RAW_NBUTANE";case"ip":return e+"_RAW_IPENTANE";case"np":return e+"_RAW_NPENTANE";case"c6":return e+"_RAW_C6PLUS";case"n":return e+"_RAW_NITROGEN";case"co":return e+"_RAW_CO2";case"a":return e+"_ATMOSPHERIC_PRESSURE";case"s":return e+"_SUPERIOR";case"sg":return e+"_SG";default:return"NO"}}(this.animation.dsc,i[o]),t[i[o]])},e.prototype.stopScanner=function(){for(var e=0;e<this.scannerList.length;e++)clearInterval(this.scannerList[e]);this.scannerList=[],this.stream&&this.stream.srcObject&&this.stream.srcObject.getVideoTracks()[0].stop()},e.prototype.stopVelocities=function(){if(this.loopingElements){for(var e=0;e<this.loopingElements.length;e++)s()(this.loopingElements[e],"stop");this.loopingElements=[]}},e.prototype.el=function(e){return document.getElementById(e)},e.prototype.getAbsoluteBoundingRect=function(e){var t=document,i=window,o=t.body,r=void 0!==i.pageXOffset?i.pageXOffset:(t.documentElement||o.parentNode||o).scrollLeft,n=void 0!==i.pageYOffset?i.pageYOffset:(t.documentElement||o.parentNode||o).scrollTop,a=e.getBoundingClientRect();if(e!==o)for(var s=e.parentNode;s!==o;)r+=s.scrollLeft,n+=s.scrollTop,s=s.parentNode;return{bottom:a.bottom+n,height:a.height,left:a.left+r,right:a.right+r,top:a.top+n,width:a.width}},e}())},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"TrendGraphicView",function(){return d});var a=i(0),s=i(3),l=i(17),c=i(6),h=i(18),u=(i.n(h),i(27)),d=(i.n(u),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.chart=!1,webix.promise.all([Object(s.e)(),Object(l.d)()]).then(function(i){return e.projects=i[0].json(),e.trends=i[1].json(),e.period=1e3,{id:"id-scada-body",cols:[{view:"template",id:"trendView",css:"homeChartBg",template:'<div id="trendChart" style="width:100%;height:100%"></div>'},{header:t("Settings"),width:300,margin:10,hidden:!0,collapsed:!0,localId:"trendSett",body:{view:"form",localId:"trendForm",elementsConfig:{labelWidth:100,labelPosition:"top"},elements:[{view:"combo",label:t("Projects"),localId:"projectCombo",options:e.getProjectOptions(),on:{onChange:function(t){var i=e.trends.filter(function(e){return e.projectId==t}).map(function(e){return{id:e.id,value:e.name}});e.$$("trendCombo").define("options",i),e.$$("trendCombo").refresh(),i.length>0&&e.$$("trendCombo").setValue(i[0].id)}}},{view:"combo",label:t("Trends"),localId:"trendCombo",options:[],invalidMessage:t("Choose Trend"),on:{onChange:function(){e.loadTrend()}}},{},{view:"button",width:125,align:"right",type:"form",label:t("Load"),click:function(){e.updateTrend(),e.writeState()}}]}}]}}).catch(function(t){e.projects=[],e.trends=[]})},t.prototype.startTrend=function(e,t){var i=this;Object(l.c)(t).then(function(o){i.trendTags=o.json(),i.updateTrend(),i.$$("projectCombo").setValue(e),i.$$("trendCombo").setValue(t)})},t.prototype.writeState=function(){if(this.$$("projectCombo").getValue()){var e=webix.storage.local.get("homeState");e.trend.projectId=this.$$("projectCombo").getValue(),e.trend.trendId=this.$$("trendCombo").getValue(),webix.storage.local.put("homeState",e)}},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.hideSettings=function(){this.$$("trendSett").isVisible()?this.$$("trendSett").hide():this.$$("trendSett").show()},t.prototype.loadTrend=function(){var e=this,t=this.$$("trendCombo").getValue();this.period=this.trends.filter(function(e){return e.id==t})[0].period,Object(l.c)(t).then(function(t){e.trendTags=t.json()})},t.prototype.updateTrend=function(){var e=this;if(this.streamTrend&&clearInterval(this.streamTrend),this.chart&&this.chart.clear(),this.trendTags.length>0){for(var t=this.trendTags.map(function(e){return{id:e.variableId,value:e.name}}),i=[],o=0;o<t.length;o++)i.push(t[o].id);Object(c.l)(i).then(function(t){var o=t.json();o=e.transformVariablesLive(o),e.configureChartDataLive(o,e.orderTags(o),i)})}},t.prototype.transformVariablesLive=function(e){for(var t=Object.keys(e),i={},o=0;o<t.length;o++)i[t[o]]=[];for(var o=0;o<t.length;o++)i[t[o]].push({variableId:t[o],date:e[t[o]].date,value:e[t[o]].value});return i},t.prototype.configureChartDataLive=function(e,t,i){function o(e){return e>=1e6?Math.round(e/1e6)+"M":e>=1e3?Math.round(e/1e3)+"k":e}for(var r=this,n=[],a=[],s=0,l=0,h=1;s<t.length;s++){var u={id:"v"+t[s].id,axisColor:t[s].color,axisThickness:2,axisAlpha:1,color:t[s].color,labelFunction:function(e){return o(e)}};s%2==0?(u.position="left",u.offset=60*l,l++):(u.position="right",u.offset=60*h,h++),n.push(u);var d={id:"g"+t[s].id,valueAxis:"v"+t[s].id,lineColor:t[s].color,lineThickness:1.5,bullet:"round",title:t[s].name,valueField:t[s].variableId,fillAlphas:0,hideBulletsCount:50};a.push(d)}this.constructChart([],n,a);var p=8*i.length;this.streamTrend=setInterval(function(){Object(c.l)(i).then(function(e){var t=e.json();t=r.transformVariablesLive(t);for(var i=Object.keys(t),o={},n=0;n<i.length;n++)o.date=new Date,o[i[n]]=t[i[n]][0].value,r.chart.dataProvider.length>p&&r.chart.dataProvider.shift(),r.chart.dataProvider.push(o);r.chart.validateData()})},this.period)},t.prototype.orderTags=function(e){for(var t=[],i=[],o=0;o<this.trendTags.length;o++)if(e[this.trendTags[o].variableId]){var r={id:this.trendTags[o].id,date:new Date(e[this.trendTags[o].variableId][0].dttm)||new Date};i.push(r)}i.sort(function(e,t){return e.date-t.date});for(var o=0;o<i.length;o++)for(var n=0;n<this.trendTags.length;n++)i[o].id==this.trendTags[n].id&&t.push(this.trendTags[n]);return t},t.prototype.constructChart=function(e,t,i){this.chart=window.AmCharts.makeChart("trendChart",{path:"../images/amcharts",type:"serial",hideCredits:!0,color:"#fff",legend:{useGraphSettings:!0,color:"#fff",markerLabelGap:0,autoMargins:!1},mouseWheelZoomEnabled:!0,dataDateFormat:"DD/MM/YYYY JJ:NN:SS",valueAxes:t,balloon:{borderThickness:1,shadowAlpha:0},graphs:i,chartScrollbar:{graph:"g1",oppositeAxis:!0,backgroundAlpha:0,selectedBackgroundAlpha:.8,selectedBackgroundColor:"green",graphFillAlpha:0,graphLineAlpha:.5,selectedGraphFillAlpha:0,selectedGraphLineAlpha:1,autoGridCount:!0,color:"#fff"},chartCursor:{pan:!0,valueLineEnabled:!0,valueLineBalloonEnabled:!0,cursorAlpha:1,cursorColor:"#258cbb",limitToGraph:"g1",valueLineAlpha:.2,categoryBalloonDateFormat:"DD/MM/YYYY JJ:NN:SS",valueZoomable:!0},valueScrollbar:{oppositeAxis:!0,selectedBackgroundAlpha:1,selectedBackgroundColor:"#13721c",offset:20,scrollbarHeight:10},categoryField:"date",categoryAxis:{parseDates:!0,dashLength:1,minorGridEnabled:!0,minPeriod:"ss"},export:{enabled:!0,position:"top-left"},dataProvider:e}),this.chart.addListener("rendered",this.zoomChart())},t.prototype.zoomChart=function(){this.chart.zoomToIndexes(this.chart.dataProvider.length-(this.chart.dataProvider.length-10),this.chart.dataProvider.length-1)},t.prototype.getTrendForm=function(e){return{}},t.prototype.ready=function(){this.projects.length>0&&this.$$("projectCombo").setValue(this.projects[0].id)},t.prototype.destroy=function(){this.streamTrend&&clearInterval(this.streamTrend)},t}(a.b))},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"AlarmMonitorView",function(){return c});var a=i(0),s=i(11),l=i(3),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.projects=[],Object(l.e)().then(function(t){e.projects=t.json(),e.$$("projectCombo").define("options",e.getProjectOptions()),e.$$("projectCombo").refresh()}),{id:"id-scada-body",cols:[{localId:"firedAlarmsGrid",view:"datatable",select:"row",resizeColumn:!0,scrollX:!1,css:"homeTableBg",columns:[{id:"id",hidden:!0},{id:"name",header:t("Name"),fillspace:!0},{id:"dsc",header:t("Description"),fillspace:!0},{id:"status",header:t("Status"),fillspace:!0},{id:"onDate",header:t("On Date"),format:webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),width:200}],scheme:{$change:function(e){"On"==e.status&&null!=e.acknowledge?e.$css="alarmOnAcknHome":"Off"==e.status&&null!=e.acknowledge?e.$css="alarmOffAcknHome":"On"==e.status?e.$css="alarmOnHome":"Off"==e.status&&(e.$css="alarmOffHome"),e.onDate&&(e.onDate=new Date(e.onDate))}}},{header:t("Settings"),width:300,margin:10,collapsed:!0,hidden:!0,localId:"alarmSett",body:{view:"form",localId:"trendForm",elementsConfig:{labelWidth:100,labelPosition:"top"},elements:[{view:"combo",label:t("Projects"),localId:"projectCombo",options:this.getProjectOptions(),on:{onChange:function(t){e.projectId=t}}},{},{view:"button",width:125,align:"right",type:"form",label:t("Reload"),click:function(){e.loadAlarms(),e.writeState()}}]}}]}},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.writeState=function(){if(this.projectId){var e=webix.storage.local.get("homeState");e.alarm.projectId=this.projectId,webix.storage.local.put("homeState",e)}},t.prototype.hideSettings=function(){this.$$("alarmSett").isVisible()?this.$$("alarmSett").hide():this.$$("alarmSett").show()},t.prototype.getVisibility=function(){return this.$$("alarmSett").isVisible()},t.prototype.loadAlarms=function(){var e=this;Object(s.i)(this.projectId).then(function(t){e.alarms=t.json(),e.reloadData()})},t.prototype.reloadData=function(){var e=this;if(this.alarms&&this.alarms.length>0)return webix.promise.all([Object(s.g)(this.alarms),Object(s.k)(this.projectId)]).then(function(t){for(var i=t[0].json(),o=0;o<e.alarms.length;o++)e.alarms[o].status=i[e.alarms[o].id]||"Not Available";for(var r=t[1].json(),n=0;n<r.length;n++)!function(t){var i=e.alarms.find(function(e){return e.id==r[t].alarmId});r[t].name=i.name,r[t].active=i.status,r[t].dsc=i.dsc}(n);e.$$("firedAlarmsGrid").clearAll(),e.$$("firedAlarmsGrid").parse(r.filter(function(e){return"Active"==e.active&&"On"==e.status}))});this.$$("firedAlarmsGrid").clearAll()},t.prototype.acknowledge=function(){var e=this,t=this.$$("firedAlarmsGrid").getSelectedId(!0,!0),i=[];t.forEach(function(e){return i.push(Object(s.b)(e))}),webix.promise.all(i).then(function(){return e.reloadData()})},t.prototype.runPeriodically=function(){var e=this;this.timer=setInterval(function(){try{console.log(e.getNode()),e.reloadData()}catch(e){}},5e3)},t.prototype.stopPeriodically=function(){this.timer&&clearInterval(this.timer)},t.prototype.startMonitoring=function(e){this.projectId=e,this.loadAlarms(),this.$$("projectCombo").setValue(e)},t.prototype.ready=function(){this.runPeriodically()},t.prototype.destroy=function(){this.stopPeriodically()},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"AlarmPanelView",function(){return c});var a=i(0),s=i(11),l=i(1),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;return this._=this.app.getService("locale")._,this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure you want to activate/deactivate the selected alarm?")},{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Alarms"),width:70},{view:"search",localId:"alarm-search",placeholder:this._("Search"),on:{onTimedKeyPress:function(){e.$$("alarmList").filter("#name#",e.$$("alarm-search").getValue())}}},{view:"icon",icon:"refresh",click:function(){return e.refresh()}},{view:"icon",icon:"play-circle",click:function(){return e.play()}},{view:"icon",icon:"stop-circle",click:function(){return e.stop()}}]},{view:"list",localId:"alarmList",template:function(e){return'<div class="list-template"><h4>'+("Active"==e.status?'<i class="fa fa-bell fa-lg" style="float:left; margin-right:10px;"></i>':'<i class="fa fa-bell-slash fa-lg" style="float:left; margin-right:10px;"></i>')+e.name+'<span class="panel-status">'+e.status+"</span></h4></div>"},select:!0,type:{height:"auto"}}]}},t.prototype.play=function(){var e=this,t=this.$$("alarmList").getSelectedItem();t&&Object(l.a)(this.confirmOptions,function(){return Object(s.c)(t.id).then(function(t){e.refresh()})})},t.prototype.stop=function(){var e=this,t=this.$$("alarmList").getSelectedItem();t&&Object(l.a)(this.confirmOptions,function(){return Object(s.e)(t.id).then(function(t){e.refresh()})})},t.prototype.refresh=function(){var e=this;this.alarms&&this.alarms.length>0&&Object(s.g)(this.alarms).then(function(t){for(var i=t.json(),o=0;o<e.alarms.length;o++)e.alarms[o].status=i[e.alarms[o].id]||"Not Available";e.$$("alarmList").refresh()}).catch(function(t){for(var i=0;i<e.alarms.length;i++)e.alarms[i].status="Not Available";e.$$("alarmList").refresh()})},t.prototype.load=function(e){var t=this;e&&(this.$$("alarmList").clearAll(),this.projectId=e,Object(s.i)(e).then(function(e){t.alarms=e.json(),t.$$("alarmList").parse(t.alarms),t.refresh()}))},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ConnectionPanelView",function(){return c});var a=i(0),s=i(9),l=i(1),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure you want to Start/Stop the selected connection?")},{rows:[{view:"toolbar",cols:[{view:"label",label:t("Connections"),width:110},{},{view:"icon",icon:"refresh",click:function(){e.refreshConnectionStatuses()}},{view:"icon",icon:"play-circle",click:function(){return Object(l.a)(e.confirmOptions,function(){return e.start()})}},{view:"icon",icon:"stop-circle",click:function(){return Object(l.a)(e.confirmOptions,function(){return e.stop()})}}]},{view:"list",localId:"connList",template:function(e){return'<div class="list-template"><h4>'+("Connected"==e.status?'<i class="fa fa-refresh fa-spin fa-lg" style="float:left; margin-right:10px; color:#3498db"></i>':"Disconnected"==e.status?'<i class="fa fa-refresh fa-lg" style="float:left; margin-right:10px;"></i>':'<i class="fa fa-minus-circle fa-lg" style="float:left; margin-right:10px;"></i>')+e.name+'<span class="panel-status">'+e.ip+": "+e.port+": "+e.status+"</span></h4></div>"},select:!0,type:{height:"auto"},on:{onSelectChange:function(t){e.getParentView().getSubView("DevicePanelView").load(parseInt(t))}}}]}},t.prototype.start=function(){var e=this,t=this.$$("connList").getSelectedItem();t&&Object(s.f)(t.id).then(function(t){e.refreshConnectionStatuses()})},t.prototype.stop=function(){var e=this,t=this.$$("connList").getSelectedItem();t&&Object(s.g)(t.id).then(function(t){e.refreshConnectionStatuses()})},t.prototype.refreshConnectionStatuses=function(){var e=this;this.connections,this.connections.length>0&&Object(s.b)(this.connections).then(function(t){for(var i=t.json(),o=0;o<e.connections.length;o++)e.connections[o].status=i[e.connections[o].id]||"Not Available";e.$$("connList").refresh()}).catch(function(t){for(var i=0;i<e.connections.length;i++)e.connections[i].status="Not Available";e.$$("connList").refresh()})},t.prototype.clear=function(){this.$$("connList").clearAll()},t.prototype.load=function(e){var t=this;this.clear(),this.projectId=e,Object(s.d)(e).then(function(e){t.connections=e.json(),t.connections.length>0&&(t.$$("connList").parse(t.connections),t.$$("connList").select(t.$$("connList").getFirstId()),t.refreshConnectionStatuses())})},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"DevicePanelView",function(){return l});var a=i(0),s=i(8),l=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return{rows:[{view:"toolbar",cols:[{view:"label",label:t("Devices"),width:100},{view:"search",localId:"dev-search",placeholder:t("Search"),on:{onTimedKeyPress:function(){e.$$("deviceList").filter("#name#",e.$$("dev-search").getValue())}}}]},{view:"list",localId:"deviceList",template:function(e){return'<div class="list-template"><h4><i class="fa fa-desktop fa-lg" style="float:left; margin-right:10px;"></i>'+e.name+'<span class="panel-status">'+e.protocol+"</span></h4></div>"},select:!0,type:{height:"auto"},on:{onSelectChange:function(t){var i=e.$$("deviceList").getItem(t);i&&e.getParentView().getSubView("FramePanelView").load(i)}}}]}},t.prototype.clear=function(){this.$$("deviceList").clearAll()},t.prototype.load=function(e){var t=this;this.clear(),this.connectionId=e,Object(s.h)(e).then(function(e){t.devices=e.json(),t.$$("deviceList").parse(t.devices),t.$$("deviceList").select(t.$$("deviceList").getFirstId())})},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"FramePanelView",function(){return l});var a=i(0),s=i(8),l=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return{rows:[{view:"toolbar",cols:[{view:"label",label:t("Frames"),width:100},{view:"search",localId:"frame-search",placeholder:t("Search"),on:{onTimedKeyPress:function(){e.$$("frameList").filter("#name#",e.$$("frame-search").getValue())}}}]},{view:"list",localId:"frameList",template:function(e){return'<div class="list-template"><h4><i class="fa fa-th-large fa-lg" style="float:left; margin-right:10px;"></i>'+e.name+'<span class="panel-status">'+e.type+"</span></h4></div>"},select:!0,type:{height:"auto"},on:{onSelectChange:function(t){e.getParentView().getSubView("VariablePanelView").load(t)}}}]}},t.prototype.clear=function(){this.$$("frameList").clearAll()},t.prototype.load=function(e){var t=this;this.clear(),Object(s.i)(e.connectionId,e.id).then(function(e){t.frames=e.json(),t.$$("frameList").parse(t.frames),t.$$("frameList").select(t.$$("frameList").getFirstId())})},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"VariablePanelView",function(){return c});var a=i(0),s=i(6),l=i(1),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.dateFormatter=webix.Date.dateToStr("%d/%m/%Y %H:%i:%s:%S"),webix.protoUI({name:"variableList"},webix.ui.list,webix.ActiveContent),{rows:[{view:"toolbar",cols:[{view:"label",label:t("Variables"),width:100},{view:"search",localId:"var-search",placeholder:t("Search"),on:{onTimedKeyPress:function(){e.$$("varList").filter("#name#",e.$$("var-search").getValue())}}},{view:"icon",icon:"refresh",click:function(){e.refreshVariableValues()}}]},{view:"variableList",localId:"varList",activeContent:{editButton:{view:"icon",width:50,icon:"edit",on:{onItemClick:function(t,i){var o=e.$$("varList").locate(i);if(o){var r=e.$$("varList").getItem(o);e.openNumpad(r.id)}}}}},template:function(t,i){var o="<div style='float:right'>"+i.editButton(t,i)+"</div>",r='<i class="fa fa-tag fa-lg" style="float:left; margin-right:10px;"></i>';return t.value?'<div class="list-template"><h4>'+r+t.name+o+'<span class="panel-status"><span style="color:#D72638; font-weight:600;">'+t.value.value+"  </span> : "+e.dateFormatter(new Date(t.value.date))+"</span></h4></div>":'<div class="list-template"><h4>'+r+t.name+o+"</h4></div>"},select:!0,type:{height:"auto"}}]}},t.prototype.openNumpad=function(e){Object(l.e)({hasNegative:!0,hasDecimal:!0,callback:function(t){Object(s.s)(e,t)}})},t.prototype.refreshVariableValues=function(){var e=this,t={value:"Not Available",date:""};Object(s.m)(this.frameId).then(function(i){for(var o=i.json(),r=0;r<e.variables.length;r++)e.variables[r].value=o[e.variables[r].id]||t;e.$$("varList").refresh()}).catch(function(i){for(var o=0;o<e.variables.length;o++)e.variables[o].status=t;e.$$("varList").refresh()})},t.prototype.clear=function(){this.$$("varList").clearAll()},t.prototype.load=function(e){var t=this;this.clear(),this.frameId=e,Object(s.p)(e).then(function(e){t.variables=e.json(),t.variables.length>0&&(t.$$("varList").parse(t.variables),t.refreshVariableValues())})},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ScriptPanelView",function(){return c});var a=i(0),s=i(12),l=i(1),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;return this._=this.app.getService("locale")._,this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure you want to schedule/unschedule the selected script?")},{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Scripts"),width:70},{view:"search",localId:"script-search",placeholder:this._("Search"),on:{onTimedKeyPress:function(){e.$$("scriptList").filter("#name#",e.$$("script-search").getValue())}}},{view:"icon",icon:"refresh",click:function(){return e.refresh()}},{view:"icon",icon:"play-circle",click:function(){return e.play()}},{view:"icon",icon:"stop-circle",click:function(){return e.stop()}}]},{view:"list",localId:"scriptList",template:function(e){return'<div class="list-template"><h4>'+("Scheduled"==e.status?'<i class="fa fa-calendar-check-o fa-lg" style="float:left; margin-right:10px;"></i>':'<i class="fa fa-calendar-minus-o fa-lg" style="float:left; margin-right:10px;"></i>')+e.name+'<span  class="panel-status">'+e.status+"</span></h4></div>"},select:!0,type:{height:"auto"}}]}},t.prototype.play=function(){var e=this,t=this.$$("scriptList").getSelectedItem();t&&Object(l.a)(this.confirmOptions,function(){return Object(s.i)(t.id).then(function(t){e.refresh()})})},t.prototype.stop=function(){var e=this,t=this.$$("scriptList").getSelectedItem();t&&Object(l.a)(this.confirmOptions,function(){return Object(s.b)(t.id).then(function(t){e.refresh()})})},t.prototype.refresh=function(){var e=this;this.scripts&&this.scripts.length>0&&Object(s.c)(this.scripts).then(function(t){for(var i=t.json(),o=0;o<e.scripts.length;o++)e.scripts[o].status=i[e.scripts[o].id]||"Not Available";e.$$("scriptList").refresh()}).catch(function(t){for(var i=0;i<e.scripts.length;i++)e.scripts[i].status="Not Available";e.$$("scriptList").refresh()})},t.prototype.load=function(e){var t=this;e&&(this.$$("scriptList").clearAll(),this.projectId=e,Object(s.e)(e).then(function(e){t.scripts=e.json(),t.$$("scriptList").parse(t.scripts),t.refresh()}))},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ProjectView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"projectForm",view:"form",borderless:!0,elementsConfig:{labelWidth:125},elements:[{view:"toolbar",cols:[{view:"label",label:this._("Project")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:10},{rows:[{template:this._("Project"),type:"section"},{name:"id",hidden:!0},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"datepicker",label:this._("Start Date"),name:"startDate",format:"%d/%m/%Y",required:!0,stringResult:!0},{view:"datepicker",label:this._("End Date"),name:"endDate",format:"%d/%m/%Y",required:!0,stringResult:!0},{view:"checkbox",label:this._("Is Active?"),name:"isActive",required:!0}]},{rows:[{template:this._("Location"),type:"section"},{view:"textarea",label:this._("Address"),maxHeight:120,labelPosition:"top",name:"address"},{view:"text",label:this._("Latitude"),name:"latitude",type:"number"},{view:"text",label:this._("Longitude"),name:"longitude",type:"number"}]},{rows:[{template:this._("Contract"),type:"section"},{view:"combo",label:this._("Contract Day"),name:"contractDay",localId:"contractDayCombo",options:this.getParentView().getContractDayOptions()},{view:"datepicker",format:"%H:%i",type:"time",label:this._("Contract Hour"),name:"contractHour",stringResult:!0,suggest:{type:"calendar",body:{type:"time",calendarTime:"%H:%i"}}},{}]}]}},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"PropertyView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"frameForm",view:"form",isDetail:!0,borderless:!0,elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Property")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{template:this._("Project Property"),type:"section"},{id:"id",hidden:!0},{view:"combo",label:this._("Project"),name:"deviceId",readonly:!0,required:!0,options:this.getParentView().getItemOptions()},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Value"),name:"value"},{}]}]}},t.prototype.bindTo=function(t,i){i.deviceId=t.id,e.prototype.bindTo.call(this,i)},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ReportView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"reportForm",view:"form",css:{border:"none"},elementsConfig:{labelWidth:125},elements:[{view:"toolbar",cols:[{view:"label",label:this._("Report")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:10},{rows:[{template:this._("Report"),type:"section"},{name:"id",hidden:!0},{view:"combo",label:this._("Project"),name:"projectId",localId:"projectCombo",required:!0,options:this.getParentView().getProjectOptions()},{view:"text",label:this._("Name"),name:"name",required:!0,invalidMessage:"Name field is requiresd!"},{view:"text",label:this._("Description"),name:"dsc"},{view:"text",label:this._("No"),name:"no"},{view:"combo",label:this._("Period"),name:"period",localId:"periodCombo",options:this.getParentView().getPeriodOptions(),required:!0,invalidMessage:"Please, choose a period"},{view:"checkbox",label:this._("Print?"),name:"printFlag",on:{onChange:function(t){t?(e.$$("print-settings").hide(),e.$$("printDayCombo").setValue(),e.$$("print-time").setValue(),e.$$("print-settings").show()):(e.$$("printDayCombo").setValue(),e.$$("print-time").setValue(),e.$$("print-settings").hide())}}}]},{rows:[{template:this._("Report Time"),type:"section"},{view:"combo",label:this._("Report Day"),name:"reportDay",localId:"reportDayCombo",options:this.getParentView().getDayOptions()},{view:"datepicker",format:"%H:%i",type:"time",label:this._("Report Hour"),name:"reportTime",stringResult:!0,suggest:{type:"calendar",body:{type:"time",calendarTime:"%H:%i"}}}]},{localId:"print-settings",rows:[{template:this._("Print Time"),type:"section"},{view:"combo",label:this._("Print Day"),name:"printDay",localId:"printDayCombo",options:this.getParentView().getDayOptions()},{localId:"print-time",view:"datepicker",format:"%H:%i",type:"time",label:this._("Print Hour"),name:"printTime",stringResult:!0,suggest:{type:"calendar",body:{type:"time",calendarTime:"%H:%i"}}}]},{}]}},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ReportGroupView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"reportGroupForm",view:"form",css:{border:"none"},elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Report Group")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{name:"id",hidden:!0},{view:"combo",label:this._("Report"),name:"reportId",localId:"reportCombo",readonly:!0,invalidMessage:"Please choose a report"},{view:"text",label:this._("Name"),name:"name",required:!0,invalidMessage:"Name cannot be empty"},{view:"text",label:this._("Group order"),name:"groupOrder",type:"number",required:!0,invalidMessage:"Group order cannot be empty"},{}]}]}},t.prototype.bindTo=function(t,i){var o=this.$$("reportCombo");o.define("options",t),o.refresh(),e.prototype.bindTo.call(this,i)},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ReportGroupsView",function(){return u});var a=i(0),s=i(57),l=i(14),c=i(1),h=i(4),u=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure to continue?")},{rows:[Object(h.CrudToolbar)({title:t("Report Groups"),add:function(){e.add()},edit:function(){e.update()},remove:function(){e.remove()}}),{localId:"reportGroupsGrid",view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"reportId",hidden:!0},{id:"groupOrder",header:t("Order")},{id:"name",header:[{content:"textFilter"},t("Name")],fillspace:!0}],on:{onSelectChange:function(){var t=e.getSelectedReportGroup();t&&e.getParentView().getSubView("reportSubgroupsView").load(t.reportId,t.id)}}}]}},t.prototype.getReportGroupOptions=function(){return this.reportGroups.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getSelectedReportGroup=function(){var e=this.$$("reportGroupsGrid").getSelectedId();if(e)return this.$$("reportGroupsGrid").getItem(e)},t.prototype.add=function(){var e=this.getParentView().getSelected();e?this.showPopup({reportId:e.id}):Object(c.h)("Please, select report")},t.prototype.update=function(){var e=this.getSelectedReportGroup();e&&this.showPopup(e)},t.prototype.remove=function(){var e=this,t=this.getSelectedReportGroup();t&&Object(c.a)(this.confirmOptions,function(){return Object(l.p)(t).then(function(){e.$$("reportGroupsGrid").remove(t.id);var i=e.$$("reportGroupsGrid").getFirstId();i?e.$$("reportGroupsGrid").select(i):e.getParentView().getSubView("reportSubgroupsView").clear(),Object(c.d)(e._("Report group removed"))})})},t.prototype.save=function(e,t){var i=this;e.id?Object(c.a)(this.confirmOptions,function(){return Object(l.u)(e).then(function(){i.$$("reportGroupsGrid").updateItem(e.id,e),Object(c.d)(i._("Report group updated successfully")),i.hidePopup(),i.reportGroups[i.reportGroups.findIndex(function(t){return t.id==e.id})]=e})}):Object(c.a)(this.confirmOptions,function(){return Object(l.b)(e).then(function(e){var o=e.json();o.reportId=i.reportId;var r=i.$$("reportGroupsGrid").add(o);i.reportGroups.push(o),i.$$("reportGroupsGrid").select(r),i.$$("reportGroupsGrid").showItem(r),Object(c.d)(i._("A new Report group added")),t||i.hidePopup()})})},t.prototype.load=function(e){var t=this;this.clear(),this.reportId=e,Object(l.h)(e).then(function(e){t.reportGroups=e.json(),t.$$("reportGroupsGrid").parse(t.reportGroups);var i=t.$$("reportGroupsGrid").getFirstId();i&&t.$$("reportGroupsGrid").select(i)})},t.prototype.clear=function(){this.reportId=null,this.$$("reportGroupsGrid").clearAll(),this.getParentView().getSubView("reportSubgroupsView").clear()},t.prototype.getGrid=function(){return this.$$("reportGroupsGrid")},t.prototype.showPopup=function(e){var t=this.getPopup();t.bindTo(this.getParentView().getReportOptions(),e),t.show()},t.prototype.hidePopup=function(){this.getPopup().hide()},t.prototype.getPopup=function(){return this.reportGroupPopup||(this.reportGroupPopup=this.ui(s.ReportGroupView)),this.reportGroupPopup},t.prototype.ready=function(){},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ReportSubgroupView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"reportSubgroupForm",view:"form",css:{border:"none"},elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Report Group")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{name:"id",hidden:!0},{view:"combo",label:this._("Group"),name:"groupId",localId:"groupCombo",readonly:!0,invalidMessage:"Please choose a report"},{view:"text",label:this._("Name"),name:"name",required:!0,invalidMessage:"Name cannot be empty"},{view:"text",label:this._("Subgroup order"),name:"subgroupOrder",type:"number",required:!0,invalidMessage:"Group order cannot be empty"},{}]}]}},t.prototype.bindTo=function(t,i){var o=this.$$("groupCombo");o.define("options",t),o.refresh(),e.prototype.bindTo.call(this,i)},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ReportSubgroupsView",function(){return d});var a=i(0),s=i(59),l=i(61),c=i(14),h=i(1),u=i(4),d=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure to continue?")},{cols:[{gravity:.5,rows:[Object(u.CrudToolbar)({title:t("Report Subgroups"),add:function(){e.add()},edit:function(){e.update()},remove:function(){e.remove()}}),{localId:"reportSubgroupsGrid",view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"groupId",hidden:!0},{id:"subgroupOrder",header:t("Order")},{id:"name",header:[{content:"textFilter"},t("Name")],fillspace:!0}],on:{onSelectChange:function(){var t=e.getSelectedReportSubgroup();t&&e.getSubView("reportVariablesView").load(e.reportId,t)}}}]},{view:"resizer"},{$subview:l.ReportVariablesView,name:"reportVariablesView"}]}},t.prototype.getReportSubgroupOptions=function(){return this.reportSubgroups.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getSelectedReportSubgroup=function(){var e=this.$$("reportSubgroupsGrid").getSelectedId();if(e)return this.$$("reportSubgroupsGrid").getItem(e)},t.prototype.add=function(){this.groupId?this.showPopup({}):Object(h.h)("Please, select group")},t.prototype.update=function(){var e=this.getSelectedReportSubgroup();e&&this.showPopup(e)},t.prototype.remove=function(){var e=this,t=this.getSelectedReportSubgroup();t&&Object(h.a)(this.confirmOptions,function(){return Object(c.q)(e.reportId,t).then(function(){e.$$("reportSubgroupsGrid").remove(t.id);var i=e.$$("reportSubgroupsGrid").getFirstId();i?e.$$("reportSubgroupsGrid").select(i):e.getSubView("reportVariablesView").clear(),Object(h.d)(e._("Report subgroup removed"))})})},t.prototype.save=function(e,t){var i=this;e.id?Object(h.a)(this.confirmOptions,function(){return Object(c.v)(i.reportId,e).then(function(){i.$$("reportSubgroupsGrid").updateItem(e.id,e),Object(h.d)(i._("Report subgroup updated successfully")),i.hidePopup(),i.reportSubgroups[i.reportSubgroups.findIndex(function(t){return t.id==e.id})]=e})}):Object(h.a)(this.confirmOptions,function(){return Object(c.c)(i.reportId,e).then(function(e){var o=e.json(),r=i.$$("reportSubgroupsGrid").add(o);i.reportSubgroups.push(o),i.$$("reportSubgroupsGrid").select(r),i.$$("reportSubgroupsGrid").showItem(r),Object(h.d)(i._("A new Report subgroup added")),t||i.hidePopup()})})},t.prototype.load=function(e,t){var i=this;this.clear(),this.reportId=e,this.groupId=t,Object(c.j)(e,t).then(function(e){i.reportSubgroups=e.json(),i.$$("reportSubgroupsGrid").parse(i.reportSubgroups);var t=i.$$("reportSubgroupsGrid").getFirstId();t&&i.$$("reportSubgroupsGrid").select(t)})},t.prototype.clear=function(){this.reportId=null,this.$$("reportSubgroupsGrid").clearAll(),this.getSubView("reportVariablesView").clear()},t.prototype.getGrid=function(){return this.$$("reportSubgroupsGrid")},t.prototype.showPopup=function(e){var t=this.getPopup();e.groupId=this.groupId,t.bindTo(this.getParentView().getReportGroupOptions(),e),t.show()},t.prototype.hidePopup=function(){this.getPopup().hide()},t.prototype.getPopup=function(){return this.reportSubgroupPopup||(this.reportSubgroupPopup=this.ui(s.ReportSubgroupView)),this.reportSubgroupPopup},t.prototype.ready=function(){},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ReportVariablesView",function(){return d});var a=i(0),s=i(62),l=i(14),c=i(6),h=i(1),u=i(4),d=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure to continue?")},{cols:[{rows:[Object(u.CrudToolbar)({title:t("Report Variables"),add:function(){e.add()},edit:function(){e.update()},remove:function(){e.remove()}}),{localId:"reportVariablesGrid",view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"subgroupId",hidden:!0},{id:"variableOrder",header:t("Order")},{id:"name",header:[{content:"textFilter"},t("Name")],fillspace:!0},{id:"calcType",header:t("Calculation type")},{id:"variableId",header:t("Variable")},{id:"totalVariableId",header:t("Total Variable")},{id:"deviationVariableId",header:t("Deviation Variable")}]}]}]}},t.prototype.replaceGrid=function(){var e=this;Object(c.o)().then(function(t){e.variables=t.json();var i=e.getVariableOptions(),o={localId:"reportVariablesGrid",view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"subgroupId",hidden:!0},{id:"variableOrder",header:e._("Order")},{id:"name",header:[{content:"textFilter"},e._("Name")],fillspace:!0},{id:"calcType",header:e._("Calculation type")},{id:"variableId",header:e._("Variable"),collection:i},{id:"totalVariableId",header:e._("Total Variable"),collection:i},{id:"deviationVariableId",header:e._("Deviation Variable"),collection:i}]};webix.ui(o,e.$$("reportVariablesGrid"))})},t.prototype.getReportVariableOptions=function(){return this.reportVariables.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getVariableOptions=function(){return this.variables.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getCalculationTypeOptions=function(){return l.e.map(function(e){return{id:e,value:e}})},t.prototype.getSelectedReportVariable=function(){var e=this.$$("reportVariablesGrid").getSelectedId();if(e)return this.$$("reportVariablesGrid").getItem(e)},t.prototype.add=function(){this.getParentView().getSelectedReportSubgroup()?this.showPopup({}):Object(h.h)("Please, select subgroup")},t.prototype.update=function(){var e=this.getSelectedReportVariable();e&&this.showPopup(e)},t.prototype.remove=function(){var e=this,t=this.getSelectedReportVariable();t&&Object(h.a)(this.confirmOptions,function(){return Object(l.r)(e.reportId,e.subgroup.groupId,t).then(function(){e.$$("reportVariablesGrid").remove(t.id);var i=e.$$("reportVariablesGrid").getFirstId();i&&e.$$("reportVariablesGrid").select(i),Object(h.d)(e._("Report variable removed"))})})},t.prototype.save=function(e,t){var i=this;e.id?Object(h.a)(this.confirmOptions,function(){return Object(l.w)(i.reportId,i.subgroup.groupId,e).then(function(){i.$$("reportVariablesGrid").updateItem(e.id,e),Object(h.d)(i._("Report variable updated successfully")),i.hidePopup()})}):Object(h.a)(this.confirmOptions,function(){return Object(l.d)(i.reportId,i.subgroup.groupId,e).then(function(e){var o=e.json(),r=i.$$("reportVariablesGrid").add(o);i.$$("reportVariablesGrid").select(r),i.$$("reportVariablesGrid").showItem(r),Object(h.d)(i._("A new Report variable added")),t||i.hidePopup()})})},t.prototype.getGrid=function(){return this.$$("reportVariablesGrid")},t.prototype.showPopup=function(e){var t=this.getPopup();e.subgroupId=this.subgroup.id,t.bindTo(this.getParentView().getReportSubgroupOptions(),e),t.show()},t.prototype.hidePopup=function(){this.getPopup().hide()},t.prototype.getPopup=function(){return this.reportVariablePopup||(this.reportVariablePopup=this.ui(s.ReportVariableView)),this.reportVariablePopup},t.prototype.load=function(e,t){var i=this;this.clear(),this.reportId=e,this.subgroup=t,Object(l.k)(e,t.groupId,t.id).then(function(e){i.reportVariables=e.json(),i.$$("reportVariablesGrid").parse(i.reportVariables);var t=i.$$("reportVariablesGrid").getFirstId();t&&i.$$("reportVariablesGrid").select(t)})},t.prototype.clear=function(){this.reportId=null,this.$$("reportVariablesGrid").clearAll()},t.prototype.ready=function(){this.replaceGrid()},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ReportVariableView",function(){return u});var a=i(2),s=i(3),l=i(9),c=i(8),h=i(6),u=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"reportVariableForm",view:"form",css:{border:"none"},width:600,elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Report Variable")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{name:"id",hidden:!0},{view:"combo",label:this._("Subgroup"),name:"subgroupId",localId:"subgroupCombo",readonly:!0,invalidMessage:"Please choose a subgroup"},{view:"text",label:this._("Name"),name:"name",required:!0,invalidMessage:"Name cannot be empty"},{view:"text",label:this._("Variable order"),name:"variableOrder",required:!0,invalidMessage:"Variable order cannot be empty"},{view:"combo",label:this._("Calculation type"),name:"calcType",options:this.getParentView().getCalculationTypeOptions(),required:!0,invalidMessage:"Please, choose calculation type"},{template:this._("Variables"),type:"section"},{cols:[{view:"combo",label:this._("Variable"),name:"variableId",localId:"rVariable",readonly:!0,required:!0,invalidMessage:"Please, choose variable",options:this.getParentView().getVariableOptions()},{view:"icon",icon:"flash",on:{onItemClick:function(){e.showPopup(e.$$("rVariable"))}}}]},{cols:[{view:"combo",label:this._("Total"),name:"totalVariableId",localId:"rTotal",readonly:!0,options:this.getParentView().getVariableOptions()},{view:"icon",icon:"flash",on:{onItemClick:function(){e.showPopup(e.$$("rTotal"))}}}]},{cols:[{view:"combo",label:this._("Deviation"),name:"deviationVariableId",localId:"rDeviation",readonly:!0,options:this.getParentView().getVariableOptions()},{view:"icon",icon:"flash",on:{onItemClick:function(){e.showPopup(e.$$("rDeviation"))}}}]},{}]}]}},t.prototype.showPopup=function(e){var t=this,i={view:"popup",padding:0,position:"center",id:"variablePicker",body:{width:800,localId:"varPicker",view:"form",elementsConfig:{labelWidth:100},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Variable Picker")},{},{view:"icon",icon:"window-close",click:function(){webix.$$("variablePicker").close()}}]},{height:10},{margin:20,cols:[{rows:[{height:20},{view:"combo",label:this._("Project"),name:"projectId",localId:"projectCombo",options:this.projects.map(function(e){return{id:e.id,value:e.name}}),on:{onChange:function(e){t.projectId=e,Object(l.d)(e).then(function(e){t.connections=e.json(),webix.$$("connectionCombo").define("options",t.connections.map(function(e){return{id:e.id,value:e.name}})),webix.$$("connectionCombo").refresh()})}}},{height:30},{view:"combo",label:this._("Connection"),name:"connectionId",id:"connectionCombo",on:{onChange:function(e){t.connectionId=e,Object(c.h)(e).then(function(e){t.devices=e.json(),webix.$$("deviceCombo").define("options",t.devices.map(function(e){return{id:e.id,value:e.name}})),webix.$$("deviceCombo").refresh()})}}},{height:30},{view:"combo",label:this._("Device"),name:"deviceId",id:"deviceCombo",on:{onChange:function(e){Object(c.i)(t.connectionId,e).then(function(e){t.frames=e.json(),webix.$$("frameCombo").define("options",t.frames.map(function(e){return{id:e.id,value:e.name}})),webix.$$("frameCombo").refresh()})}}},{height:30},{view:"combo",label:this._("Frame"),name:"frameId",id:"frameCombo",on:{onChange:function(e){Object(h.q)(t.projectId).then(function(i){t.variables=i.json().filter(function(t){return t.frameId==e}),webix.$$("varList").clearAll(),webix.$$("varList").parse(t.variables)})}}},{height:20}]},{rows:[{view:"search",id:"var-search",placeholder:this._("Search"),on:{onTimedKeyPress:function(){webix.$$("varList").filter("#name#",webix.$$("var-search").getValue())}}},{view:"list",id:"varList",data:[],template:"#name#",select:!0,on:{onSelectChange:function(t){var i=webix.$$("varList").getSelectedItem();webix.$$("selected-variable").setValue(i.name),e.setValue(i.id)}}}]}]},{height:10},{view:"text",id:"selected-variable",label:"Selected Variable",labelAlign:"left",readonly:!0},{height:10},{cols:[{},{view:"button",type:"danger",width:100,align:"right",label:this._("Cancel"),click:function(){e.setValue(""),webix.$$("variablePicker").close()}},{view:"button",type:"form",width:100,align:"right",label:this._("Ok"),click:function(){null==webix.$$("varList").getSelectedItem()?webix.message({type:"error",text:t._("Please, select a variable")}):webix.$$("variablePicker").close()}}]}]}]}};this.ui(i).show()},t.prototype.bindTo=function(t,i){var o=this.$$("subgroupCombo");o.define("options",t),o.refresh(),e.prototype.bindTo.call(this,i)},t.prototype.init=function(){var e=this;Object(s.e)().then(function(t){e.projects=t.json()})},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ScriptView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"scriptForm",position:function(e){e.width=800,e.left=e.maxWidth-e.width,e.top=0,e.height=e.maxHeight},view:"form",css:{border:"none"},elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Script")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{rows:[{template:this._("Script"),type:"section"},{name:"id",hidden:!0},{view:"combo",label:this._("Project"),name:"projectId",localId:"projectCombo",required:!0,options:this.getParentView().getProjectOptions()},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"text",label:this._("Period"),name:"period",type:"number",required:!0},{view:"checkbox",label:this._("Log"),name:"log",required:!0}]},{rows:[{template:this._("Code"),type:"section"},{view:"textarea",localId:"script-code",label:this._("Code"),labelPosition:"top",name:"code",hidden:!0},{localId:"script-editor",view:"ace-editor",theme:"monokai-light"}]}]}]}},t.prototype.save=function(t){this.$$("script-code").setValue(this.$$("script-editor").getValue()),e.prototype.save.call(this,t)},t.prototype.bindTo=function(t){e.prototype.bindTo.call(this,t),this.$$("script-editor").setValue(t.code)},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"SettingsView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;return this._=this.app.getService("locale")._,webix.protoUI({name:"myProperty"},webix.ui.property,webix.ValidateData),{view:"popup",position:"center",body:{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Settings")},{},{view:"icon",icon:"window-close",click:function(){e.hide()}}]},{view:"myProperty",id:"propertySettings",width:400,height:300,nameWidth:200,elements:[{label:"Refresh Periods",type:"label"},{label:"Control Panel",type:"text",id:"cPeriod"},{label:"Gas Metering",type:"text",id:"gmPeriod"},{label:"Gas Properties",type:"text",id:"gpPeriod"},{label:"Network",type:"text",id:"nPeriod"}],rules:{cPeriod:function(e){return e>=1e3},gmPeriod:webix.rules.isNumber,gpPeriod:webix.rules.isNumber,nPeriod:webix.rules.isNumber},on:{onValidationError:function(t,i,o){webix.message({type:"error",text:e._("Form data is invalid")}),webix.html.addCss(e.$$("propertySettings").getItemNode(t),{"border-color":"red"})}}},{cols:[{},{view:"button",width:100,align:"left",label:this._("Cancel"),click:function(){return e.cancel()}},{view:"button",type:"form",width:100,align:"right",label:this._("Save"),click:function(){return e.save()}}]}]}}},t.prototype.bindTo=function(e){this.$$("propertySettings").setValues(e)},t.prototype.show=function(){this.getRoot().show(),this.bindTo(this.getSettings())},t.prototype.hide=function(){this.getRoot().hide()},t.prototype.cancel=function(){this.hide()},t.prototype.getSettings=function(){var e=webix.storage.local.get("inscadaSettings");return e||(e=this.getDefaultSettings()),e},t.prototype.getDefaultSettings=function(){return{cPeriod:3e3,gmPeriod:3e3,gpPeriod:3e3,nPeriod:3e3}},t.prototype.save=function(){if(this.$$("propertySettings").editStop(),this.$$("propertySettings").validate()){var e=this.$$("propertySettings").getValues();webix.storage.local.put("inscadaSettings",e),this.hide()}},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"TrendView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"trendForm",view:"form",borderless:!0,elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Trend")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{template:this._("Trend"),type:"section"},{name:"id",hidden:!0},{view:"combo",label:this._("Project"),name:"projectId",localId:"projectCombo",required:!0,options:this.getParentView().getProjectOptions()},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"text",label:this._("Period"),name:"period",required:!0},{}]}]}},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"TrendTagView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"trendTagForm",view:"form",borderless:!0,width:400,isDetail:!0,elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Trend Tag")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{template:this._("Trend Tag"),type:"section"},{id:"id",hidden:!0},{view:"combo",label:this._("Trend"),name:"trendId",localId:"trendCombo",readonly:!0,required:!0,options:this.getParentView().getSelectedTrend(),on:{onChange:function(t){e.refreshTrendCombo()}}},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"checkbox",label:this._("Status"),name:"status",required:!0},{template:this._("Graph Details"),type:"section"},{view:"combo",label:this._("Variable"),name:"variableId",localId:"variableCombo",required:!0},{view:"text",label:this._("Min. Scale"),name:"minScale",required:!0},{view:"text",label:this._("Max. Scale"),name:"maxScale",required:!0},{view:"colorpicker",label:this._("Color"),name:"color"},{view:"text",label:this._("Thickness"),name:"thickness"},{}]}]}},t.prototype.updateVariableOptions=function(){this.$$("variableCombo").define("options",this.getParentView().getVariableOptions()),this.$$("variableCombo").refresh()},t.prototype.refreshTrendCombo=function(){this.$$("trendCombo").define("options",this.getParentView().getSelectedTrendOption()),this.$$("trendCombo").refresh()},t.prototype.bindTo=function(t,i){i.trendId=t.id,this.updateVariableOptions(),e.prototype.bindTo.call(this,i)},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ResetPasswordView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"resetPasswordForm",view:"form",elementsConfig:{labelWidth:150},elements:[{view:"toolbar",cols:[{view:"label",label:this._("Reset Password")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:10},{rows:[{template:this._("Password Info"),type:"section"},{view:"text",label:this._("Password"),name:"password1",type:"password",localId:"password1",required:!0},{view:"text",label:this._("Repeat Password"),name:"password2",type:"password",localId:"password2",required:!0}]},{height:10},{view:"button",type:"form",width:125,align:"right",label:this._("Save"),click:function(){return e.save()}}]}},t.prototype.validate=function(){return e.prototype.validate.call(this)&&this.validatePassword()},t.prototype.validatePassword=function(){return this.$$("password1").getValue()===this.$$("password2").getValue()||(webix.message({type:"error",text:this._("Password is not the same")}),!1)},t.prototype.save=function(){this.validate()&&this.getParentView().resetPassword()},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"RoleView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"roleForm",view:"form",isDetail:!0,elementsConfig:{labelWidth:100},elements:[{view:"toolbar",cols:[{view:"label",label:this._("Role")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{id:"id",hidden:!0},{view:"combo",label:this._("Role"),name:"role",localId:"roleCombo",required:!0,options:this.getParentView().getRoleOptions()},{height:10},{view:"button",type:"form",width:125,align:"right",label:this._("Save"),click:function(){return e.save()}}]}},t.prototype.bindTo=function(t,i){e.prototype.bindTo.call(this,i)},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"UserView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"userForm",view:"form",elementsConfig:{labelWidth:125},elements:[{view:"toolbar",cols:[{view:"label",label:this._("User")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{localId:"user-form-elements"},{height:10},{view:"button",type:"form",width:125,align:"right",label:this._("Save"),click:function(){return e.save()}}]}},t.prototype.bindTo=function(e){e.id?webix.ui({localId:"user-form-elements",rows:[{view:"text",label:this._("Username"),name:"username",required:!0,labelWidth:125,readonly:!0},{view:"text",label:this._("Password"),name:"password",type:"password",hidden:!0,labelWidth:125},{view:"text",label:this._("Email Address"),name:"email",placeholder:"user@example.com",required:!0,labelWidth:125}]},this.$$("user-form-elements")):webix.ui({localId:"user-form-elements",rows:[{view:"text",label:this._("Username"),name:"username",required:!0,labelWidth:125},{view:"text",label:this._("Password"),name:"password",type:"password",required:!0,labelWidth:125},{view:"text",label:this._("Email Address"),name:"email",placeholder:"user@example.com",required:!0,labelWidth:125}]},this.$$("user-form-elements")),this.getForm().setValues(e)},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(){return Object(u.c)("/users")}function r(e){return Object(u.d)("/users",e)}function n(e){return Object(u.e)("/users/"+e.username,e)}function a(e){return Object(u.b)("/users/"+e.username)}function s(e){return Object(u.c)("/users/"+e+"/roles")}function l(e,t){return Object(u.d)("/users/"+e.username+"/roles",t)}function c(e,t){return Object(u.e)("/users/"+e.username+"/roles/"+t.id,t)}function h(e,t){return Object(u.b)("/users/"+e.username+"/roles/"+t.id)}i.d(t,"a",function(){return d}),t.e=o,t.b=r,t.h=n,t.f=a,t.d=s,t.c=l,t.i=c,t.g=h;var u=i(5),d=["User","Admin"]},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"VariableSearchView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;return this._=this.app.getService("locale")._,{view:"popup",padding:0,position:function(e){e.width=600,e.left=e.maxWidth-e.width,e.top=0,e.height=e.maxHeight},body:{localId:"variable-search-form",view:"form",elementsConfig:{labelWidth:100},elements:[{view:"toolbar",cols:[{view:"label",label:this._("Search")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{localId:"formProjectId",view:"combo",label:this._("Project"),options:this.getParentView().getProjectOptions(),on:{onchange:function(t){t&&e.reloadConnections(t)}}},{localId:"formConnectionId",view:"combo",label:this._("Connection"),on:{onchange:function(t){t&&e.reloadDevices(t)}}},{localId:"formDeviceId",view:"combo",label:this._("Device"),on:{onchange:function(t){t&&e.reloadFrames(t)}}},{localId:"formFrameId",view:"combo",label:this._("Frame")},{localId:"formName",view:"text",label:this._("Name")},{localId:"formType",view:"combo",label:this._("Type"),options:this.getParentView().getVariableTypeOptions()},{height:10},{view:"button",type:"form",width:150,align:"right",label:this._("Search"),click:function(){return e.search()}}]}}},t.prototype.reloadConnections=function(e){var t=this;this.projectId=e,this.getParentView().getConnectionOptions(e,function(e){t.$$("formConnectionId").define("options",e),t.$$("formConnectionId").refresh()})},t.prototype.reloadDevices=function(e){var t=this;this.connectionId=e,this.getParentView().getDeviceOptions(e,function(e){t.$$("formDeviceId").define("options",e),t.$$("formDeviceId").refresh()})},t.prototype.reloadFrames=function(e){var t=this;this.deviceId=e,this.getParentView().getFrameOptions(this.connectionId,e,function(e){t.$$("formFrameId").define("options",e),t.$$("formFrameId").refresh()})},t.prototype.search=function(){var e={projectId:this.$$("formProjectId").getValue(),connectionId:this.$$("formConnectionId").getValue(),deviceId:this.$$("formDeviceId").getValue(),frameId:this.$$("formFrameId").getValue(),name:this.$$("formName").getValue(),type:this.$$("formType").getValue()};this.getParentView().search(e)},t.prototype.show=function(){this.getRoot().show()},t.prototype.hide=function(){this.getRoot().hide()},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"VariableView",function(){return l});var a=i(2),s=i(16),l=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"variableForm",view:"form",css:{border:"none"},withoutButtons:!0,width:800,scroll:!0,elementsConfig:{labelWidth:120},elements:[{view:"toolbar",cols:[{view:"label",label:this._("Variable")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{rows:[{margin:20,cols:[{rows:[{template:this._("Variable"),type:"section"},{name:"id",hidden:!0},{view:"combo",label:this._("Project"),name:"projectId",localId:"projectCombo",options:this.getParentView().getProjectOptions(),on:{onChange:function(t){t&&!e.updateFlag&&e.reloadConnections(t)}}},{view:"combo",label:this._("Connection"),name:"connectionId",localId:"connectionCombo",on:{onChange:function(t){t&&!e.updateFlag&&e.reloadDevices(t)}}},{view:"combo",label:this._("Device"),name:"deviceId",localId:"deviceCombo",on:{onChange:function(t){t&&!e.updateFlag&&e.reloadFrames(t),e.showMoreProperties(t)}}},{view:"combo",label:this._("Frame"),name:"frameId",localId:"frameCombo",on:{onChange:function(t){e.isDnp3Slave&&e.setVariationOptions(t)}}}]},{rows:[{template:this._("Properties"),type:"section"},{view:"text",label:this._("Code"),name:"code"},{view:"text",label:this._("Start Address"),name:"startAddress",required:!0,type:"number"},{view:"combo",label:this._("Type"),name:"type",localId:"typeCombo",options:this.getParentView().getVariableTypeOptions()},{view:"combo",label:this._("Unit"),name:"unit",localId:"unitCombo",options:this.getParentView().getVariableUnitOptions()},{view:"combo",label:this._("Point Class"),name:"pointClass",localId:"pointClass",options:this.getParentView().getVariablePointClassOptions()}]}]},{height:15},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"combo",label:this._("Static Variation"),name:"staticVariation",localId:"stVariation",hidden:!0,width:400},{view:"combo",label:this._("Event Variation"),name:"eventVariation",localId:"evVariation",hidden:!0,width:400},{view:"text",label:this._("Dead Band"),name:"deadband",localId:"deadBand",hidden:!0,width:400},{margin:20,cols:[{rows:[{template:this._("Scale"),type:"section"},{view:"text",label:this._("Decimal Point"),name:"scale",type:"number"},{view:"text",label:this._("Raw zero scale"),name:"rawZeroScale",type:"number"},{view:"text",label:this._("Raw full scale"),name:"rawFullScale",type:"number"},{view:"text",label:this._("Eng zero scale"),name:"engZeroScale",type:"number"},{view:"text",label:this._("Eng full scale"),name:"engFullScale",type:"number"},{template:this._("Expression"),type:"section"},{view:"combo",label:this._("Expression Type"),name:"valueExpressionType",localId:"exprTypeCombo",options:this.getParentView().getVariableExprTypeOptions(),on:{onChange:function(t){e.changeExprType(t)}}},{view:"combo",label:this._("Expressions"),name:"valueExpressionId",localId:"exprId",options:this.getParentView().getExpressionOptions(),hidden:!0}]},{rows:[{template:this._("Log"),type:"section"},{view:"combo",label:this._("Log Type"),name:"logType",localId:"logTypeCombo",options:this.getParentView().getVariableLogTypeOptions(),on:{onChange:function(t){e.changeLogExprType(t)}}},{view:"combo",label:this._("Expressions"),name:"logExpressionId",localId:"logExprId",options:this.getParentView().getExpressionOptions(),hidden:!0},{view:"text",label:this._("Log Period"),name:"logPeriod",localId:"logPeriod",type:"number"},{view:"text",label:this._("Log Threshold"),name:"logThreshold",localId:"logThreshold",type:"number"},{view:"checkbox",label:this._("Is Active?"),name:"isActive",localId:"isActive",value:!0},{view:"checkbox",label:this._("Is Byte Swap?"),name:"byteSwapFlag",localId:"byteSwap"},{view:"checkbox",label:this._("Is Word Swap?"),name:"wordSwapFlag",localId:"wordSwap"}]}]},{cols:[{rows:[{localId:"lineId",template:this._("Value Expression"),type:"section",hidden:!0},{view:"textarea",localId:"variable-code",label:this._("Value Expression"),labelAlign:"left",labelPosition:"top",name:"valueExpressionCode",hidden:!0},{localId:"variable-editor",view:"ace-editor",theme:"monokai-light",hidden:!0,height:210}]},{rows:[{localId:"lineIdLog",template:this._("Log Expression"),type:"section",hidden:!0},{view:"textarea",localId:"log-code",label:this._("Log Expression"),labelAlign:"left",labelPosition:"top",name:"logExpressionCode",hidden:!0},{localId:"variable-editor-log",view:"ace-editor",theme:"monokai-light",hidden:!0,height:210}]}]}]},{localId:"form-submit-buttons"}]}},t.prototype.showMoreProperties=function(e){if(e){var t=this.getParentView().getDeviceById(e);"DNP3 Slave"==t.protocol?(this.$$("stVariation").show(),this.$$("evVariation").show(),this.$$("deadBand").show(),this.$$("pointClass").show(),this.isDnp3Slave=!0):(this.$$("deadBand").hide(),this.$$("stVariation").hide(),this.$$("evVariation").hide(),this.$$("pointClass").hide(),this.isDnp3Slave=!1),"DNP3 Slave"==t.protocol||"DNP3"==t.protocol?(this.$$("byteSwap").hide(),this.$$("wordSwap").hide(),this.$$("typeCombo").hide()):(this.$$("byteSwap").show(),this.$$("wordSwap").show(),this.$$("typeCombo").show())}},t.prototype.setVariationOptions=function(e){switch(this.getParentView().getFrameById(e).type){case"Frozen Counter":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.n)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.g));break;case"Binary Input":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.k)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.d));break;case"Double Input":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.m)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.f));break;case"Binary Output":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.j)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.c));break;case"Counter":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.l)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.e));break;case"Analog Input":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.i)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.b));break;case"Analog Output":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.h)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.a))}},t.prototype.bindTo=function(e){var t=this;this.updateFlag=!1,e.id?(webix.ui({localId:"form-submit-buttons",rows:[{},{cols:[{},{view:"button",type:"form",width:200,align:"right",label:this._("Save"),click:function(){t.setExpressionValue(),t.save()}}]}]},this.$$("form-submit-buttons")),this.updateFlag=!0,this.getParentView().getOptions(e).then(function(i){if(3==i.length){t.$$("connectionCombo").define("options",i[0].json().map(function(e){return{id:e.id,value:e.name}})),t.$$("deviceCombo").define("options",i[1].json().map(function(e){return{id:e.id,value:e.name}})),t.$$("frameCombo").define("options",i[2].json().map(function(e){return{id:e.id,value:e.name}}));try{t.getForm().setValues(e)}catch(i){t.getForm().setValues(e)}}else t.getForm().hide();t.updateFlag=!1})):(webix.ui({localId:"form-submit-buttons",rows:[{},{cols:[{view:"button",width:150,align:"left",label:this._("Save & Continue"),click:function(){t.setExpressionValue(),t.save(!0)}},{},{view:"button",type:"form",width:200,align:"right",label:this._("Save"),click:function(){t.setExpressionValue(),t.save()}}]}]},this.$$("form-submit-buttons")),this.getForm().setValues(e),this.$$("isActive").setValue(!0)),this.$$("variable-editor").setValue(e.valueExpressionCode),this.$$("variable-editor-log").setValue(e.logExpressionCode)},t.prototype.setExpressionValue=function(){switch(this.$$("exprTypeCombo").getValue()){case"CUSTOM":this.$$("variable-code").setValue(this.$$("variable-editor").getValue()),this.$$("exprId").setValue("");break;case"NONE":this.$$("variable-code").setValue(""),this.$$("exprId").setValue("");break;case"EXPRESSION":this.$$("variable-code").setValue("")}switch(this.$$("logTypeCombo").getValue()){case"Expression":break;case"Custom":this.$$("log-code").setValue(this.$$("variable-editor-log").getValue()),this.$$("logExprId").setValue("");break;default:this.$$("logExprId").setValue("")}},t.prototype.changeExprType=function(e){switch(this.$$("variable-editor").hide(),this.$$("exprId").hide(),this.$$("lineId").hide(),e){case"NONE":this.$$("variable-editor").hide(),this.$$("exprId").hide();break;case"CUSTOM":this.$$("variable-editor").show(),this.$$("exprId").hide(),this.$$("lineId").show();break;case"EXPRESSION":this.$$("variable-editor").hide(),this.$$("exprId").show()}},t.prototype.changeLogExprType=function(e){switch(this.$$("variable-editor-log").hide(),this.$$("lineIdLog").hide(),e){case"Expression":this.$$("logExprId").show(),this.$$("logPeriod").hide(),this.$$("logThreshold").hide();break;case"Custom":this.$$("variable-editor-log").show(),this.$$("lineIdLog").show(),this.$$("logExprId").hide(),this.$$("logPeriod").hide(),this.$$("logThreshold").hide();break;case"Periodically":this.$$("logExprId").hide(),this.$$("logPeriod").show(),this.$$("logThreshold").hide();break;case"Threshold":this.$$("logExprId").hide(),this.$$("logPeriod").hide(),this.$$("logThreshold").show();break;default:this.$$("logExprId").hide(),this.$$("logPeriod").hide(),this.$$("logThreshold").hide()}},t.prototype.reloadConnections=function(e){var t=this;this.projectId=e,this.getParentView().getConnectionOptions(e,function(e){t.$$("connectionCombo").define("options",e),t.$$("connectionCombo").refresh()})},t.prototype.reloadDevices=function(e){var t=this;this.connectionId=e,this.getParentView().getDeviceOptions(e,function(e){t.$$("deviceCombo").define("options",e),t.$$("deviceCombo").refresh()})},t.prototype.reloadFrames=function(e){var t=this;this.deviceId=e,this.getParentView().getFrameOptions(this.connectionId,e,function(e){t.$$("frameCombo").define("options",e),t.$$("frameCombo").refresh()})},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"DeviceView",function(){return s});var a=i(2),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"deviceForm",view:"form",css:{border:"none"},elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Device")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{name:"id",hidden:!0},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"combo",label:this._("Protocol"),name:"protocol",required:!0,options:this.getParentView().getProtocolOptions(),on:{onChange:function(t){e.showProperties(t)}}},{view:"text",label:this._("Station Address"),name:"stationAddress",required:!0},{view:"text",label:this._("Remote Address"),name:"remoteAddress",localId:"rmAddress",type:"number",hidden:!0},{view:"text",label:this._("Integrity Scan Time"),name:"integrityScanTime",localId:"intScanTime",type:"number",hidden:!0},{view:"text",label:this._("Event Scan Time"),name:"eventScanTime",localId:"evScanTime",type:"number",hidden:!0},{view:"checkbox",label:this._("Unsolicated Events Flag"),name:"unsolicitedEventsFlag",localId:"unsEventsFlag",hidden:!0},{view:"text",label:this._("Scan Time"),name:"scanTime",type:"number",localId:"scanTime"},{template:this._("Device Properties"),type:"section"},{view:"combo",label:this._("Device Type"),name:"type",required:!0,options:this.getParentView().getDeviceTypeOptions(),on:{onChange:function(t){e.updateProperties(t)}}},{localId:"device-properties"}]}]}},t.prototype.showProperties=function(e){switch(this.$$("rmAddress").hide(),this.$$("intScanTime").hide(),this.$$("evScanTime").hide(),this.$$("unsEventsFlag").hide(),this.$$("scanTime").show(),e){case"DNP3 Slave":this.$$("rmAddress").show(),this.$$("unsEventsFlag").show();break;case"DNP3":this.$$("rmAddress").show(),this.$$("intScanTime").show(),this.$$("evScanTime").show(),this.$$("unsEventsFlag").show(),this.$$("scanTime").hide()}},t.prototype.updateProperties=function(e){if("FLOWCOMPUTER"==e){var t={localId:"device-properties",rows:[{view:"combo",label:this._("Stream Type"),name:"streamType",labelWidth:125,options:this.getParentView().getStreamTypeOptions()},{view:"text",label:this._("Stream Number"),name:"streamNumber",labelWidth:125,type:"number"},{view:"combo",label:this._("Split Mode"),name:"splitMode",labelWidth:125,options:this.getParentView().getSplitModeOptions()},{view:"text",label:this._("Split C6"),name:"splitModeC6",labelWidth:125,type:"number"},{view:"text",label:this._("Split C7"),name:"splitModeC7",labelWidth:125,type:"number"},{view:"text",label:this._("Split C8"),name:"splitModeC8",labelWidth:125,type:"number"},{view:"text",label:this._("Split C9"),name:"splitModeC9",labelWidth:125,type:"number"},{view:"text",label:this._("Split C10"),name:"splitModeC10",labelWidth:125,type:"number"},{view:"combo",label:this._("Time Register Format"),name:"timeRegisterFormat",labelWidth:150,options:this.getParentView().getTimeRegisterFormatOptions()},{}]};webix.ui(t,this.$$("device-properties"))}else webix.ui({localId:"device-properties"},this.$$("device-properties"))},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"FramesView",function(){return u});var a=i(0),s=i(75),l=i(13),c=i(4),h=i(1),u=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure you want to continue?")},{rows:[Object(c.CrudToolbar)({title:t("Frame Templates"),add:function(){return e.add()},edit:function(){return e.update()},remove:function(){return e.remove()}}),{localId:"framesGrid",title:"Frames",view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"deviceId",hidden:!0},{id:"name",header:[{content:"textFilter"},this._("Name")],adjust:!0},{id:"dsc",header:[{content:"textFilter"},this._("Description")],adjust:!0},{id:"type",header:this._("Type")},{id:"startAddress",header:this._("Start Address")},{id:"quantity",header:this._("Quantity")},{id:"eventBufferSize",header:this._("Buffer Size")},{id:"isReadable",header:this._("Is Readable?"),template:this.customCheckbox,css:{"text-align":"center"}},{id:"isWritable",header:this._("Is Writable?"),template:this.customCheckbox,css:{"text-align":"center"}}],on:{onSelectChange:function(){var t=e.getSelected();t&&e.getParentView().getSubView("variablesView").load(t)}}}]}},t.prototype.load=function(e){var t=this;this.device=e,this.clear(),Object(l.n)(e.id).then(function(e){t.frames=e.json(),t.getGrid().parse(t.frames)})},t.prototype.getDeviceOptions=function(){return this.getParentView().getDeviceOptions()},t.prototype.getSelectedDeviceItem=function(){return this.getParentView().getSelectedDeviceItem()},t.prototype.getSelectedFrameItem=function(){return this.$$("framesGrid").getSelectedItem()},t.prototype.getFrameOptions=function(){return this.frames.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getFrameTypeOptions=function(){return l.c.map(function(e){return{id:e,value:e}})},t.prototype.getFrameTypeOptionsDNP=function(){return l.d.map(function(e){return{id:e,value:e}})},t.prototype.getVariablePointClassOptions=function(){return l.b.map(function(e){return{id:e,value:e}})},t.prototype.getVariationTypes=function(e){return e.map(function(e){return{id:e,value:e}})},t.prototype.clear=function(){this.getParentView().getSubView("variablesView").clear(),this.getGrid().clearAll()},t.prototype.getSelected=function(){var e=this.getGrid(),t=e.getSelectedId();return t?e.getItem(t):null},t.prototype.add=function(){this.device&&this.showPopup({deviceId:this.device.id})},t.prototype.update=function(){var e=this.getSelected();e&&this.showPopup(e)},t.prototype.save=function(e,t){var i=this;e.id?Object(h.a)(this.confirmOptions,function(){return i.updateItem(e).then(function(){i.getGrid().updateItem(e.id,e),Object(h.d)(i._("Item updated")),i.hidePopup()})}):Object(h.a)(this.confirmOptions,function(){return i.addItem(e).then(function(e){var o=e.json(),r=i.getGrid(),n=r.add(o);r.select(n),r.showItem(n),Object(h.d)(i._("A new item added")),t||i.hidePopup(),i.frames.push(o)})})},t.prototype.remove=function(){var e=this,t=this.getSelected();t&&Object(h.a)(this.confirmOptions,function(){return e.removeItem(t).then(function(){e.getGrid().remove(t.id),e.frames.splice(e.frames.findIndex(function(e){return e.id==t.id}),1),Object(h.d)(e._("Item removed")),e.clear()})})},t.prototype.getGrid=function(){return this.$$("framesGrid")},t.prototype.showPopup=function(e){var t=this.getPopup();t.reloadDevices(this.getDeviceOptions()),t.bindTo(e),t.show()},t.prototype.hidePopup=function(){this.getPopup().hide()},t.prototype.getPopup=function(){return this.framePopup||(this.framePopup=this.ui(s.FrameView)),this.framePopup},t.prototype.addItem=function(e){return Object(l.j)(e)},t.prototype.updateItem=function(e){return Object(l.v)(e)},t.prototype.removeItem=function(e){return Object(l.s)(e)},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"FrameView",function(){return l});var a=i(2),s=i(16),l=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"frameForm",view:"form",css:{border:"none"},elementsConfig:{labelWidth:125},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Frame")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{height:20},{id:"id",hidden:!0},{view:"combo",label:this._("Device"),name:"deviceId",localId:"deviceCombo",readonly:!0,required:!0},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"combo",label:this._("Type"),name:"type",localId:"typeCombo",required:!0,options:this.getParentView().getFrameTypeOptions(),on:{onChange:function(t){e.changeFrameType(t)}}},{view:"text",label:this._("Start Address"),name:"startAddress",required:!0},{view:"text",label:this._("Quantity"),name:"quantity",required:!0},{view:"combo",label:this._("Point Class"),name:"pointClass",localId:"pointClass",options:this.getParentView().getVariablePointClassOptions()},{view:"text",label:this._("Event Buffer Size"),name:"eventBufferSize",localId:"evBufferSize",type:"number",hidden:!0},{view:"combo",label:this._("Static Variation"),name:"staticVariation",localId:"stVariation",hidden:!0},{view:"combo",label:this._("Event Variation"),name:"eventVariation",localId:"evVariation",hidden:!0},{view:"text",label:this._("Dead Band"),name:"deadband",localId:"deadBand",type:"number",hidden:!0},{rows:[{template:this._("Flags"),type:"section"},{view:"checkbox",label:this._("Is Readable?"),name:"isReadable"},{view:"checkbox",label:this._("Is Writable?"),name:"isWritable"}]},{}]}]}},t.prototype.showMoreProperties=function(){var e=this.getParentView().getSelectedDeviceItem();"DNP3 Slave"==e.protocol||"DNP3"==e.protocol?("DNP3 Slave"==e.protocol&&(this.$$("evBufferSize").show(),this.$$("stVariation").show(),this.$$("evVariation").show(),this.$$("pointClass").show()),this.$$("typeCombo").define("options",this.getParentView().getFrameTypeOptionsDNP())):(this.$$("evBufferSize").hide(),this.$$("stVariation").hide(),this.$$("evVariation").hide(),this.$$("pointClass").hide(),this.$$("typeCombo").define("options",this.getParentView().getFrameTypeOptions()))},t.prototype.changeFrameType=function(e){switch(e){case"Frozen Counter":this.$$("deadBand").show(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.n)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.g));break;case"Binary Input":this.$$("deadBand").hide(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.k)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.d));break;case"Double Input":this.$$("deadBand").hide(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.m)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.f));break;case"Binary Output":this.$$("deadBand").hide(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.j)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.c));break;case"Counter":this.$$("deadBand").show(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.l)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.e));break;case"Analog Input":this.$$("deadBand").show(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.i)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.b));break;case"Analog Output":this.$$("deadBand").show(),this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.h)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.a));break;default:this.$$("deadBand").hide()}},t.prototype.bindTo=function(t){this.showMoreProperties(),e.prototype.bindTo.call(this,t)},t.prototype.reloadDevices=function(e){this.$$("deviceCombo").define("options",e),this.$$("deviceCombo").refresh()},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"VariablesView",function(){return p});var a=i(0),s=i(77),l=i(13),c=i(6),h=i(4),u=i(1),d=i(43),p=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure you want to continue?")},Object(d.c)().then(function(t){e.expressions=t.json()}),{rows:[Object(h.CrudToolbar)({title:t("Variable Templates"),add:function(){return e.add()},edit:function(){return e.update()},remove:function(){return e.remove()}}),{localId:"variablesGrid",view:"datatable",select:"row",css:"rows",scroll:"xy",resizeColumn:!0,rowLineHeight:25,rowHeight:25,columns:[{id:"id",hidden:!0},{id:"frameId",hidden:!0},{id:"name",header:[{content:"textFilter"},this._("Name")],adjust:!0},{id:"dsc",header:[{content:"textFilter"},this._("Description")],adjust:!0},{id:"code",header:this._("Code")},{id:"startAddress",header:this._("Start Address"),sort:"int"},{id:"type",header:this._("Type"),collection:this.getVariableTypeOptions()},{id:"date",header:this._("Date"),css:{color:"#27b6c6","font-size":"12"}},{id:"value",header:this._("Value"),css:{color:"#27b6c6","font-weight":"bold"}},{id:"unit",header:this._("Unit")},{id:"logType",header:this._("Log Type")},{id:"byteSwapFlag",header:this._("Byte Swap"),template:this.customCheckbox,css:{"text-align":"center"}},{id:"wordSwapFlag",header:this._("Word Swap"),template:this.customCheckbox,css:{"text-align":"center"}},{id:"isActive",header:this._("Is Active?"),template:this.customCheckbox,css:{"text-align":"center"}},{id:"expressionType",header:this._("Expression Type")}]}]}},t.prototype.load=function(e){var t=this;this.clear(),this.frame=e,Object(l.o)(this.frame).then(function(e){t.variables=e.json(),t.getGrid().parse(t.variables)})},t.prototype.getVariableTypeOptions=function(){return c.d.map(function(e){return{id:e,value:e}})},t.prototype.getVariableUnitOptions=function(){return c.e.map(function(e){return{id:e,value:e}})},t.prototype.getVariableLogTypeOptions=function(){return c.b.map(function(e){return{id:e,value:e}})},t.prototype.getVariableExprTypeOptions=function(){return c.a.map(function(e){return{id:e,value:e}})},t.prototype.getVariablePointClassOptions=function(){return c.c.map(function(e){return{id:e,value:e}})},t.prototype.getVariationTypes=function(e){return e.map(function(e){return{id:e,value:e}})},t.prototype.getExpressionOptions=function(){return this.expressions.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getExpressions=function(){return this.expressions},t.prototype.getExpression=function(e){return this.expressions.filter(function(t){return t.id==e})[0]},t.prototype.clear=function(){this.frame=null,this.getGrid().clearAll()},t.prototype.getSelected=function(){var e=this.getGrid(),t=e.getSelectedId();return t?e.getItem(t):null},t.prototype.add=function(){this.frame&&this.showPopup({frameId:this.frame.id})},t.prototype.update=function(){var e=this.getSelected();e&&this.showPopup(e)},t.prototype.save=function(e,t){var i=this;e.id?Object(u.a)(this.confirmOptions,function(){return i.updateItem(e).then(function(){i.getGrid().updateItem(e.id,e),Object(u.d)(i._("Item updated")),i.hidePopup()})}):Object(u.a)(this.confirmOptions,function(){return i.addItem(e).then(function(e){var o=e.json(),r=i.getGrid(),n=r.add(o);r.select(n),r.showItem(n),Object(u.d)(i._("A new item added")),t||i.hidePopup()})})},t.prototype.remove=function(){var e=this,t=this.getSelected();t&&Object(u.a)(this.confirmOptions,function(){return e.removeItem(t).then(function(){e.getGrid().remove(t.id),Object(u.d)(e._("Item removed"))})})},t.prototype.getGrid=function(){return this.$$("variablesGrid")},t.prototype.getSelectedDeviceItem=function(){return this.getParentView().getSelectedDeviceItem()},t.prototype.getSelectedFrameItem=function(){return this.getParentView().getSelectedFrameItem()},t.prototype.showPopup=function(e){var t=this.getPopup();t.reloadFrames(this.getParentView().getFrameOptions()),t.bindTo(e),t.show()},t.prototype.hidePopup=function(){this.getPopup().hide()},t.prototype.getPopup=function(){return this.variablePopup||(this.variablePopup=this.ui(s.VariableView)),this.variablePopup},t.prototype.addItem=function(e){return Object(l.k)(this.frame,e)},t.prototype.updateItem=function(e){return Object(l.w)(this.frame,e)},t.prototype.removeItem=function(e){return Object(l.t)(this.frame,e)},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"VariableView",function(){return l});var a=i(2),s=i(16),l=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getFormConfig=function(){var e=this;return{localId:"variableForm",view:"form",css:{border:"none"},width:800,scroll:!0,elementsConfig:{labelWidth:120},elements:[{view:"toolbar",cols:[{view:"label",label:this._("Variable")},{},{view:"icon",icon:"window-close",click:function(){return e.hide()}}]},{rows:[{margin:20,cols:[{rows:[{rows:[{template:this._("Variable"),type:"section"},{name:"id",hidden:!0},{view:"combo",label:this._("Frame"),name:"frameId",localId:"frameCombo",readonly:!0,required:!0},{view:"text",label:this._("Name"),name:"name",required:!0},{view:"text",label:this._("Description"),name:"dsc"},{view:"text",label:this._("Code"),name:"code"}]},{rows:[{template:this._("Properties"),type:"section"},{view:"text",label:this._("Start Address"),name:"startAddress",required:!0,type:"number"},{view:"combo",label:this._("Type"),name:"type",localId:"typeCombo",options:this.getParentView().getVariableTypeOptions()},{view:"combo",label:this._("Unit"),name:"unit",localId:"unitCombo",options:this.getParentView().getVariableUnitOptions()},{view:"combo",label:this._("Point Class"),name:"pointClass",localId:"pointClass",options:this.getParentView().getVariablePointClassOptions()},{view:"combo",label:this._("Static Variation"),name:"staticVariation",localId:"stVariation",hidden:!0,width:400},{view:"combo",label:this._("Event Variation"),name:"eventVariation",localId:"evVariation",hidden:!0,width:400},{view:"text",label:this._("Dead Band"),name:"deadband",localId:"deadBand",hidden:!0}]},{rows:[{template:this._("Expression"),type:"section"},{view:"combo",label:this._("Expression Type"),name:"valueExpressionType",localId:"exprTypeCombo",options:this.getParentView().getVariableExprTypeOptions(),on:{onChange:function(t){e.changeExprType(t)}}},{view:"combo",label:this._("Expressions"),name:"valueExpressionId",localId:"exprId",options:this.getParentView().getExpressionOptions(),hidden:!0}]}]},{rows:[{rows:[{template:this._("Scale"),type:"section"},{view:"text",label:this._("Decimal Point"),name:"scale",type:"number"},{view:"text",label:this._("Raw zero scale"),name:"rawZeroScale",type:"number"},{view:"text",label:this._("Raw full scale"),name:"rawFullScale",type:"number"},{view:"text",label:this._("Eng zero scale"),name:"engZeroScale",type:"number"},{view:"text",label:this._("Eng full scale"),name:"engFullScale",type:"number"}]},{rows:[{template:this._("Flags"),type:"section"},{view:"checkbox",label:this._("Is Active?"),name:"isActive"},{view:"checkbox",label:this._("Is Byte Swap?"),name:"byteSwapFlag",localId:"byteSwap"},{view:"checkbox",label:this._("Is Word Swap?"),name:"wordSwapFlag",localId:"wordSwap"}]},{rows:[{template:this._("Log"),type:"section"},{view:"combo",label:this._("Log Type"),name:"logType",localId:"logTypeCombo",options:this.getParentView().getVariableLogTypeOptions(),on:{onChange:function(t){e.changeLogExprType(t)}}},{view:"combo",label:this._("Expressions"),name:"logExpressionId",localId:"logExprId",options:this.getParentView().getExpressionOptions(),hidden:!0},{view:"text",label:this._("Log Period"),name:"logPeriod",localId:"logPeriod",type:"number"},{view:"text",label:this._("Log Threshold"),name:"logThreshold",localId:"logThreshold",type:"number"}]}]}]},{cols:[{rows:[{localId:"lineId",template:this._("Value Expression"),type:"section",hidden:!0},{view:"textarea",localId:"variable-code",label:this._("Value Expression"),labelAlign:"left",labelPosition:"top",name:"valueExpressionCode",hidden:!0},{localId:"variable-editor",view:"ace-editor",theme:"monokai-light",hidden:!0,height:210}]},{rows:[{localId:"lineIdLog",template:this._("Log Expression"),type:"section",hidden:!0},{view:"textarea",localId:"log-code",label:this._("Log Expression"),labelAlign:"left",labelPosition:"top",name:"logExpressionCode",hidden:!0},{localId:"variable-editor-log",view:"ace-editor",theme:"monokai-light",hidden:!0,height:210}]}]}]}]}},t.prototype.save=function(t){this.setExpressionValue(),e.prototype.save.call(this,t)},t.prototype.reloadFrames=function(e){this.$$("frameCombo").define("options",e),this.$$("frameCombo").refresh()},t.prototype.bindTo=function(t){this.showMoreProperties(),this.setVariationOptions(),e.prototype.bindTo.call(this,t),this.$$("variable-editor").setValue(t.valueExpressionCode),this.$$("variable-editor-log").setValue(t.logExpressionCode)},t.prototype.setExpressionValue=function(){switch(this.$$("exprTypeCombo").getValue()){case"CUSTOM":this.$$("variable-code").setValue(this.$$("variable-editor").getValue()),this.$$("exprId").setValue("");break;case"NONE":this.$$("variable-code").setValue(""),this.$$("exprId").setValue("");break;case"EXPRESSION":this.$$("variable-code").setValue(this.getParentView().getExpression(this.$$("exprId").getValue()).expression)}switch(this.$$("logTypeCombo").getValue()){case"Expression":break;case"Custom":this.$$("log-code").setValue(this.$$("variable-editor-log").getValue()),this.$$("logExprId").setValue("");break;default:this.$$("logExprId").setValue("")}},t.prototype.changeLogExprType=function(e){switch(this.$$("variable-editor-log").hide(),this.$$("lineIdLog").hide(),e){case"Expression":this.$$("logExprId").show(),this.$$("logPeriod").hide(),this.$$("logThreshold").hide();break;case"Custom":this.$$("variable-editor-log").show(),this.$$("lineIdLog").show(),this.$$("logExprId").hide(),this.$$("logPeriod").hide(),this.$$("logThreshold").hide();break;case"Periodically":this.$$("logExprId").hide(),this.$$("logPeriod").show(),this.$$("logThreshold").hide();break;case"Threshold":this.$$("logExprId").hide(),this.$$("logPeriod").hide(),this.$$("logThreshold").show();break;default:this.$$("logExprId").hide(),this.$$("logPeriod").hide(),this.$$("logThreshold").hide()}},t.prototype.changeExprType=function(e){switch(this.$$("variable-editor").hide(),this.$$("exprId").hide(),this.$$("lineId").hide(),e){case"NONE":this.$$("variable-editor").hide(),this.$$("exprId").hide();break;case"CUSTOM":this.$$("variable-editor").show(),this.$$("exprId").hide(),this.$$("lineId").show();break;case"EXPRESSION":this.$$("variable-editor").hide(),this.$$("exprId").show()}},t.prototype.showMoreProperties=function(){var e=this.getParentView().getSelectedDeviceItem();"DNP3 Slave"==e.protocol?(this.$$("stVariation").show(),this.$$("evVariation").show(),this.$$("deadBand").show(),this.$$("pointClass").show()):(this.$$("deadBand").hide(),this.$$("stVariation").hide(),this.$$("evVariation").hide(),this.$$("pointClass").hide()),"DNP3 Slave"==e.protocol||"DNP3"==e.protocol?(this.$$("byteSwap").hide(),this.$$("wordSwap").hide(),this.$$("typeCombo").hide()):(this.$$("byteSwap").show(),this.$$("wordSwap").show(),this.$$("typeCombo").show())},t.prototype.setVariationOptions=function(){var e=this.getParentView().getSelectedFrameItem();if(e)switch(e.type){case"Frozen Counter":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.n)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.g));break;case"Binary Input":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.k)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.d));break;case"Double Input":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.m)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.f));break;case"Binary Output":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.j)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.c));break;case"Counter":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.l)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.e));break;case"Analog Input":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.i)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.b));break;case"Analog Output":this.$$("stVariation").define("options",this.getParentView().getVariationTypes(s.h)),this.$$("evVariation").define("options",this.getParentView().getVariationTypes(s.a))}},t}(a.BaseDetailView)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ConnectionsView",function(){return s});var a=i(0),s=(i(8),i(1),i(4),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._;return this.data={},this.initGo(),{id:"connections-view",rows:[{view:"toolbar",cols:[{view:"button",width:100,type:"prev",align:"right",label:"Back",click:function(){webix.$$("multi-wizard").setValue("settings-view"),e.$$("connectionForm").hide(),e.$$("tree-view").unselectAll()}},{view:"label",label:"COMMUNICATION NETWORK"},{view:"button",width:100,type:"form",align:"right",label:"Finish",click:function(){e.checkConnectionDetails()?(webix.$$("multi-wizard").setValue("summary-view"),e.getParentView().getSubView("summaryView").load(),e.$$("connectionForm").hide(),e.$$("tree-view").unselectAll()):webix.message({type:"error",text:"Check connection details"})}}]},{localId:"gojs-connection-view"},{view:"resizer"},{type:"space",cols:[{rows:[{view:"toolbar",cols:[{view:"label",label:"Connections"}]},{localId:"tree-view",view:"tree",template:function(e,t){return 0==e.$parent?t.icon(e,t)+t.folder(e,t)+"<span>"+e.value+" <span style='color:blue;'> "+e.device.name+"</span></span>":t.icon(e,t)+t.folder(e,t)+"<span style='user-select: none; '>"+e.value+"</span>"},select:!0,on:{onBeforeSelect:function(t){if(0!=e.$$("tree-view").getItem(t).$parent)return!1},onSelectChange:function(){var t=e.$$("tree-view").getSelectedItem();null!=t&&"undefined"!=t&&(e.$$("connectionForm").show(),t.connection?e.$$("connectionForm").setValues(t.connection):e.$$("connectionForm").setValues({}))}}}]},{type:"clean",gravity:.5,view:"form",localId:"connectionForm",borderless:!0,hidden:!0,elementsConfig:{labelWidth:80},elements:[{view:"toolbar",cols:[{view:"label",label:"Connection Details"}]},{height:10},{type:"form",rows:[{view:"text",label:"Ip",name:"ip",required:!0},{view:"text",label:"Port",name:"port",required:!0},{view:"text",label:"Slave Id",name:"slaveId",required:!0},{},{view:"button",type:"form",align:"right",label:this._("Save"),click:function(){var t=e.$$("connectionForm").getValues(),i=e.$$("tree-view").getSelectedItem();i&&(i.connection=t,e.updateGo())}}]}]}]}]}},t.prototype.initGo=function(){webix.protoUI({name:"goJsConnectionChart",$init:function(e){this.$view.innerHTML="<div style='position:relative; width:100%; height:100%;'></div>",this._initChart(e)},_initChart:function(e){e.chartConfig;this.$=window.go.GraphObject.make,this.myDiagram=this.$(go.Diagram,this.$view.firstChild,{initialContentAlignment:go.Spot.Center,"linkingTool.direction":go.LinkingTool.ForwardsOnly,isEnabled:!1}),this.myDiagram.nodeTemplateMap.add("Generator",this.$(go.Node,{locationSpot:go.Spot.Center},new go.Binding("location","location",go.Point.parse).makeTwoWay(go.Point.stringify),this.$(go.Picture,"../images/inscada.png",{name:"Inscada",width:80,height:80,portId:"",cursor:"pointer",fromSpot:go.Spot.TopBottomSides,toSpot:go.Spot.TopBottomSides}))),this.myDiagram.nodeTemplateMap.add("Consumer",this.$(go.Node,"Spot",{locationSpot:go.Spot.Center,locationObjectName:"BODY",selectionObjectName:"BODY"},new go.Binding("location","location",go.Point.parse).makeTwoWay(go.Point.stringify),this.$(go.Picture,"../images/gojs/pc.jpg",{name:"BODY",width:40,height:40,margin:20,portId:"",cursor:"pointer",fromSpot:go.Spot.TopBottomSides,toSpot:go.Spot.TopBottomSides}),this.$(go.TextBlock,{alignment:go.Spot.Bottom,alignmentFocus:go.Spot.Top},new go.Binding("text","text")))),this.myDiagram.nodeTemplateMap.add("HBar",this.$(go.Node,new go.Binding("location","location",go.Point.parse).makeTwoWay(go.Point.stringify),{layerName:"Background",resizable:!0,resizeObjectName:"SHAPE",resizeAdornmentTemplate:this.$(go.Adornment,"Spot",this.$(go.Placeholder),this.$(go.Shape,{alignment:go.Spot.Left,cursor:"col-resize",desiredSize:new go.Size(6,6),fill:"lightblue",stroke:"dodgerblue"}),this.$(go.Shape,{alignment:go.Spot.Right,cursor:"col-resize",desiredSize:new go.Size(6,6),fill:"lightblue",stroke:"dodgerblue"}))},this.$(go.Shape,"Rectangle",{name:"SHAPE",fill:"black",stroke:null,strokeWidth:0,width:1e3,height:4,minSize:new go.Size(100,4),maxSize:new go.Size(1/0,4)},new go.Binding("desiredSize","size",go.Size.parse).makeTwoWay(go.Size.stringify),new go.Binding("fill"),{portId:"",toLinkable:!0}))),go.Diagram.inherit(this.BarLink,go.Link),this.myDiagram.linkTemplate=this.$(this.BarLink,{routing:go.Link.Orthogonal,relinkableFrom:!0,relinkableTo:!0,toPortChanged:function(e,t,i){i instanceof go.Shape&&(e.path.stroke=i.fill)}},this.$(go.Shape,{strokeWidth:2})),this.BarLink.prototype.getLinkPoint=function(e,t,i,o,r,n,a){if("HBar"===e.category){var s=go.Link.prototype.getLinkPoint.call(this,n,a,this.computeSpot(!o),!o,r,e,t),l=new go.Rect(t.getDocumentPoint(go.Spot.TopLeft),t.getDocumentPoint(go.Spot.BottomRight)),c=s.y>l.centerY?l.bottom:l.top;return s.x<l.left?new go.Point(l.left,c):s.x>l.right?new go.Point(l.right,c):new go.Point(s.x,c)}return go.Link.prototype.getLinkPoint.call(this,e,t,i,o,r,n,a)},this.BarLink.prototype.getLinkDirection=function(e,t,i,o,r,n,a,s){var l=t.getDocumentPoint(go.Spot.Center);return s.getDocumentPoint(go.Spot.Center).y>l.y?90:270}},model_setter:function(e){this.myDiagram.model=new window.go.GraphLinksModel(e.data,e.links)},BarLink:function(){go.Link.call(this)}},webix.ui.view)},t.prototype.loadData=function(e,t){if(null==this.connections||"undefined"==this.connections||1==t){this.connections=[];var i=this.getParentView().getUsedDevices();if(i){for(var o=1,r=0;r<i.length;r++){for(var n=[],a=0;a<e.length;a++)null!=e[a].deviceId&"undefined"!=e[a].deviceId&&e[a].deviceId==i[r].deviceId&&e[a].devicePosition==r&&(e[a].value=e[a].name,n.push(e[a]));n.length>0&&(this.connections.push({value:"Connection "+o,device:n[0].device,data:n,modules:n}),o++)}this.$$("tree-view").clearAll(),this.$$("tree-view").parse(this.connections),this.updateGo()}}},t.prototype.updateGo=function(){var e=[{key:"Inscada",category:"Generator",location:"250 0"},{key:"bar",category:"HBar",location:"0 100",size:"500 4",fill:"green"}],t=[{from:"Inscada",to:"bar"}],i=0;1==this.connections.length&&(i=250);for(var o=500/(this.connections.length-1),r=0;r<this.connections.length;r++){var n=this.connections[r].value,a="conn0"+r;if(this.connections[r].connection){var s=this.connections[r].connection;n=s.ip+":"+s.port+" : "+s.slaveId,t.push({from:a,to:"bar"})}var l={key:a,text:n,category:"Consumer",location:i+" 200"};e.push(l),i+=o}var c={localId:"gojs-connection-view",view:"goJsConnectionChart",model:{data:e,links:t}};webix.ui(c,this.$$("gojs-connection-view"))},t.prototype.checkConnectionDetails=function(){for(var e=0;e<this.connections.length;e++){var t=this.connections[e].connection;if(!t)return!1;if(!t.ip||!t.port||!t.slaveId)return!1}return!0},t.prototype.getConnections=function(){return this.connections},t.prototype.ready=function(){},t}(a.b))},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"SettingsView",function(){return l});var a=i(0),s=i(80),l=(i(8),i(1),i(4),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._;return this.update=!1,this.initGo(),this.constructStations(),{id:"settings-view",rows:[{view:"toolbar",cols:[{view:"button",width:100,type:"prev",align:"right",label:"Back",click:function(){webix.$$("multi-wizard").setValue("streams-view"),e.hideListForms()}},{view:"label",label:"DEFINED GAS STATION MODEL"},{view:"button",width:100,type:"next",align:"right",label:"Next",click:function(){webix.$$("multi-wizard").setValue("connections-view");var t=e.getParentView().getSubView("streamsView").getGridsData();e.getParentView().getSubView("connectionsView").loadData(t,e.update),e.update=!1,e.hideListForms()}}]},{localId:"gojs-view"},{view:"resizer"},{id:"streams-form-view",rows:[{cells:this.getCells(),on:{onViewChange:function(t,i){e.stn=i}}},{view:"tabbar",localId:"station_tabbar",height:45,options:this.getOptions(),multiview:"true",type:"bottom"}]}]}},t.prototype.initGo=function(){webix.protoUI({name:"goJsChart",$init:function(e){this.$view.innerHTML="<div style='position:relative; width:100%; height:100%;'></div>",this._initChart(e)},_initChart:function(e){e.chartConfig;this.$=go.GraphObject.make,this.myDiagram=this.$(go.Diagram,this.$view.firstChild,{"grid.visible":!1,"draggingTool.isGridSnapEnabled":!0,"resizingTool.isGridSnapEnabled":!0,"rotatingTool.snapAngleMultiple":90,"rotatingTool.snapAngleEpsilon":45,"commandHandler.archetypeGroupData":{text:"Group",isGroup:!0,color:"blue"},"undoManager.isEnabled":!0}),this.myDiagram.nodeTemplateMap.add("Process",this.$(go.Node,"Auto",{locationSpot:new go.Spot(.5,.5),locationObjectName:"SHAPE",resizeObjectName:"SHAPE"},new go.Binding("location","pos",go.Point.parse).makeTwoWay(go.Point.stringify),this.$(go.Shape,"RoundedRectangle",{name:"SHAPE",strokeWidth:2,minSize:new go.Size(50,30),portId:"",fromSpot:go.Spot.LeftRightSides,toSpot:go.Spot.LeftRightSides},new go.Binding("fill","color"),new go.Binding("desiredSize","size",go.Size.parse).makeTwoWay(go.Size.stringify)),this.$(go.TextBlock,{alignment:go.Spot.Center,textAlign:"center",margin:5},new go.Binding("text").makeTwoWay()))),this.myDiagram.nodeTemplateMap.add("Joint",this.$(go.Node,"Auto",{locationSpot:new go.Spot(.5,.5),locationObjectName:"SHAPE",resizeObjectName:"SHAPE"},new go.Binding("location","pos",go.Point.parse).makeTwoWay(go.Point.stringify),this.$(go.Shape,"Circle",{name:"SHAPE",strokeWidth:2,fill:this.$(go.Brush,"Linear",{start:go.Spot.Left,end:go.Spot.Right,0:"#5C0E60",.5:"#b24da9",1:"#5C0E60"}),maxSize:new go.Size(10,10),portId:"",fromSpot:go.Spot.AllSides,toSpot:go.Spot.AllSides},new go.Binding("fill","color"),new go.Binding("desiredSize","size",go.Size.parse).makeTwoWay(go.Size.stringify)))),this.myDiagram.nodeTemplateMap.add("Valve",this.$(go.Node,"Vertical",{locationSpot:new go.Spot(.5,1,0,-21),locationObjectName:"SHAPE",selectionObjectName:"SHAPE",rotatable:!0},new go.Binding("angle").makeTwoWay(),new go.Binding("location","pos",go.Point.parse).makeTwoWay(go.Point.stringify),this.$(go.TextBlock,{alignment:go.Spot.Center,textAlign:"center",margin:5,editable:!0},new go.Binding("text").makeTwoWay(),new go.Binding("angle","angle",function(e){return 180===e?180:0}).ofObject()),this.$(go.Shape,{name:"SHAPE",geometryString:"F1 M0 0 L40 20 40 0 0 20z M20 10 L20 30 M12 30 L28 30",strokeWidth:2,fill:this.$(go.Brush,"Linear",{0:"gray",.35:"white",.7:"gray"}),portId:"",fromSpot:new go.Spot(1,.35),toSpot:new go.Spot(0,.35)}))),this.myDiagram.linkTemplate=this.$(go.Link,{routing:go.Link.AvoidsNodes,curve:go.Link.JumpGap,corner:10,reshapable:!0,toShortLength:7},new go.Binding("points").makeTwoWay(),this.$(go.Shape,{isPanelMain:!0,stroke:"#5C0E60",strokeWidth:5}),this.$(go.Shape,{isPanelMain:!0,stroke:"#b24da9",strokeWidth:3}),this.$(go.Shape,{isPanelMain:!0,stroke:"white",strokeWidth:1,name:"PIPE",strokeDashArray:[10,10]}),this.$(go.Shape,{toArrow:"Triangle",fill:"black",stroke:null})),this._loop()},_loop:function(){var e=this.myDiagram;setInterval(function(){var t=e.skipsUndoManager;e.skipsUndoManager=!0,e.links.each(function(e){var t=e.findObject("PIPE"),i=t.strokeDashOffset-2;t.strokeDashOffset=i<=0?20:i}),e.skipsUndoManager=t},100)},model_setter:function(e){this.myDiagram.model=new go.GraphLinksModel(e.data,e.links)}},webix.ui.view)},t.prototype.refreshGo=function(){this.update=!0;var e=[],t=[],i={key:"inlet",category:"Valve",pos:"50 50",text:"inlet"};this.prevKey="inlet",this.intY=50,this.sY=50;for(var o=0;o<this.stations.length;o++){var r=this.goStationData(this.stations[o],this.sY);e=e.concat(r.data),t=t.concat(r.links)}e.length>0&&e.push(i);var n={localId:"gojs-view",view:"goJsChart",model:{data:e,links:t}};webix.ui(n,this.$$("gojs-view"))},t.prototype.goStationData=function(e,t){for(var i=[],o=[],r={key:e.tag,text:e.props.name,isGroup:!0},n=!1,a=250,s=0;s<e.groups.length-1;s++){var l=this.goGroupData(e.groups[s],e.tag,a,t);if(s>1&&l.data.length>0&&(n=!0),i=i.concat(l.data),o=o.concat(l.links),1==s){var c=a;a>250&&0==l.data.length&&(c=260);var h=this.goGroupData(e.groups[4],e.tag,c,this.intY,!0);i=i.concat(h.data),o=o.concat(h.links),i.length==h.data.length&&(a+=500)}if(l.data.length>0&&(a+=500),1==s){var u={key:"outlet1"+e.tag,category:"Valve",pos:a-180+" "+t,text:"outlet"};i.length>0&&(i.push(u),o.push({from:this.prevKey,to:"outlet1"+e.tag}),this.prevKey="outlet1"+e.tag,a+=20)}}if(i.length>0){if(n){var d={key:"outlet2"+e.tag,category:"Valve",pos:a-180+" "+t,text:"outlet"};i.push(d),o.push({from:this.prevKey,to:"outlet2"+e.tag})}i.push(r)}return{data:i,links:o}},t.prototype.goGroupData=function(e,t,i,o,r){var n=[],a=[],s=t+e.tag,l=t+"_"+e.tag,c=this.getParentView().getSubView("streamsView").getSubViewData(l);if(0==c.length)return{data:n,links:a};var h=35*c.filter(function(e){return e.name.includes("PAY")}).length+50;this.intY=o+h,this.sY<this.intY&&(this.sY=this.intY+50);var u={key:"ej"+s,category:"Joint",pos:i+260+" "+o,group:t};n.push(u);var d={key:s,text:e.props.name,isGroup:!0,group:t};if(n.push(d),250==i&&(this.prevKey="inlet"),r){var p={key:"sj"+s,category:"Valve",angle:180,pos:i-130+" "+o,group:t};n.push(p),a.push({from:this.prevKey,to:"ej"+s})}else{var f={key:"sj"+s,category:"Joint",pos:i-130+" "+o,group:t};n.push(f),a.push({from:this.prevKey,to:"sj"+s}),this.prevKey="ej"+s}for(var m=0;m<c.length;m++){var g=c[m],v=g.name.split("_");if("PAY"==v[2]){var b=v[2]+"_"+v[3],w={key:g.name,category:"Process",color:"lightblue",pos:i+"  "+(35*m+o),text:b,group:s};n.push(w),r?a.push({from:g.name,to:"sj"+s}):a.push({from:"sj"+s,to:g.name});for(var y=!1,C=0;C<c.length;C++){var x=c[C].name.split("_");if("CHK"==x[2]&&v[3]==x[3]){y=!0;var S=x[2]+"_"+x[3],P={key:c[C].name,category:"Process",color:"lightgreen",pos:i+135+"  "+(35*m+o),text:S,group:s};n.push(P),r?(a.push({from:c[C].name,to:g.name}),a.push({from:"ej"+s,to:c[C].name})):(a.push({from:g.name,to:c[C].name}),a.push({from:c[C].name,to:"ej"+s}))}}y||(r?a.push({from:"ej"+s,to:g.name}):a.push({from:g.name,to:"ej"+s}))}}return{data:n,links:a}},t.prototype.loadStreams=function(){for(var e=0;e<this.stations.length;e++)for(var t=this.stations[e].groups,i=0;i<t.length;i++){var o=this.stations[e].tag+"_"+t[i].tag;this.getSubView(o).load(this.getParentView().getSubView("streamsView").getSubViewData(o))}this.refreshGo()},t.prototype.getOptions=function(){return this.stations.map(function(e){return{id:e.tag,value:e.props.name}})},t.prototype.getCells=function(){var e=this;return this.stations.map(function(t){return{id:t.tag,cols:e.generateStationView(t)}})},t.prototype.getStationOptions=function(e){return e.groups.map(function(t){return{id:e.tag+"_"+t.tag,value:t.props.name}})},t.prototype.getStationCells=function(e){return e.groups.map(function(t){return{id:e.tag+"_"+t.tag,$subview:s.ListView,name:e.tag+"_"+t.tag}})},t.prototype.hideListForms=function(){for(var e=0;e<this.stations.length;e++)for(var t=this.stations[e],i=0;i<t.groups.length;i++){var o=t.groups[i];this.getSubView(t.tag+"_"+o.tag)&&this.getSubView(t.tag+"_"+o.tag).hideListForm()}},t.prototype.generateStationView=function(e){var t=this,i=(e.groups,{id:"streams-group-view"+e.tag,type:"clean",rows:[{view:"tabbar",localId:e.tag+"_tabbar",height:40,options:this.getStationOptions(e),multiview:"true"},{cells:this.getStationCells(e),on:{onViewChange:function(e,i){var o=i.split("_");t.grp=o[1];var r=t.$$("stationForm"+t.stn),n=r.getValues();n.groupName=t.getGroup().props.name,n.usegc=t.getGroup().props.usegc,r.setValues(n)}}}]});return[{gravity:.4,type:"clean",view:"form",localId:"stationForm"+e.tag,borderless:!0,elementsConfig:{labelWidth:80},elements:[{view:"toolbar",cols:[{view:"label",label:"Station Details"}]},{height:10},{type:"form",rows:[{view:"text",label:"Name",name:"name",value:e.props.name,required:!0},{view:"text",label:"Location",name:"location",value:e.props.location,required:!0},{view:"text",label:"Capacity",name:"capacity",value:e.props.capacity,required:!0},{template:this._("Group"),type:"section"},{view:"text",label:"Group Name",name:"groupName",value:e.groups[0].props.name,required:!0},{},{view:"button",type:"form",align:"right",label:this._("Save"),click:function(){var i=t.$$("stationForm"+e.tag).getValues();e.props=i;for(var o=e.groups,r=0;r<o.length;r++)o[r].tag==t.grp&&(o[r].props.name=i.groupName,o[r].props.usegc=i.usegc);t.updateTabs()}}]}]},i]},t.prototype.constructStations=function(){this.stations=[];var e=[{tag:"GRP01",props:{name:"GRP01"}},{tag:"GRP02",props:{name:"GRP02"}},{tag:"GRP03",props:{name:"GRP03"}},{tag:"GRP04",props:{name:"GRP04"}},{tag:"INT",props:{name:"INT"}}],t={tag:"STN01",props:{name:"STN01"},groups:e};this.stations.push(t);var i=[{tag:"GRP01",props:{name:"GRP01"}},{tag:"GRP02",props:{name:"GRP02"}},{tag:"GRP03",props:{name:"GRP03"}},{tag:"GRP04",props:{name:"GRP04"}},{tag:"INT",props:{name:"INT"}}],o={tag:"STN02",props:{name:"STN02"},groups:i};this.stations.push(o);this.stn="STN01",this.grp="GRP01",this.streamList={}},t.prototype.getStation=function(){for(var e=0;e<this.stations.length;e++)if(this.stations[e].tag==this.stn)return this.stations[e]},t.prototype.getGroup=function(){for(var e=this.getStation().groups,t=0;t<e.length;t++)if(e[t].tag==this.grp)return e[t]},t.prototype.updateTabs=function(){var e=this.$$("station_tabbar");e.config.options=this.getOptions(),e.refresh();for(var t=0;t<this.stations.length;t++){var i=this.$$(this.stations[t].tag+"_tabbar");i.config.options=this.getStationOptions(this.stations[t]),i.refresh()}this.refreshGo()},t.prototype.getStations=function(){return this.stations},t.prototype.ready=function(){},t}(a.b))},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"ListView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._;return{cols:[{view:"list",localId:"group_list",template:'<div class="list-template"><h4>#order# <i class="fa fa-modx fa-lg" style=" margin-right:10px;"></i>#name#<span class="panel-status">#streamType# #module#</span></h4></div>',select:!0,data:[],type:{height:"auto"},on:{onSelectChange:function(){var t=e.$$("group_list").getSelectedItem();null!=t&&"undefined"!=t&&(null!=t.props&&"undefined"!=t.props||(t.props={}),e.$$("streamForm").setValues(t.props),e.$$("streamForm").show())}}},{gravity:.4,type:"clean",view:"form",localId:"streamForm",hidden:!0,borderless:!0,elementsConfig:{labelWidth:80},elements:[{view:"toolbar",cols:[{view:"label",label:"Stream Details"}]},{height:10},{type:"form",rows:[{view:"text",label:"NAME",name:"name",required:!0},{view:"text",label:"QMIN",name:"qmin",required:!0},{view:"text",label:"QMAX",name:"qmax",required:!0},{view:"combo",label:"USE GC",name:"usegc",options:this.gcOptions(),localId:"use_gc"},{},{view:"button",type:"form",align:"right",label:this._("Save"),click:function(){var t=e.$$("streamForm").getValues(),i=e.$$("group_list").getSelectedItem();i&&(i.props=t)}}]}]}]}},t.prototype.gcOptions=function(){return["NONE","INUSE"]},t.prototype.updateUseCombo=function(){var e=["NONE","INUSE"],t=[];this.getParentView().getParentView().getUsedDevices()&&(t=this.getParentView().getParentView().getUsedDevices().filter(function(e){return"ANALYZER"==e.type}).map(function(e){return e.name})),e=e.concat(t),this.$$("use_gc").define("options",e),this.$$("use_gc").refresh()},t.prototype.hideListForm=function(){this.$$("streamForm").hide(),this.$$("group_list").unselectAll()},t.prototype.load=function(e){this.$$("streamForm").setValues({}),this.$$("group_list").clearAll(),this.$$("group_list").parse(e),this.updateUseCombo()},t.prototype.ready=function(){},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"StreamsView",function(){return c});var a=i(84),s=(i.n(a),i(0)),l=i(82),c=(i(1),i(4),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._;return this.data={},this.update=!1,{id:"streams-view",rows:[{view:"toolbar",cols:[{view:"button",width:100,type:"prev",align:"right",label:"Back",click:function(){webix.$$("multi-wizard").setValue("devices-view")}},{view:"label",label:"STREAMS"},{view:"button",width:100,type:"next",align:"right",label:"Next",click:function(){webix.$$("multi-wizard").setValue("settings-view"),e.update&&e.getParentView().getSubView("settingsView").loadStreams(),e.update=!1}}]},{cols:[{rows:[{view:"toolbar",height:37,cols:[{view:"label",label:"Stream Module List"}]},{view:"list",drag:!0,localId:"moduleList",template:'<div class="list-template"><h4>#order# <i class="fa fa-modx fa-lg" style=" margin-right:10px;"></i>#device.name#<span class="panel-status">#streamType# #module#</span></h4></div>',select:!0,type:{height:"auto"}}]},{gravity:3,rows:[{cells:[{id:"a1",rows:[{view:"tabbar",height:40,options:[{id:"group11",value:"GROUP 1"},{id:"group12",value:"GROUP 2"},{id:"group13",value:"GROUP 3"},{id:"group14",value:"GROUP 4"},{id:"group15",value:"INTERNAL"}],multiview:"true"},{cells:[{id:"group11",$subview:l.GroupView,name:"STN01_GRP01"},{id:"group12",$subview:l.GroupView,name:"STN01_GRP02",_name:"STN01_GRP02"},{id:"group13",$subview:l.GroupView,name:"STN01_GRP03"},{id:"group14",$subview:l.GroupView,name:"STN01_GRP04"},{id:"group15",$subview:l.GroupView,name:"STN01_INT"}]}]},{id:"b1",rows:[{view:"tabbar",height:40,options:[{id:"group21",value:"GROUP 1"},{id:"group22",value:"GROUP 2"},{id:"group23",value:"GROUP 3"},{id:"group24",value:"GROUP 4"},{id:"group25",value:"INTERNAL"}],multiview:"true"},{cells:[{id:"group21",$subview:l.GroupView,name:"STN02_GRP01"},{id:"group22",$subview:l.GroupView,name:"STN02_GRP02"},{id:"group23",$subview:l.GroupView,name:"STN02_GRP03"},{id:"group24",$subview:l.GroupView,name:"STN02_GRP04"},{id:"group25",$subview:l.GroupView,name:"STN02_INT"}]}]},{id:"c1",rows:[{view:"toolbar",cols:[{view:"label",label:"Analyzer"}]},{localId:"ANALYZER",view:"datatable",css:"rows",data:[],drag:!0,resizeColumn:!0,scroll:"xy",on:{onBeforeDrop:function(e,t){return"ANALYZER"==e.from.getItem(e.source).type},onAfterDrop:function(t,i){e.update=!0,e.updateGrid("ANALYZER")},onAfterDelete:function(t,i){e.update=!0,e.updateGrid("ANALYZER")}},columns:[{id:"no",header:"No",adjust:!0},{id:"name",header:this._("Name"),adjust:!0},{id:"type",header:"Type",adjust:!0},{id:"module",header:this._("Module"),adjust:!0}]}]},{id:"d1",rows:[{view:"toolbar",cols:[{view:"label",label:"RTU/PLC"}]},{localId:"RTUPLC",view:"datatable",css:"rows",data:[],drag:!0,resizeColumn:!0,scroll:"xy",on:{onBeforeDrop:function(e,t){return"RTU/PLC"==e.from.getItem(e.source).type},onAfterDrop:function(t,i){e.update=!0,e.updateGrid("RTUPLC")},onAfterDelete:function(t,i){e.update=!0,e.updateGrid("RTUPLC")}},columns:[{id:"no",header:"No",adjust:!0},{id:"name",header:this._("Name"),adjust:!0},{id:"type",header:"Type",adjust:!0},{id:"module",header:this._("Module"),adjust:!0}]}]}]},{view:"tabbar",height:60,options:[{id:"a1",value:"Main Station"},{id:"b1",value:"Sub Station"},{id:"c1",value:"Analyzer"},{id:"d1",value:"RTU/PLC"}],multiview:"true",type:"bottom"}]}]}]}},t.prototype.updateGrid=function(e){for(var t=this.$$(e).serialize(),i=1,o=0;o<t.length;o++)t[o].no=i,t[o].name=i>9?e+"_"+t[o].no:e+"_0"+t[o].no,i++;this.$$(e).clearAll(),this.$$(e).parse(t)},t.prototype.loadModuleList=function(e){this.$$("moduleList").clearAll(),this.$$("moduleList").parse(e),this.clearGroups(),this.update=!0},t.prototype.clearGroups=function(){this.getSubView("STN01_GRP01").clear(),this.getSubView("STN01_GRP02").clear(),this.getSubView("STN01_GRP03").clear(),this.getSubView("STN01_GRP04").clear(),this.getSubView("STN01_INT").clear(),this.getSubView("STN02_GRP01").clear(),this.getSubView("STN02_GRP02").clear(),this.getSubView("STN02_GRP03").clear(),this.getSubView("STN02_GRP04").clear(),this.getSubView("STN02_INT").clear(),this.$$("ANALYZER").clearAll(),this.$$("RTUPLC").clearAll()},t.prototype.updateGroups=function(){this.update=!0,this.getSubView("STN01_GRP01").updateGrids("STN01_GRP01"),this.getSubView("STN01_GRP02").updateGrids("STN01_GRP02"),this.getSubView("STN01_GRP03").updateGrids("STN01_GRP03"),this.getSubView("STN01_GRP04").updateGrids("STN01_GRP04"),this.getSubView("STN01_INT").updateGrids("STN01_INT"),this.getSubView("STN02_GRP01").updateGrids("STN02_GRP01"),this.getSubView("STN02_GRP02").updateGrids("STN02_GRP02"),this.getSubView("STN02_GRP03").updateGrids("STN02_GRP03"),this.getSubView("STN02_GRP04").updateGrids("STN02_GRP04"),this.getSubView("STN02_INT").updateGrids("STN02_INT")},t.prototype.getSubViewData=function(e){return this.getSubView(e).getData()},t.prototype.getDataByGrid=function(e){return this.$$(e).serialize()},t.prototype.getGridsData=function(){var e=[];return e=e.concat(this.getSubViewData("STN01_GRP01")),e=e.concat(this.getSubViewData("STN01_GRP02")),e=e.concat(this.getSubViewData("STN01_GRP03")),e=e.concat(this.getSubViewData("STN01_GRP04")),e=e.concat(this.getSubViewData("STN01_INT")),e=e.concat(this.getSubViewData("STN02_GRP01")),e=e.concat(this.getSubViewData("STN02_GRP02")),e=e.concat(this.getSubViewData("STN02_GRP03")),e=e.concat(this.getSubViewData("STN02_GRP04")),e=e.concat(this.getSubViewData("STN02_INT")),e=e.concat(this.$$("ANALYZER").serialize()),e=e.concat(this.$$("RTUPLC").serialize())},t.prototype.ready=function(){},t}(s.b))},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"GroupView",function(){return s});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._;return this.update=!1,{cols:[{rows:[{view:"toolbar",height:30,cols:[{view:"label",label:"PAY"}]},{localId:"PAY",view:"datatable",data:[],drag:!0,resizeColumn:!0,scroll:"xy",on:{onBeforeDrag:function(e){if(!e.from.getItem(e.source).deviceId)return!1},onBeforeDrop:function(e,t){return"FLOWCOMPUTER"==e.from.getItem(e.source).type},onAfterDrop:function(t,i){e.update=!0,e.getParentView().updateGroups()},onAfterDelete:function(t,i){e.update=!0,e.getParentView().updateGroups()}},columns:[{id:"no",header:{text:"No [n]",height:30},adjust:!0},{id:"name",header:this._("Name"),adjust:!0},{id:"streamType",header:"Type",adjust:!0},{id:"module",header:this._("Module"),adjust:!0}]}]},{rows:[{view:"toolbar",height:30,cols:[{view:"label",label:"CHECK"}]},{localId:"CHK",view:"datatable",data:[],drag:!0,resizeColumn:!0,scroll:"xy",on:{onBeforeDrag:function(e){if(!e.from.getItem(e.source).deviceId)return!1},onBeforeDrop:function(t,i){var o=t.from.getItem(t.source);return!(e.$$("PAY").serialize().length<=t.index)&&"FLOWCOMPUTER"==o.type},onAfterDrop:function(t,i){e.update=!0,e.getParentView().updateGroups()},onAfterDelete:function(t,i){e.update=!0,e.getParentView().updateGroups()}},columns:[{id:"no",header:{text:"No [n]",height:30},adjust:!0},{id:"name",header:this._("Name"),adjust:!0},{id:"streamType",header:"Type",adjust:!0},{id:"module",header:this._("Module"),adjust:!0}]}]}]}},t.prototype.clear=function(){this.$$("PAY").clearAll(),this.$$("CHK").clearAll();for(var e=[],t=0;t<20;t++)e.push({no:t+1});this.$$("CHK").parse(e)},t.prototype.updateGrids=function(e){this.update&&(this.updateGrid("PAY",e),this.updateGrid("CHK",e)),this.update=!1},t.prototype.updateGrid=function(e,t){for(var i=this.$$(e).serialize(),o=t.split("_"),r=1,n=0;n<i.length;n++)i[n].no=r,r++,i[n].deviceId&&(i[n].station=o[0],i[n].group=o[1],"CALCULATION"==i[n].streamType?(i[n].name=t+"_"+e+"_STREAM00",i[n].no=i.length,r--):i[n].name=n>8?t+"_"+e+"_STREAM"+i[n].no:t+"_"+e+"_STREAM0"+i[n].no);this.$$(e).clearAll(),this.$$(e).parse(i),this.$$(e).sort("no","asc")},t.prototype.getData=function(){for(var e=this.$$("PAY").serialize(),t=this.$$("CHK").serialize(),i=0;i<e.length;i++)t[i].deviceId&&e.push(t[i]);return e},t.prototype.ready=function(){},t}(a.b)},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"SummaryView",function(){return l});var a=i(0),s=i(3),l=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;return this.myformat=webix.Date.dateToStr("%d/%m/%Y"),this.dateFormat=webix.Date.dateToStr("%d_%m_%Y_%H_%i_%s"),{id:"summary-view",rows:[{view:"toolbar",cols:[{view:"button",width:100,type:"prev",align:"right",label:"Back",click:function(){webix.$$("multi-wizard").setValue("connections-view")}},{view:"label",label:"REPORT"},{view:"button",width:100,type:"form",align:"right",label:"Generate",click:function(){e.generate()}}]},{view:"template",borderless:!1,type:"clean",template:'<div id="jsPDF" style="width:100%;height:100%"><iframe id ="pdf-iframe" style="width:100%;height:100%;" scrolling="no" frameborder="0" allowtransparency="true" title="Twitter settings iframe" ></iframe></div>'}]}},t.prototype.load=function(){this.doc=new PDFDocument;var e=this.doc.pipe(blobStream()),t=document.getElementById("pdf-iframe");this.pagewidth=540,this.doc.fontSize(10);var i=this.myformat(new Date);this.doc.text(i,50,20),this.doc.text("INSCADA",495,20),this.doc.fontSize(20).text("IDENTITY REPORT",200,50),this.y=80,this.writeStation(),this.writeAnalyzer(),this.writeRtuplc(),this.writeConnection(),this.doc.Title="Identity Report",this.doc.Author="Inscada",this.doc.CreationDate=new Date,this.doc.end(),e.on("finish",function(){t.src=e.toBlobURL("application/pdf")})},t.prototype.check=function(e){for(var t=!1,i=this.getParentView().getSubView("settingsView").getStationByIndex(e),o=0;o<i.groups.length;o++){var r=i.groups[o],n=i.tag+"_"+r.tag;this.getParentView().getSubView("settingsView").getStremListById(n).length>0&&(t=!0)}return t},t.prototype.writeStation=function(){var e=this.getParentView().getSubView("settingsView").getStations();for(var t in e){var i=e[t];e[t].streams=[],this.doc.fontSize(18).text(i.props.name,50,this.y),this.y+=25,this.x=0,this.doc.save().moveTo(50,this.y-5).lineTo(560,this.y-5).fill("#000");for(var o=0,r=0,n=0,a=0;a<i.groups.length;a++){var s=i.groups[a],l=i.tag+"_"+s.tag,c=this.getParentView().getSubView("streamsView").getSubViewData(l);if(e[t].streams=e[t].streams.concat(c),c.length>0){this.doc.fontSize(13).text(s.props.name,50+170*this.x,this.y);for(var h=0;h<c.length;h++)this.doc.fontSize(9).text(c[h].name,50+170*this.x,this.y+20+12*h);c.length>o&&(o=c.length),++n,3==n?(this.x=0,this.y+=12*o+30,o=0):this.x++}else++r}2==r&&(this.y-=12*o+30),this.y+=12*o+55,this.doc.save().moveTo(50,this.y-30).lineTo(560,this.y-30).fill("#000")}this.stations=e},t.prototype.writeAnalyzer=function(){var e=this.getParentView().getSubView("streamsView").getDataByGrid("ANALYZER"),t=this.y;if(!(e.length<1)){this.doc.fontSize(18).text("ANALYZER",50,this.y),this.y+=25,this.doc.save().moveTo(50,this.y-5).lineTo(250,this.y-5).fill("#000");for(var i=0;i<e.length;i++)this.doc.fontSize(9).text(e[i].name,50,this.y+12*i);this.y+=12*e.length+40,this.doc.save().moveTo(50,this.y-40).lineTo(250,this.y-40).fill("#000");var e=this.getParentView().getSubView("streamsView").getDataByGrid("RTUPLC");e.length>0&&(this.y=t)}},t.prototype.writeRtuplc=function(){var e=this.getParentView().getSubView("streamsView").getDataByGrid("RTUPLC");if(!(e.length<1)){this.doc.fontSize(18).text("RTUPLC",330,this.y),this.y+=25,this.doc.save().moveTo(330,this.y-5).lineTo(560,this.y-5).fill("#000");for(var t=0;t<e.length;t++)this.doc.fontSize(9).text(e[t].name,330,this.y+12*t);this.y+=12*e.length+40,this.doc.save().moveTo(330,this.y-40).lineTo(560,this.y-40).fill("#000")}},t.prototype.writeConnection=function(){var e=this.getParentView().getSubView("connectionsView").getConnections();if(!(e.length<1)){this.doc.fontSize(18).text("CONNECTIONS",50,this.y),this.y+=25,this.doc.save().moveTo(50,this.y-5).lineTo(560,this.y-5).fill("#000"),this.doc.fontSize(10).text("NAME",50,this.y),this.doc.fontSize(10).text("IP",150,this.y),this.doc.fontSize(10).text("PORT",250,this.y),this.y+=15;for(var t=0;t<e.length;t++)this.doc.fontSize(10).text(e[t].value,50,this.y+12*t),e[t].connection&&(this.doc.fontSize(10).text(e[t].connection.ip,150,this.y+12*t),this.doc.fontSize(10).text(e[t].connection.port,250,this.y+12*t));this.y+=12*e.length+30,this.doc.save().moveTo(50,this.y-30).lineTo(560,this.y-30).fill("#000")}},t.prototype.generate=function(){var e=this,t=this.getParentView().getSubView("connectionsView").getConnections();if(0!=t.length){for(var i=[],o=0;o<t.length;o++)"FLOWCOMPUTER"==t[o].device.type&&(i=i.concat(t[o].modules));var r={project:this.generateProjectModel(i),connections:this.generateConnectionsModel()};Object(s.d)(r).then(function(t){var i=t.json();e.app.show("/top/enduser.visualization.visualization?subView=subView2&projectId="+i.id)}).catch(function(e){webix.message({type:"error",text:"Failed to generate project"})})}},t.prototype.generateProjectModel=function(e){var t="WZD_"+this.stations[0].props.name;this.stations[1].streams.length>0&&(t+="_"+this.stations[1].props.name),t+="_"+this.dateFormat(new Date);for(var i=new Date,o=new Date(i.getFullYear()+15,i.getMonth(),i.getDate()),r=[],n=0;n<e.length;n++){var a=e[n].name,s="NONE",l=0,c=0;e[n].props&&e[n].props.name&&(a=e[n].props.name,s=e[n].props.usegc,c=e[n].props.qmax,l=e[n].props.qmin);var h={id:e[n].name,name:a,usegc:s,qmin:l,qmax:c};r.push(h)}var u={STREAMS:JSON.stringify(r)};return{name:t,startDate:i,endDate:o,isActive:!0,address:this.stations[0].props.location,contractDay:1,contractHour:"08:00",properties:JSON.stringify(u)}},t.prototype.generateConnectionsModel=function(){for(var e=this.getParentView().getSubView("connectionsView").getConnections(),t=[],i=1,o=1,r=0;r<e.length;r++){for(var n=e[r].connection,a=!1,s={},l=0;l<t.length;l++)t[l].ip==n.ip&&t[l].port==n.port&&(a=!0,s=t[l]);if(!a){s={name:"WZD_CONNECTION_0"+i,ip:n.ip,port:n.port,timeout:3e3,devices:[]},i++,t.push(s)}for(var c="",h=e[r].device,u=0;u<e[r].modules.length;u++){var d=e[r].modules[u];c+=d.module+":"+d.name+","}c=c.slice(0,-1),"ANALYZER"==h.type&&(c="A"+o,o++);var p={id:h.deviceId,protocol:h.protocol,stationAddress:n.slaveId,scanTime:h.scanTime,name:"WZD_"+h.name+"_0"+(s.devices.length+1),dsc:c};s.devices.push(p)}return t},t.prototype.ready=function(){},t}(a.b)},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var o=function(){function e(){this.webixJet=!0,this._id=webix.uid(),this._events=[],this._subs={},this._data={}}return e.prototype.getRoot=function(){return this._root},e.prototype.destructor=function(){for(var e=this._events,t=e.length-1;t>=0;t--)e[t].obj.detachEvent(e[t].id);for(var i in this._subs){var o=this._subs[i].view;o&&o.destructor()}this._events=this._container=this.app=this._parent=null},e.prototype.setParam=function(e,t,i){this._data[e]!==t&&(this._data[e]=t,this.app.callEvent("app:paramchange",[this,e,t,i])&&i&&this.show((o={},o[e]=t,o)));var o},e.prototype.getParam=function(e,t){var i=this._data[e];if(void 0!==i||!t)return i;var o=this.getParentView();return o?o.getParam(e,t):void 0},e.prototype.getUrl=function(){return this._url},e.prototype.render=function(e,t,i){var o=this;this._parent=i,t&&(this._index=t[0].index),this._init_url_data(t),e=e||document.body;var r="string"==typeof e?webix.toNode(e):e;return this._container!==r?(this._container=r,this._render(t).then(function(){return o.getRoot()})):this._urlChange(t).then(function(){return o.getRoot()})},e.prototype.getIndex=function(){return this._index},e.prototype.getId=function(){return this._id},e.prototype.getParentView=function(){return this._parent},e.prototype.$$=function(e){if("string"==typeof e){var t=this.getRoot();return t.queryView(function(i){return(i.config.id===e||i.config.localId===e)&&i.$scope===t.$scope},"self")}return e},e.prototype.on=function(e,t,i){var o=e.attachEvent(t,i);return this._events.push({obj:e,id:o}),o},e.prototype.contains=function(e){for(var t in this._subs){var i=this._subs[t].view;if(i===e||i.contains(e))return!0}return!1},e.prototype.getSubView=function(e){var t=this.getSubViewInfo(e);if(t)return t.subview.view},e.prototype.getSubViewInfo=function(e){var t=this._subs[e||"default"];return t?{subview:t,parent:this}:this._parent?this._parent.getSubViewInfo(e):null},e.prototype.getName=function(){return this._name},e.prototype._init_url_data=function(e){e&&e[0]&&(this._data={},webix.extend(this._data,e[0].params,!0)),this._url=e},e}()},function(e,t,i){"use strict";function o(e){"/"===e[0]&&(e=e.substr(1));for(var t=e.split("/"),i=[],o=0;o<t.length;o++){var r=t[o],n={},a=r.indexOf(":");if(-1===a&&(a=r.indexOf("?")),-1!==a)for(var s=r.substr(a+1).split(/[\:\?\&]/g),l=0,c=s;l<c.length;l++){var h=c[l],u=h.split("=");n[u[0]]=decodeURIComponent(u[1])}i[o]={page:a>-1?r.substr(0,a):r,params:n,index:o+1}}return i}function r(e){for(var t=[],i=0,o=e;i<o.length;i++){var r=o[i];t.push("/"+r.page);var a=n(r.params);a&&t.push("?"+a)}return t.join("")}function n(e){var t=[];for(var i in e)t.length&&t.push("&"),t.push(i+"="+encodeURIComponent(e[i]));return t.join("")}t.a=o,t.b=r},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var o=i(129),r=i.n(o),n=function(){function e(e,t){var i=this;this.config=t||{},this._prefix=this.config.routerPrefix,void 0===this._prefix&&(this._prefix="!");var o=function(e){};r()(this._prefix+"*",function(){return i._lastUrl="",o(i.get())}),o=e}return e.prototype.set=function(e,t){if(this.config.routes){var i=e.split("?",2);for(var o in this.config.routes)if(this.config.routes[o]===i[0]){e=o+(i.length>1?"?"+i[1]:"");break}}this._lastUrl=e,r.a.navigate(this._prefix+e,t)},e.prototype.get=function(){var e=this._lastUrl||(window.location.hash||"").replace("#"+this._prefix,"");if(this.config.routes){var t=e.split("?",2),i=this.config.routes[t[0]];i&&(e=i+(t.length>1?"?"+t[1]:""))}return e},e}()},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),s=i(21),l=i(11),c=i(3),h=i(1),u=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getData=function(){var e=this;return new Promise(function(t,i){webix.promise.all([Object(l.h)(),Object(c.e)()]).then(function(i){e.projects=i[1].json(),e.alarms=i[0].json(),t(e.alarms)}).catch(function(i){e.projects=[],t([])})})},t.prototype.getGridConfig=function(){var e=this;return{localId:"alarmsGrid",title:"Alarms",view:"datatable",select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"projectId",editor:"combo",header:[{content:"selectFilter"},this._("Project")],fillspace:!0,collection:this.getProjectOptions()},{id:"name",header:[{content:"textFilter"},this._("Name")],fillspace:!0},{id:"dsc",header:[{content:"textFilter"},this._("Description")],fillspace:!0},{id:"delay",header:this._("Delay")}],extra:[{view:"search",icon:"arrow-up",wdith:250,label:"Period",localId:"alarm-period",placeholder:this._("Period"),on:{onSearchIconClick:function(){var t={scanTimeInMillis:e.$$("alarm-period").getValue()};Object(l.m)(e.projectId,t).then(function(e){Object(h.d)("Alarm Period is updated")})}}},{localId:"projectCombo",view:"combo",options:this.getProjectOptions(),width:400,label:"Project",on:{onChange:function(t){return e.changeProject(t)}}}]}},t.prototype.changeProject=function(e){var t=this,i=this.alarms.filter(function(t){return t.projectId==e});this.$$("alarmsGrid").clearAll(),this.$$("alarmsGrid").parse(i),this.projectId=e,Object(l.f)(this.projectId).then(function(e){t.$$("alarm-period").setValue(e.json().scanTimeInMillis)})},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getPopup=function(){return this.alarmPopup||(this.alarmPopup=this.ui(s.AlarmView)),this.alarmPopup},t.prototype.add=function(){this.showPopup({projectId:this.projectId})},t.prototype.addItem=function(e){return Object(l.d)(e)},t.prototype.updateItem=function(e){return Object(l.n)(e)},t.prototype.removeItem=function(e){return Object(l.l)(e)},t.prototype.ready=function(){this.projects.length>0&&(this.projectId=this.projects[0].id,this.$$("projectCombo").setValue(this.projectId))},t}(a.BaseMasterView);t.default=u},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=(i(23),i(22)),l=i(15),c=i(10),h=i(3),u=i(6),d=i(1),p=(i(4),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._;return this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure to continue?")},this.ctrl=!1,webix.promise.all([Object(c.f)(),Object(h.e)()]).then(function(t){e.animations=t[0].json(),e.animations.sort(function(e,t){return e.playOrder-t.playOrder}),e.projects=t[1].json(),e.variables=[];var i=e.createTemplate();return{rows:[{view:"toolbar",cols:[{view:"combo",id:"project_combo",label:"Project:",width:400,options:e.getProjectOptions(),on:{onChange:function(t){e.changeProject(t),Object(u.q)(t).then(function(t){e.variables=t.json()})}}},{view:"combo",localId:"animation_combo",label:"Animation:",width:400},{},{view:"icon",icon:"plus",click:function(){e.add()}},{view:"icon",icon:"pencil",click:function(){e.update()}},{view:"icon",icon:"minus",click:function(){e.remove()}}]},i]}}).catch(function(t){return e.projects=[],e.animations=[],{view:"template",temlate:"Failed to load animations data"}})},t.prototype.changeProject=function(e){var t=this;this.projectId=e;var i=this.getAnimationOptions();i.length>0?this.id=i[0].id:this.id=null,this.updateAnimationView(this.id);var o={view:"combo",localId:"animation_combo",label:"Animation:",width:400,value:this.id,options:i,on:{onChange:function(e){t.updateAnimationView(e)}}};webix.ui(o,this.$$("animation_combo"))},t.prototype.getAnimationOptions=function(){var e=this;this.animation=null,this.id=null;var t=this.animations.filter(function(t){return t.projectId==e.projectId});return t.length>0&&(this.animation=t[0],this.id=this.$$("animation_combo").getValue()),t.map(function(e){return{id:e.id,value:e.name}})},t.prototype.updateAnimationView=function(e){this.id=e;var t;if(e){for(var i=0;i<this.animations.length;i++)this.animations[i].projectId==this.projectId&&this.animations[i].id==e&&(this.animation=this.animations[i]);t=this.createTemplate()}else this.animation,t=this.createTemplate();webix.ui(t,this.$$("anim-view"))},t.prototype.createTemplate=function(){var e=this;return this.contextmenu&&this.contextmenu.destructor(),this.animation?{localId:"anim-view",view:"template",borderless:!1,type:"clean",template:function(){return'<div id="overlay" style="position:absolute;z-index:100;pointer-events:none"></div><div id="stage" style="width:100%;height:100%;background:'+e.animation.color+'">'+e.animation.svgContent+"</div>"},on:{onAfterRender:function(){e.svgInit(),e.refreshContextMenu(),Object(c.e)(e.id).then(function(t){e.animationElements=t.json()})},onKeyPress:function(t,i){e.changeControl(t)}}}:{localId:"anim-view",view:"template",borderless:!1,type:"clean",template:"No animations"}},t.prototype.refreshContextMenu=function(){var e=this;if(null!=this.animation){var t={view:"contextmenu",localId:"context",data:[{value:"New",type:1,icon:"plus"},{$template:"Separator"}],master:"stage",on:{onItemClick:function(t){var i=e.contextmenu.getMenuItem(t);1==i.type?e.addElement():2==i.type?e.updateElement(i.elementId):3==i.type&&e.removeElement(i.elementId)},onBeforeShow:function(){return null!=e.domElement}}};this.contextmenu=this.ui(t)}},t.prototype.changeAnimation=function(e,t){for(var i=0;i<this.animations.length;i++)this.animations[i].projectId==this.projectId&&this.animations[i].tabId==t&&(this.animation=this.animations[i],this.id=this.animations[i].id)},t.prototype.reloadAnimations=function(){this.animations.sort(function(e,t){return e.playOrder-t.playOrder}),this.changeProject(this.projectId)},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.add=function(){this.showAnimationPopup()},t.prototype.update=function(){var e=this.animation;e?this.showAnimationPopup(e):Object(d.d)("No selected animation")},t.prototype.remove=function(){var e=this,t=this.animation;t?Object(d.a)(this.confirmOptions,function(){return Object(c.h)(t.id).then(function(){for(var i=0;i<e.animations.length;i++)e.animations[i].id==t.id&&e.animations.splice(i,1);e.reloadAnimations(),Object(d.d)(e._("Animation removed"))})}):(Object(d.d)(this._("Animation removed")),Object(d.d)("No selected animation"))},t.prototype.save=function(e){var t=this;e.id?Object(d.a)(this.confirmOptions,function(){return Object(c.j)(e).then(function(){for(var i=0;i<t.animations.length;i++)t.animations[i].id==e.id&&(t.animations[i]=e);t.reloadAnimations(),Object(d.d)(t._("Animation updated successfully")),t.animationPopup.hideWindow()})}):Object(d.a)(this.confirmOptions,function(){return Object(c.a)(e).then(function(e){var i=e.json();t.animations.push(i),t.reloadAnimations(),Object(d.d)(t._("A new animation added")),t.animationPopup.hideWindow()})})},t.prototype.showAnimationPopup=function(e){e=e||{projectId:this.projectId},this.animationPopup.bindTo(e),this.animationPopup.showWindow()},t.prototype.init=function(){this.animationPopup=this.ui(s.AnimationView)},t.prototype.getVariableOptions=function(){return this.variables.map(function(e){return{id:e.id,value:e.name}})},t.prototype.ready=function(){this.projects.length>0&&this.$$("project_combo").setValue(this.projects[0].id)},t.prototype.svgInit=function(){var e=this;this.domElement=null,this.overlay=document.getElementById("overlay"),this.stage=document.getElementById("stage"),this.stage.onclick=function(t){var i=t.target;if(null==i||"svg"==i.tagName)return e.overlay.style["background-color"]="rgba(0,0,0,0)",e.overlay.style.outline="none",e.domElement=null,void e.loadContextmenu();if(null==e.getParent(i,"g")||e.ctrl||(i=e.getParent(i,"g")),"tspan"==i.tagName){var o=e.getParent(i,"text");null!=o&&(i=o)}e.domElement=i,e.loadContextmenu();var r=e.getAbsoluteBoundingRect(i);e.overlay.style["background-color"]="rgba(0,0,0,0.2)",e.overlay.style.outline="dashed white 2px",e.overlay.style.top=r.top+"px",e.overlay.style.left=r.left+"px",e.overlay.style.height=r.height+"px",e.overlay.style.width=r.width+"px"}},t.prototype.getDomElement=function(){return this.domElement},t.prototype.loadContextmenu=function(){var e=[{value:"New",type:1,icon:"plus"},{$template:"Separator"}];if(null!=this.domElement)for(var t=0;t<this.animationElements.length;t++)if(this.animationElements[t].domId==this.getDomElement().id){var i={value:this.animationElements[t].domId,type:2,icon:this.getIcon(this.animationElements[t].type),elementId:this.animationElements[t].id};e.push(i)}this.contextmenu.clearAll();for(var t=0;t<e.length;t++)this.contextmenu.add(e[t],t)},t.prototype.getIcon=function(e){switch(e){case"QRCodeScan":return"video-camera";case"QRCodeGeneration":return"qrcode";case"Tooltip":return"commenting";case"Set":return"keyboard-o";case"Script":return"code";case"Open":return"folder-open";case"Rotate":return"undo";case"Opacity":return"star-half-full";case"Get":return"magic";case"Color":return"tint";case"Bar":return"bar-chart";default:return"home"}},t.prototype.changeControl=function(e){17==e&&(0==this.ctrl?(this.ctrl=!0,Object(d.d)("Ctrl is ON")):(this.ctrl=!1,Object(d.d)("Ctrl is OFF")))},t.prototype.hasParent=function(e,t){return null!=e.parentElement&&(e.parentElement.tagName.toLowerCase()==t||this.hasParent(e.parentElement,t))},t.prototype.getParent=function(e,t){return null==e.parentElement?null:e.parentElement.tagName.toLowerCase()==t?e.parentElement:this.getParent(e.parentElement,t)},t.prototype.getAbsoluteBoundingRect=function(e){var t=document,i=window,o=t.body,r=void 0!==i.pageXOffset?i.pageXOffset:(t.documentElement||o.parentNode||o).scrollLeft,n=void 0!==i.pageYOffset?i.pageYOffset:(t.documentElement||o.parentNode||o).scrollTop,a=e.getBoundingClientRect();if(e!==o)for(var s=e.parentNode;s!==o;)r+=s.scrollLeft,n+=s.scrollTop,s=s.parentNode;return{bottom:a.bottom+n,height:a.height,left:a.left+r,right:a.right+r,top:a.top+n,width:a.width}},t.prototype.addElement=function(){if(null==this.getDomElement())return void Object(d.d)(this._("No selected dom element"));this.showAnimationElementPopup()},t.prototype.updateElement=function(e){var t=this.animationElements[this.getAnimationElementIndex(e)];t&&this.showAnimationElementPopup(t)},t.prototype.removeElement=function(e){var t=this,i=this.getAnimationElementIndex(e),o=this.animationElements[i];o&&Object(d.a)(this.confirmOptions,function(){return Object(c.i)(t.id,o.id).then(function(){t.animationElements.splice(i,1),t.loadContextmenu(),Object(d.d)(t._("Animation element removed"))})})},t.prototype.saveElement=function(e){var t=this;e.id?Object(d.a)(this.confirmOptions,function(){return Object(c.k)(e).then(function(){var i=t.getAnimationElementIndex(e.id);t.animationElements[i]=e,Object(d.d)(t._("Animation element updated successfully")),t.animationElementPopup.hideWindow(),t.loadContextmenu()})}):Object(d.a)(this.confirmOptions,function(){return Object(c.b)(e).then(function(e){var i=e.json();t.animationElements.push(i),Object(d.d)(t._("A new animation element added")),t.animationElementPopup.hideWindow(),t.loadContextmenu()})})},t.prototype.showAnimationElementPopup=function(e){e=e||{domId:this.getDomElement().id},e.animationId=this.id,this.animationElementPopup||(this.animationElementPopup=this.ui(l.AnimationElementView)),this.animationElementPopup.bindTo(this.getAnimationOptions(),e),this.animationElementPopup.showWindow()},t.prototype.getAnimationElementIndex=function(e){for(var t=0;t<this.animationElements.length;t++)if(this.animationElements[t].id==e)return t},t.prototype.getAnimationTypeOptions=function(){return c.c.map(function(e){return{id:e,value:e}})},t}(a.b));t.default=p},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),s=i(24),l=i(9),c=i(3),h=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getData=function(){var e=this;return new Promise(function(t,i){webix.promise.all([Object(c.e)(),Object(l.c)()]).then(function(i){e.projects=i[0].json(),t(i[1].json())}).catch(function(i){e.projects=[],t([])})})},t.prototype.getGridConfig=function(){return{localId:"connectionsGrid",title:this._("Connections"),view:"datatable",select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"projectId",editor:"combo",header:[{content:"selectFilter"},this._("Project")],fillspace:!0,collection:this.getProjectOptions()},{id:"name",header:[{content:"textFilter"},this._("Name")],fillspace:!0},{id:"dsc",header:[{content:"textFilter"},this._("Description")],fillspace:!0},{id:"ip",header:this._("Ip"),width:200},{id:"port",header:this._("Port")},{id:"timeout",header:this._("Timeout")},{id:"messageTimeout",header:this._("Msg_Timeout")}]}},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getPopup=function(){return this.connectionPopup||(this.connectionPopup=this.ui(s.ConnectionView)),this.connectionPopup},t.prototype.addItem=function(e){return Object(l.a)(e)},t.prototype.updateItem=function(e){return Object(l.h)(e)},t.prototype.removeItem=function(e){return Object(l.e)(e)},t}(a.BaseMasterView);t.default=h},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),s=i(25),l=i(26),c=i(8),h=i(9),u=i(13),d=i(3),p=i(1),f=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getData=function(){var e=this;return new Promise(function(t,i){webix.promise.all([Object(d.e)(),Object(h.c)(),Object(c.g)(),Object(u.m)()]).then(function(i){e.projects=i[0].json(),e.projectId=e.projects[0].id,e.connections=i[1].json(),e.devices=i[2].json(),e.deviceTmpl=i[3].json(),t([])}).catch(function(i){e.connections=[],t([])})})},t.prototype.getGridConfig=function(){var e=this;return{localId:"devicesGrid",title:"Devices",view:"datatable",select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"connectionId",editor:"combo",header:[this._("Connection"),{content:"selectFilter"}],fillspace:!0,collection:this.getConnectionOptions(!0)},{id:"name",header:[this._("Name"),{content:"textFilter"}],fillspace:!0},{id:"dsc",header:[this._("Description"),{content:"textFilter"}],fillspace:!0},{id:"protocol",header:this._("Protocol"),width:200},{id:"stationAddress",header:this._("Station Address")},{id:"scanTime",header:this._("Scan Time")}],extra:[{localId:"projectCombo",view:"combo",options:this.getProjectOptions(),width:400,label:"Project",on:{onChange:function(t){return e.changeProject(t)}}},{view:"button",label:this._("Import"),type:"iconButton",icon:"plus",width:100,click:function(){return e.popupDevices()}}],on:{onItemDblClick:function(t,i,o){Object(p.g)(e.$$("devicesGrid").getSelectedItem(),e.$$("devicesGrid").Aj,"Device")}}}},t.prototype.getDetailGridConfig=function(){var e=this;return{localId:"framesGrid",title:"Frames",view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"deviceId",hidden:!0},{id:"name",header:[this._("Name"),{content:"textFilter"}],fillspace:!0},{id:"dsc",header:[this._("Description"),{content:"textFilter"}],fillspace:!0},{id:"type",header:this._("Type")},{id:"startAddress",header:this._("Start Address")},{id:"quantity",header:this._("Quantity")},{id:"eventBufferSize",header:this._("Buffer Size")},{id:"isReadable",header:this._("Is Readable?"),template:this.customCheckbox,css:{"text-align":"center"}},{id:"isWritable",header:this._("Is Writable?"),template:this.customCheckbox,css:{"text-align":"center"}}],load:function(e){return Object(c.i)(e.connectionId,e.id)},on:{onItemDblClick:function(t,i,o){Object(p.g)(e.$$("framesGrid").getSelectedItem(),e.$$("framesGrid").Aj,"Frame")}}}},t.prototype.popupDevices=function(){var e=this,t={view:"popup",padding:0,position:"center",id:"devicePopup",body:{width:500,id:"devicePicker",view:"form",elementsConfig:{labelWidth:100},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Device Picker")},{},{view:"icon",icon:"window-close",click:function(){webix.$$("devicePopup").close()}}]},{height:10},{view:"richselect",label:this._("Connection"),id:"connectionId",required:!0,options:this.getConnectionOptions(!1)},{view:"richselect",label:this._("Devices"),id:"deviceId",required:!0,options:this.getDeviceOptions()},{view:"text",id:"prefixId",label:this._("Prefix")},{view:"text",id:"suffixId",label:this._("Suffix")},{height:10},{view:"button",type:"form",width:125,align:"right",label:this._("Save"),click:function(){return e.saveForm(webix.$$("connectionId").getValue(),webix.$$("deviceId").getValue())}}]}]}};this.ui(t).show()},t.prototype.ready=function(){this.projects&&this.projects.length>0&&this.$$("projectCombo").setValue(this.projects[0].id)},t.prototype.validateForm=function(){return!(!webix.$$("connectionId").getValue()||!webix.$$("deviceId").getValue())||(webix.message({type:"error",text:this._("Form data is invalid")}),!1)},t.prototype.saveForm=function(e,t){var i=this,o=webix.$$("prefixId").getValue()+"/"+webix.$$("suffixId").getValue();this.validateForm()&&Object(u.q)(e,t,o).then(function(e){e.json().status?(webix.$$("devicePopup").close(),i.reload()):i.showError("error",e.json().message)})},t.prototype.reload=function(){var e=this;this.$$("devicesGrid").clearAll(),Object(c.g)().then(function(t){e.devices=t.json(),e.changeProject(e.projectId)})},t.prototype.showError=function(e,t){webix.message({type:e,text:t})},t.prototype.changeProject=function(e){var t=this;this.projectId=e;for(var i=this.connections.filter(function(e){return e.projectId==t.projectId}),o=[],r=0;r<i.length;r++)for(var n=0;n<this.devices.length;n++)i[r].id==this.devices[n].connectionId&&o.push(this.devices[n]);var a=this.getGrid();a.clearAll(),this.$$("framesGrid").clearAll(),a.parse(o)},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getConnectionOptions=function(e){var t=this;return e?this.connections.map(function(e){return{id:e.id,value:e.name}}):this.connections.filter(function(e){return e.projectId==t.projectId}).map(function(e){return{id:e.id,value:e.name}})},t.prototype.getDeviceOptions=function(){return this.deviceTmpl.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getSelectedDevice=function(){var e=this.$$("devicesGrid").getSelectedItem();return[{id:e.id,value:e.name}]},t.prototype.getSelectedDeviceItem=function(){return this.$$("devicesGrid").getSelectedItem()},t.prototype.getProtocolOptions=function(){return c.d.map(function(e){return{id:e,value:e}})},t.prototype.getFrameTypeOptions=function(){return c.b.map(function(e){return{id:e,value:e}})},t.prototype.getFrameTypeOptionsDNP=function(){return c.c.map(function(e){return{id:e,value:e}})},t.prototype.getVariablePointClassOptions=function(){return c.a.map(function(e){return{id:e,value:e}})},t.prototype.getVariationTypes=function(e){return e.map(function(e){return{id:e,value:e}})},t.prototype.getPopup=function(){return this.devicePopup||(this.devicePopup=this.ui(s.DeviceView)),this.devicePopup},t.prototype.getDetailPopup=function(){return this.framePopup||(this.framePopup=this.ui(l.FrameView)),this.framePopup},t.prototype.addItem=function(e){return Object(c.e)(e)},t.prototype.updateItem=function(e){return Object(c.l)(e)},t.prototype.removeItem=function(e){return Object(c.j)(e)},t.prototype.addItemDetail=function(e,t){return Object(c.f)(e,t)},t.prototype.updateItemDetail=function(e,t){return Object(c.m)(e,t)},t.prototype.removeItemDetail=function(e,t){return Object(c.k)(e,t)},t}(a.BaseMasterView);t.default=f},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(11),l=i(3),c=i(4),h=i(1),u=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.page=0,this.projects=[],Object(l.e)().then(function(t){e.projects=t.json(),e.$$("projectCombo").define("options",e.getProjectOptions()),e.$$("projectCombo").refresh()}),{cols:[{rows:[Object(c.CrudToolbar)({title:t("Alarm History"),extra:[{view:"button",width:130,type:"iconButton",icon:"refresh",label:t("Reload"),click:function(){return e.reloadData(e.page)}},{view:"button",width:130,type:"iconButton",icon:"check",label:t("Acknowledge"),click:function(){return e.acknowledge()}}]}),{localId:"firedAlarmsGrid",view:"datatable",select:"row",css:"rows",multiselect:!0,resizeColumn:!0,scrollX:!1,columns:[{id:"id"},{id:"name",header:t("Name"),adjust:!0},{id:"status",header:t("Status"),width:100},{id:"onDate",header:t("On Date"),format:webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),width:150},{id:"offDate",header:t("Off Date"),format:webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),width:150},{id:"acknowledgeDate",header:t("Acknowledge Date"),format:webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),width:150},{id:"acknowledger",header:t("Acknowledger"),width:200}],scheme:{$init:function(e){e.onDate&&(e.onDate=new Date(e.onDate)),e.offDate&&(e.offDate=new Date(e.offDate)),e.acknowledgeDate&&(e.acknowledgeDate=new Date(e.acknowledgeDate))}}},{height:40,cols:[{id:"alarm-pager"},{}]}]},{header:t("Search Form"),width:400,margin:10,body:{localId:"alarm-search-form",view:"form",elementsConfig:{labelWidth:125},elements:[{rows:[{id:"formProjectId",name:"formProjectId",view:"combo",label:t("Project"),localId:"projectCombo",required:!0},{id:"formAlarmId",view:"text",label:t("Name")},{id:"formStatus",view:"combo",label:t("Status"),options:this.getFiredAlarmStatusOptions()},{id:"formAcknowledger",view:"text",label:t("Acknowledger")},{height:20},{template:t("On Date Range"),type:"section"},{cols:[{id:"formOnDateSt",view:"datepicker",timepicker:!0,stringResult:!0,format:"%d/%m/%Y %H:%i"},{id:"formOnDateEn",view:"datepicker",timepicker:!0,stringResult:!0,format:"%d/%m/%Y %H:%i"}]},{height:10},{template:t("Off Date Range"),type:"section"},{cols:[{id:"formOffDateSt",view:"datepicker",timepicker:!0,stringResult:!0,format:"%d/%m/%Y %H:%i"},{id:"formOffDateEn",view:"datepicker",timepicker:!0,stringResult:!0,format:"%d/%m/%Y %H:%i"}]},{height:10},{template:t("Acknowledge Date Range"),type:"section"},{cols:[{id:"formAckDateSt",view:"datepicker",timepicker:!0,stringResult:!0,format:"%d/%m/%Y %H:%i"},{id:"formAckDateEn",view:"datepicker",timepicker:!0,stringResult:!0,format:"%d/%m/%Y %H:%i"}]},{height:20},{view:"button",icon:"search",width:125,align:"right",type:"form",label:t("Search"),click:function(){return e.reloadData(0)}},{}]}]}}]}},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getFiredAlarmStatusOptions=function(){return s.a.map(function(e){return{id:e,value:e}})},t.prototype.pagerFunction=function(e){this.reloadData(e)},t.prototype.reloadData=function(e){var t=this;if(this.$$("alarm-search-form").validate()){this.page=e=e||0;var i=webix.Date.dateToStr("%d-%m-%Y %H:%i:%s"),o={size:20,page:e,sort:"onDate,desc",projectId:this.$$("formProjectId").getValue(),alarmName:this.$$("formAlarmId").getValue(),status:this.$$("formStatus").getValue(),onDateSt:i(this.$$("formOnDateSt").getValue()),onDateEn:i(this.$$("formOnDateEn").getValue()),offDateSt:i(this.$$("formOffDateSt").getValue()),offDateEn:i(this.$$("formOffDateEn").getValue()),ackDateSt:i(this.$$("formAckDateSt").getValue()),ackDateEn:i(this.$$("formAckDateEn").getValue()),acknowledger:this.$$("formAcknowledger").getValue()};return webix.promise.all([Object(s.i)(o.projectId),Object(s.j)(o)]).then(function(e){for(var i=e[0].json(),o=e[1].json(),r=o.content,n=0;n<r.length;n++)!function(e){var t=i.find(function(t){return t.id==r[e].alarmId});r[e].name=t.name}(n);t.$$("firedAlarmsGrid").clearAll(),t.$$("firedAlarmsGrid").parse(r),Object(h.f)(t,o.number,o.totalPages,"alarm-pager")})}},t.prototype.acknowledge=function(){var e=this,t=this.$$("firedAlarmsGrid").getSelectedId(!0,!0),i=[];t.forEach(function(e){return i.push(Object(s.b)(e))}),webix.promise.all(i).then(function(){return e.reloadData(e.page)})},t.prototype.ready=function(){},t}(a.b);t.default=u},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(11),l=i(3),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.projects=[],Object(l.e)().then(function(t){e.projects=t.json(),e.$$("projectCombo").define("options",e.getProjectOptions()),e.$$("projectCombo").refresh()}),{rows:[{view:"toolbar",cols:[{view:"combo",localId:"projectCombo",label:t("Project"),width:400,on:{onChange:function(t){e.projectId=t,e.loadAlarms()}}},{},{view:"button",width:130,type:"iconButton",icon:"refresh",label:t("Reload"),click:function(){return e.reloadData()}},{view:"button",width:130,type:"iconButton",icon:"check",label:t("Acknowledge"),click:function(){return e.acknowledge()}}]},{localId:"firedAlarmsGrid",view:"datatable",select:"row",multiselect:!0,resizeColumn:!0,scrollX:!1,css:"rows",columns:[{id:"id",hidden:!0},{id:"name",header:t("Name"),fillspace:!0},{id:"dsc",header:t("Description"),fillspace:!0},{id:"status",header:t("Status"),width:150},{id:"onDate",header:t("On Date"),format:webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),width:200},{id:"acknowledgeDate",header:t("Acknowledge Date"),format:webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),width:200},{id:"acknowledger",header:t("Acknowledger"),width:300}],scheme:{$init:function(e){e.onDate&&(e.onDate=new Date(e.onDate)),e.offDate&&(e.offDate=new Date(e.offDate)),e.acknowledgeDate&&(e.acknowledgeDate=new Date(e.acknowledgeDate))}}}]}},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.loadAlarms=function(){var e=this;Object(s.i)(this.projectId).then(function(t){e.alarms=t.json(),e.reloadData()})},t.prototype.reloadData=function(){var e=this;if(this.alarms&&this.alarms.length>0)return webix.promise.all([Object(s.g)(this.alarms),Object(s.k)(this.projectId)]).then(function(t){for(var i=t[0].json(),o=0;o<e.alarms.length;o++)e.alarms[o].status=i[e.alarms[o].id]||"Not Available";for(var r=t[1].json(),n=0;n<r.length;n++)!function(t){var i=e.alarms.find(function(e){return e.id==r[t].alarmId});r[t].name=i.name,r[t].active=i.status,r[t].dsc=i.dsc}(n);e.$$("firedAlarmsGrid").clearAll(),e.$$("firedAlarmsGrid").parse(r.filter(function(e){return"Active"==e.active&&"On"==e.status}))});this.$$("firedAlarmsGrid").clearAll(),this.$$("firedAlarmsGrid").parse([])},t.prototype.acknowledge=function(){var e=this,t=this.$$("firedAlarmsGrid").getSelectedId(!0,!0),i=[];t.forEach(function(e){return i.push(Object(s.b)(e))}),webix.promise.all(i).then(function(){return e.reloadData()})},t.prototype.runPeriodically=function(){var e=this;this.timer=setInterval(function(){try{e.reloadData()}catch(e){}},5e3)},t.prototype.stopPeriodically=function(){this.timer&&clearInterval(this.timer)},t.prototype.ready=function(){this.projects.length>0&&this.$$("projectCombo").setValue(this.projects[0].id),this.runPeriodically()},t.prototype.destroy=function(){this.stopPeriodically()},t}(a.b);t.default=c},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(132),l=i(4),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return Object(s.a)().then(function(t){e.jobs=t.json(),e.$$("jobsGrid").parse(e.jobs)}),{rows:[Object(l.CrudToolbar)({title:t("Jobs"),extra:[{view:"button",width:130,type:"iconButton",icon:"refresh",label:t("Reload"),click:function(){return e.reloadData()}}]}),{id:"jobsGrid",view:"datatable",select:"row",css:"rows",resizeColumn:!0,multiselect:!0,scrollX:!1,tooltip:!0,columns:[{id:"id",hidden:!0},{id:"name",header:[{content:"textFilter"},this._("Name")],fillspace:!0},{id:"type",header:[{content:"textFilter"},this._("Type")],fillspace:!0},{id:"period",header:[{content:"textFilter"},this._("Period")],fillspace:!0},{id:"time",header:[{content:"textFilter"},this._("Time")],fillspace:!0}]}]}},t.prototype.reloadData=function(){var e=this;Object(s.a)().then(function(t){e.jobs=t.json(),e.$$("jobsGrid").clearAll(),e.$$("jobsGrid").parse(e.jobs)})},t}(a.b);t.default=c},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(133),l=i(3),c=i(4),h=i(1),u=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure you want to continue?")},Object(l.e)().then(function(i){return e.projects=i.json(),{cols:[{rows:[Object(c.CrudToolbar)({title:t("Logs"),extra:[{view:"button",icon:"trash",width:135,type:"iconButton",label:t("Remove All"),click:function(){return e.removeAll()}},{view:"button",icon:"trash",width:125,type:"iconButton",label:t("Remove"),click:function(){return e.showPopUp()}},{view:"button",width:130,type:"iconButton",icon:"refresh",label:t("Reload"),click:function(){return e.reloadData(e.page)}}]}),{localId:"logsGrid",view:"datatable",select:"row",css:"rows",multiselect:!0,scrollX:!1,tooltip:!0,resizeColumn:!0,columns:[{id:"id",hidden:!0},{id:"projectId",editor:"combo",header:e._("Project"),width:150,collection:e.getProjectOptions(),adjust:!0},{id:"source",header:e._("Source"),width:150,adjust:!0},{id:"activity",header:e._("Activity"),adjust:!0},{id:"msg",header:e._("Message"),fillspace:!0,tooltip:"#msg#"},{id:"date",header:e._("Date"),format:webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),adjust:!0},{id:"logSeverity",editor:"combo",header:e._("Log Severity"),adjust:!0,collection:e.getLogSeverityOptions()}],scheme:{$init:function(e){e.date&&(e.date=new Date(e.date))}},on:{onItemDblClick:function(t,i,o){e.showOutput(e.$$("logsGrid").getSelectedItem())}}},{height:40,cols:[{id:"log-pager"},{}]}]},{header:t("Search Form"),width:400,margin:10,body:{localId:"log-search-form",view:"form",elementsConfig:{labelWidth:125},elements:[{rows:[{localId:"formProjectId",view:"combo",name:"project",label:e._("Project"),options:e.getProjectOptions()},{localId:"formSource",view:"text",label:e._("Source")},{localId:"formActivity",view:"text",label:e._("Activity")},{localId:"formLogSeverity",view:"combo",label:e._("Log Severity"),options:e.getLogSeverityOptions()},{height:20},{template:t("Date Range"),type:"section"},{cols:[{localId:"formDateSt",view:"datepicker",name:"startD",timepicker:!0,stringResult:!0,format:"%d/%m/%Y %H:%i",required:!0},{localId:"formDateEn",view:"datepicker",name:"endD",timepicker:!0,stringResult:!0,format:"%d/%m/%Y %H:%i",required:!0}]},{height:20},{view:"button",icon:"search",width:125,align:"right",type:"form",label:t("Search"),click:function(){return e.reloadData(0)}},{}]}],rules:{startD:webix.rules.isNotEmpty,endD:webix.rules.isNotEmpty}}}]}}).catch(function(i){return e.projects=[],{view:"template",template:t("Failed to load log data")}})},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getSourceOptions=function(){return s.b.map(function(e){return{id:e,value:e}})},t.prototype.getLogSeverityOptions=function(){return s.a.map(function(e){return{id:e,value:e}})},t.prototype.pagerFunction=function(e){this.reloadData(e)},t.prototype.reloadData=function(e){var t=this;if(!this.$$("log-search-form").validate())return void webix.message({type:"error",text:"Form data is invalid"});this.page=e=e||0;var i=webix.Date.dateToStr("%d-%m-%Y %H:%i:%s"),o={size:20,page:e,sort:"date,desc",projectId:this.$$("formProjectId").getValue(),source:this.$$("formSource").getValue(),activity:this.$$("formActivity").getValue(),logSeverity:this.$$("formLogSeverity").getValue(),dateSt:i(this.$$("formDateSt").getValue()),dateEn:i(this.$$("formDateEn").getValue())};return""!=this.$$("formProjectId").getValue()&&this.$$("logsGrid").showProgress({}),Object(s.c)(o).then(function(e){t.logData=e.json(),t.$$("logsGrid").clearAll(),t.$$("logsGrid").parse(t.logData.content),Object(h.f)(t,t.logData.number,t.logData.totalPages,"log-pager")})},t.prototype.removeLogs=function(){var e=this;if(webix.$$("log-remove-form").validate()){this.confirmOptions.text=this._("Are you sure to remove it?");var t=webix.Date.dateToStr("%d-%m-%Y-%H:%i:%s"),i=t(webix.$$("removeDateSt").getValue()),o=t(webix.$$("removeDateEn").getValue());Object(h.a)(this.confirmOptions,function(){webix.$$("removePopup").close(),e.$$("logsGrid").showProgress({type:"icon",icon:"refresh",hide:!1}),Object(s.e)(i,o).then(function(t){e.$$("logsGrid").clearAll(),e.$$("logsGrid").hideProgress(),Object(h.d)(e._("Logs removed"))})})}},t.prototype.removeAll=function(){var e=this;this.confirmOptions.text=this._("Are you sure to remove all logs?"),Object(h.a)(this.confirmOptions,function(){e.$$("logsGrid").showProgress({type:"icon",icon:"refresh",hide:!1}),Object(s.d)().then(function(t){e.$$("logsGrid").clearAll(),e.$$("logsGrid").hideProgress(),Object(h.d)(e._("All logs removed"))})})},t.prototype.showPopUp=function(){var e=this,t={view:"popup",padding:0,position:"center",id:"removePopup",body:{width:500,id:"log-remove-form",view:"form",elementsConfig:{labelWidth:100},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Remove Logs")},{},{view:"icon",icon:"window-close",click:function(){webix.$$("removePopup").close()}}]},{height:10},{template:this._("Date Range"),type:"section"},{cols:[{id:"removeDateSt",view:"datepicker",timepicker:!0,stringResult:!0,format:"%d/%m/%Y %H:%i"},{id:"removeDateEn",view:"datepicker",timepicker:!0,stringResult:!0,format:"%d/%m/%Y %H:%i"}]},{height:10},{view:"button",type:"form",width:125,align:"right",label:this._("Remove"),click:function(){return e.removeLogs()}}]}]}};this.ui(t).show()},t.prototype.showOutput=function(e){var t={view:"window",move:!0,resize:!0,width:500,head:!1,position:"center",id:"logPopup",body:{view:"form",elementsConfig:{labelWidth:100},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Log Message")},{},{view:"icon",icon:"window-close",click:function(){webix.$$("logPopup").close()}}]},{view:"text",value:e.source,label:this._("Source"),readonly:!0},{view:"text",value:e.activity,label:this._("Activity"),readonly:!0},{view:"text",value:e.date,label:this._("Date"),readonly:!0},{view:"text",value:e.logSeverity,label:this._("Log severity"),readonly:!0},{height:10},{template:this._("Message"),type:"section"},{view:"template",template:e.msg,align:"center",scroll:"y",height:200},{height:10}]}]}};this.ui(t).show()},t.prototype.ready=function(){webix.extend(this.$$("logsGrid"),webix.ProgressBar)},t}(a.b);t.default=u},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(5),l=i(3),c=i(14),h=i(1),u=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.myformat=webix.Date.dateToStr("%d-%m-%Y-%H:%i:00"),this.dateFormat=webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),this.chart=!1,webix.promise.all([Object(l.e)(),Object(c.l)()]).then(function(i){return e.projects=i[0].json(),e.reports=i[1].json(),{id:"id-scada-body",cols:[{view:"iframe",localId:"reprot-template",src:""},{header:"Ayarlar",width:300,margin:10,body:{view:"form",localId:"trendForm",elementsConfig:{labelWidth:100,labelPosition:"top"},elements:[{view:"combo",label:t("Projects"),localId:"projectCombo",options:e.getProjectOptions(),on:{onChange:function(t){var i=e.reports.filter(function(e){return e.projectId==t}).map(function(e){return{id:e.id,value:e.name}});e.$$("reportCombo").define("options",i),e.$$("reportCombo").refresh(),i.length>0&&e.$$("reportCombo").setValue(i[0].id)}}},{view:"combo",label:"Reports",localId:"reportCombo",options:[],invalidMessage:"Choose Report",on:{onChange:function(t){e.reportId=t,e.updateReportStatus()}}},{view:"datepicker",localId:"startDate",label:"Başlangıç Tarih/Saat",value:new Date(new Date),format:"%d/%m/%Y",on:{onChange:function(){}}},{height:20},{view:"switch",localId:"scheduler",value:0,labelRight:"SCHEDULED",onLabel:"ON",offLabel:"OFF",readonly:!0},{cols:[{view:"button",type:"iconButton",icon:"play-circle",label:t("Schedule"),click:function(){Object(c.s)(e.reportId).then(function(){e.updateReportStatus()})}},{view:"button",type:"iconButton",icon:"stop-circle",label:t("Cancel"),click:function(){Object(c.f)(e.reportId).then(function(){e.updateReportStatus()})}}]},{},{cols:[{view:"button",width:125,align:"right",label:t("Print"),click:function(){return e.print()}},{},{view:"button",width:125,align:"right",type:"form",label:t("Preview"),click:function(){return e.updateReportView()}}]}]}}]}}).catch(function(t){return e.reports=[],{view:"template",temlate:"Failed to load report data"}})},t.prototype.updateReportStatus=function(){var e=this;this.reportId&&Object(c.i)(this.reportId).then(function(t){var i=t.json(),o=e.$$("scheduler");o.setValue(0),i&&"Scheduled"==i&&o.setValue(1)})},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getReportOptions=function(){return this.reports.map(function(e){return{id:e.id,value:e.name}})},t.prototype.print=function(){var e=this.$$("reportCombo").getValue();if(e){var t=this.$$("startDate").getValue(),i=new Date(t);i.setDate(t.getDate()+1);var o=this.reports.filter(function(t){return t.id==e})[0];if(o.reportTime){var r=o.reportTime.split(":");t.setHours(r[0]),t.setMinutes(r[1]),i.setHours(r[0]),i.setMinutes(r[1])}var n=this.myformat(t),a=this.myformat(i);Object(c.n)(e,n,a).then(function(){Object(h.d)("Report has been printed")})}},t.prototype.updateReportView=function(){var e=this.$$("reportCombo").getValue();if(e){var t=this.$$("startDate").getValue(),i=new Date(t);i.setDate(t.getDate()+1);var o=this.reports.filter(function(t){return t.id==e})[0];if(o.reportTime){var r=o.reportTime.split(":");t.setHours(r[0]),t.setMinutes(r[1]),i.setHours(r[0]),i.setMinutes(r[1])}var n=this.myformat(t),a=this.myformat(i),l={view:"iframe",localId:"reprot-template",src:s.a+"/reports/"+e+"/jreport?startDate="+n+"&endDate="+a};webix.ui(l,this.$$("reprot-template"))}},t.prototype.ready=function(){this.reports.length>0&&this.$$("reportCombo").setValue(this.reports[0].id)},t}(a.b);t.default=u},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(3),l=i(17),c=i(6),h=i(18),u=(i.n(h),i(27)),d=(i.n(u),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.myformat=webix.Date.dateToStr("%d-%m-%Y-%H:%i:%s"),this.dateFormat=webix.Date.dateToStr("%d/%m/%Y %H:%i:%s"),this.chart=!1,webix.promise.all([Object(s.e)(),Object(l.d)()]).then(function(i){return e.projects=i[0].json(),e.trends=i[1].json(),e.period=1e3,{id:"id-scada-body",cols:[{view:"template",id:"trendView",template:'<div id="trendChart" style="width:100%;height:100%"></div>'},{header:t("Settings"),width:300,margin:10,body:{view:"form",localId:"trendForm",elementsConfig:{labelWidth:100,labelPosition:"top"},elements:[{view:"combo",label:t("Projects"),localId:"projectCombo",options:e.getProjectOptions(),on:{onChange:function(t){var i=e.trends.filter(function(e){return e.projectId==t}).map(function(e){return{id:e.id,value:e.name}});e.$$("trendCombo").define("options",i),e.$$("trendCombo").refresh(),i.length>0&&e.$$("trendCombo").setValue(i[0].id)}}},{view:"combo",label:t("Trends"),localId:"trendCombo",options:[],invalidMessage:t("Choose Trend"),on:{onChange:function(){e.loadTrend()}}},{view:"switch",localId:"live",value:0,labelRight:t("Live"),onLabel:t("On"),offLabel:t("Off")},{view:"datepicker",localId:"startDate",timepicker:!0,label:t("Start Date"),value:new Date(new Date-432e6),format:"%d/%m/%Y %H:%i"},{view:"datepicker",localId:"endDate",timepicker:!0,label:t("End Date"),value:new Date,format:"%d/%m/%Y %H:%i"},{localId:"interval",view:"text",value:900,type:"number",label:t("Interval (Second)")},{},{view:"button",width:125,align:"right",type:"form",label:t("Load"),click:function(){return e.updateTrend()}}]}}]}}).catch(function(i){return e.projects=[],e.trends=[],{view:"template",template:t("Failed to load trend data")}})},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.loadTrend=function(){var e=this,t=this.$$("trendCombo").getValue();this.period=this.trends.filter(function(e){return e.id==t})[0].period,Object(l.c)(t).then(function(t){e.trendTags=t.json()})},t.prototype.updateTrend=function(){var e=this;if(!this.$$("trendCombo").getValue())return void webix.alert(_("Select the Trend first"),"alert-warning");if(!this.$$("interval").getValue())return void webix.alert(_("Interval cannot be empty"),"alert-warning");if(this.$$("trendView").showProgress({hide:!0}),this.streamTrend&&clearInterval(this.streamTrend),this.chart&&this.chart.clear(),this.$$("live").getValue()){if(this.$$("startDate").hide(),this.$$("endDate").hide(),this.$$("interval").hide(),this.trendTags.length>0){for(var t=this.trendTags.map(function(e){return{id:e.variableId,value:e.name}}),i=[],o=0;o<t.length;o++)i.push(t[o].id);Object(c.l)(i).then(function(t){var o=t.json();o=e.transformVariablesLive(o),e.configureChartDataLive(o,e.orderTags(o),i)})}}else if(this.$$("startDate").show(),this.$$("endDate").show(),this.$$("interval").show(),this.trendTags.length>0){var t=this.trendTags.map(function(e){return{id:e.variableId,value:e.name}});Object(c.g)(t,this.myformat(this.$$("startDate").getValue()),this.myformat(this.$$("endDate").getValue()),this.$$("interval").getValue()).then(function(t){var i=t.json();e.configureChartData(i,e.orderTags(i))})}},t.prototype.transformVariablesLive=function(e){for(var t=Object.keys(e),i={},o=0;o<t.length;o++)i[t[o]]=[];for(var o=0;o<t.length;o++)i[t[o]].push({variableId:t[o],date:e[t[o]].date,value:e[t[o]].value});return i},t.prototype.configureChartDataLive=function(e,t,i){for(var o=this,r=[],n=[],a=0;a<t.length;a++){var s={id:"v"+t[a].id,axisColor:t[a].color,axisThickness:2,axisAlpha:1,offset:60*a,position:"left",color:t[a].color};r.push(s);var l={id:"g"+t[a].id,valueAxis:"v"+t[a].id,lineColor:t[a].color,lineThickness:t[a].thickness,bullet:"round",title:t[a].name,valueField:t[a].variableId,fillAlphas:0,hideBulletsCount:50};n.push(l)}this.constructChart([],r,n),this.streamTrend=setInterval(function(){Object(c.l)(i).then(function(e){var t=e.json();t=o.transformVariablesLive(t);for(var i=Object.keys(t),r={},n=0;n<i.length;n++)r.date=new Date,r[i[n]]=t[i[n]][0].value,o.chart.dataProvider.push(r);o.chart.validateData()})},this.period)},t.prototype.orderTags=function(e){for(var t=[],i=[],o=0;o<this.trendTags.length;o++)if(e[this.trendTags[o].variableId]){var r={id:this.trendTags[o].id,date:new Date(e[this.trendTags[o].variableId][0].dttm)||new Date};i.push(r)}i.sort(function(e,t){return e.date-t.date});for(var o=0;o<i.length;o++)for(var n=0;n<this.trendTags.length;n++)i[o].id==this.trendTags[n].id&&t.push(this.trendTags[n]);return t},t.prototype.configureChartData=function(e,t){for(var i=[],o=[],r=[],n=0;n<t.length;n++){var a={id:"v"+t[n].id,axisColor:t[n].color,axisThickness:2,axisAlpha:1,offset:60*n,position:"left",color:t[n].color};o.push(a);var s={id:"g"+t[n].id,valueAxis:"v"+t[n].id,lineColor:t[n].color,lineThickness:t[n].thickness,bullet:"round",title:t[n].name,valueField:t[n].variableId,fillAlphas:0,hideBulletsCount:50};r.push(s);for(var l=0;l<e[t[n].variableId].length;l++){for(var c=!1,h=0,u=new Date(e[t[n].variableId][l].dttm);h<i.length&&0==c;)i[h].date==this.dateFormat(u)&&(c=!0,i[h][t[n].variableId]=e[t[n].variableId][l].rawValue),h++;if(0==c){for(var d={date:this.dateFormat(u)},p=0;p<t.length;p++)d[t[p].variableId]=0;d[t[n].variableId]=e[t[n].variableId][l].rawValue,i.push(d)}}}this.constructChart(i,o,r)},t.prototype.constructChart=function(e,t,i){this.chart=window.AmCharts.makeChart("trendChart",{path:"../images/amcharts",type:"serial",theme:"black",marginRight:40,marginLeft:40,autoMarginOffset:20,mouseWheelZoomEnabled:!0,dataDateFormat:"DD/MM/YYYY JJ:NN:SS",color:"white",valueAxes:t,balloon:{borderThickness:1,shadowAlpha:0},legend:{useGraphSettings:!0,color:"#000000",labelWidth:150,valueWidth:100,valueAlign:"right"},graphs:i,chartScrollbar:{graph:"g1",oppositeAxis:!0,offset:10,scrollbarHeight:40,backgroundAlpha:0,selectedBackgroundAlpha:.8,selectedBackgroundColor:"green",graphFillAlpha:0,graphLineAlpha:.5,selectedGraphFillAlpha:0,selectedGraphLineAlpha:1,autoGridCount:!0,color:"#fff"},chartCursor:{pan:!0,valueLineEnabled:!0,valueLineBalloonEnabled:!0,cursorAlpha:1,cursorColor:"#258cbb",limitToGraph:"g1",valueLineAlpha:.2,categoryBalloonDateFormat:"DD/MM/YYYY JJ:NN:SS",valueZoomable:!0},valueScrollbar:{oppositeAxis:!0,offset:20,scrollbarHeight:10},categoryField:"date",categoryAxis:{parseDates:!0,dashLength:1,minorGridEnabled:!0,minPeriod:"ss"},export:{enabled:!0,position:"top-left"},dataProvider:e}),this.chart.addListener("rendered",this.zoomChart())},t.prototype.zoomChart=function(){this.chart.zoomToIndexes(this.chart.dataProvider.length-(this.chart.dataProvider.length-10),this.chart.dataProvider.length-1)},t.prototype.getTrendForm=function(e){return{}},t.prototype.ready=function(){this.projects.length>0&&this.$$("projectCombo").setValue(this.projects[0].id),webix.extend(this.$$("trendView"),webix.ProgressBar)},t.prototype.destroy=function(){this.streamTrend&&clearInterval(this.streamTrend)},t}(a.b));t.default=d},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(3),l=i(9),c=i(6),h=i(4),u=i(1),d=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;return this.myformat=webix.Date.dateToStr("%d-%m-%Y-%H:%i:%s"),this.projects=[],Object(s.e)().then(function(t){e.projects=t.json(),e.$$("projectCombo").define("options",e.getProjectOptions()),e.$$("projectCombo").refresh()}),{cols:[{rows:[Object(h.CrudToolbar)({title:t("Variable History")}),{localId:"variablesGrid",view:"datatable",select:"row",css:"rows",resizeColumn:!0,scroll:"xy",rowLineHeight:25,rowHeight:25,columns:[{id:"Id",hidden:!0},{id:"isActive",header:this._("Is Active?"),template:function(e){return e.isActive?"<span class='webix_icon fa-check-square-o'></span>":"<span class='webix_icon fa-square-o'></span>"}},{id:"name",header:this._("Name"),adjust:!0},{id:"type",header:this._("Type"),adjust:!0,collection:this.typeOptions},{id:"date",header:this._("Date"),css:{color:"#27b6c6","font-size":"12"},adjust:!0,format:webix.Date.dateToStr("%d/%m/%Y %H:%i:%s")},{id:"startAddress",header:this._("Start Address"),adjust:!0,sort:"int"},{id:"value",header:this._("Value"),css:{color:"#27b6c6","font-weight":"bold"}},{id:"minValue",header:this._("Min Value"),hidden:!1},{id:"maxValue",header:this._("Max Value"),hidden:!1},{id:"sumValue",header:this._("Sum Value"),hidden:!1},{id:"countValue",header:this._("Count Value"),hidden:!1},{id:"firstValue",header:this._("First Value"),hidden:!1},{id:"lastValue",header:this._("Last Value"),hidden:!1}],on:{onItemDblClick:function(t,i,o){Object(u.g)(e.$$("variablesGrid").getSelectedItem(),e.$$("variablesGrid").Aj,"Variable")}}},{height:40,cols:[{id:"variable-pager"},{}]}]},{header:this._("Variable Picker"),width:600,margin:10,body:{view:"form",elementsConfig:{labelWidth:100,labelPosition:"left"},elements:[{view:"combo",label:this._("Project"),name:"projectId",localId:"projectCombo",on:{onChange:function(t){e.pullConnections(t)}}},{view:"combo",label:this._("Connection"),name:"connectionId",id:"connectionCombo",on:{onChange:function(t){e.pullDevices(t)}}},{view:"combo",label:this._("Device"),name:"deviceId",id:"deviceCombo",on:{onChange:function(t){e.pullFrames(t)}}},{view:"combo",label:this._("Frame"),name:"frameId",id:"frameCombo",on:{onChange:function(t){e.pullVariables(t)}}},{view:"combo",label:this._("Type"),id:"typeCombo",value:"Usual",options:["Usual","Hourly"],on:{onChange:function(e){}}},{height:10},{template:this._("Date Range"),type:"section"},{cols:[{view:"datepicker",localId:"startDate",timepicker:!0,value:new Date(new Date-432e6),format:"%d/%m/%Y %H:%i"},{view:"datepicker",localId:"endDate",timepicker:!0,value:new Date,format:"%d/%m/%Y %H:%i"}]},{height:10},{view:"search",localId:"var-search",placeholder:this._("Search"),on:{onTimedKeyPress:function(){e.$$("varList").filter("#name#",e.$$("var-search").getValue())}}},{view:"list",localId:"varList",template:"#name#",select:!0,multiselect:!0},{height:10},{view:"button",type:"form",width:125,align:"right",label:t("Load"),click:function(){e.validate()&&e.loadGrid()}}]}}]}},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.pullConnections=function(e){var t=this;Object(l.d)(e).then(function(e){t.connections=e.json(),t.$$("connectionCombo").define("options",t.connections.map(function(e){return{id:e.id,value:e.name}})),t.$$("connectionCombo").refresh()})},t.prototype.pullDevices=function(e){this.devices=this.connections.filter(function(t){return t.id==e})[0].devices,this.$$("deviceCombo").define("options",this.devices.map(function(e){return{id:e.id,value:e.name}})),this.$$("deviceCombo").refresh()},t.prototype.pullFrames=function(e){this.frames=this.devices.filter(function(t){return t.id==e})[0].frames,this.$$("frameCombo").define("options",this.frames.map(function(e){return{id:e.id,value:e.name}})),this.$$("frameCombo").refresh()},t.prototype.pullVariables=function(e){this.variables=this.frames.filter(function(t){return t.id==e})[0].variables,this.$$("varList").clearAll(),this.$$("varList").parse(this.variables)},t.prototype.validate=function(){return!0},t.prototype.pagerFunction=function(e){this.loadGrid(e)},t.prototype.loadGrid=function(e){var t=this,i=[],o=this.$$("varList").getSelectedItem();if("undefined"!=o&&null!=o&&(o.length?i=o:i.push(o),this.$$("variablesGrid").clearAll(),i.length>0)){this.page=e=e||0;var r={size:25,page:e,sort:"dttm,desc"};"Usual"==this.$$("typeCombo").getValue()?Object(c.i)(i,this.myformat(this.$$("startDate").getValue()),this.myformat(this.$$("endDate").getValue()),r).then(function(e){for(var o=e.json(),r=o.content,n=[],a=0;a<r.length;a++)for(var s=0;s<i.length;s++)if(r[a].variableId==i[s].id){var l={isActive:i[s].isActive,name:i[s].name,type:i[s].type,startAddress:i[s].startAddress,lastValue:i[s].lastValue};l.date=new Date(r[a].dttm),l.value=r[a].rawValue,n.push(l)}t.$$("variablesGrid").parse(n),Object(u.f)(t,o.number,o.totalPages,"variable-pager")}):Object(c.h)(i,this.myformat(this.$$("startDate").getValue()),this.myformat(this.$$("endDate").getValue()),r).then(function(e){for(var o=e.json(),r=o.content,n=[],a=0;a<r.length;a++)for(var s=0;s<i.length;s++)if(r[a].variableId==i[s].id){var l={isActive:i[s].isActive,name:i[s].name,type:i[s].type,startAddress:i[s].startAddress,lastValue:i[s].lastValue};l.date=new Date(r[a].dttm),l.minValue=r[a].minValue,l.maxValue=r[a].maxValue,l.sumValue=r[a].sumValue,l.countValue=r[a].countValue,l.firstValue=r[a].firstValue,l.lastValue=r[a].lastValue,n.push(l)}t.$$("variablesGrid").parse(n),Object(u.f)(t,o.number,o.totalPages,"variable-pager")})}},t.prototype.ready=function(){},t}(a.b);t.default=d},function(e,t,i){(function(e){var o,r,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*! VelocityJS.org (1.5.2). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(e){"use strict";function t(e){var t=e.length,o=i.type(e);return"function"!==o&&!i.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===o||0===t||"number"==typeof t&&t>0&&t-1 in e))}if(!e.jQuery){var i=function e(t,i){return new e.fn.init(t,i)};i.isWindow=function(e){return e&&e===e.window},i.type=function(e){return e?"object"===(void 0===e?"undefined":n(e))||"function"==typeof e?r[s.call(e)]||"object":void 0===e?"undefined":n(e):e+""},i.isArray=Array.isArray||function(e){return"array"===i.type(e)},i.isPlainObject=function(e){var t;if(!e||"object"!==i.type(e)||e.nodeType||i.isWindow(e))return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||a.call(e,t)},i.each=function(e,i,o){var r=0,n=e.length,a=t(e);if(o){if(a)for(;r<n&&!1!==i.apply(e[r],o);r++);else for(r in e)if(e.hasOwnProperty(r)&&!1===i.apply(e[r],o))break}else if(a)for(;r<n&&!1!==i.call(e[r],r,e[r]);r++);else for(r in e)if(e.hasOwnProperty(r)&&!1===i.call(e[r],r,e[r]))break;return e},i.data=function(e,t,r){if(void 0===r){var n=e[i.expando],a=n&&o[n];if(void 0===t)return a;if(a&&t in a)return a[t]}else if(void 0!==t){var s=e[i.expando]||(e[i.expando]=++i.uuid);return o[s]=o[s]||{},o[s][t]=r,r}},i.removeData=function(e,t){var r=e[i.expando],n=r&&o[r];n&&(t?i.each(t,function(e,t){delete n[t]}):delete o[r])},i.extend=function(){var e,t,o,r,a,s,l=arguments[0]||{},c=1,h=arguments.length,u=!1;for("boolean"==typeof l&&(u=l,l=arguments[c]||{},c++),"object"!==(void 0===l?"undefined":n(l))&&"function"!==i.type(l)&&(l={}),c===h&&(l=this,c--);c<h;c++)if(a=arguments[c])for(r in a)a.hasOwnProperty(r)&&(e=l[r],o=a[r],l!==o&&(u&&o&&(i.isPlainObject(o)||(t=i.isArray(o)))?(t?(t=!1,s=e&&i.isArray(e)?e:[]):s=e&&i.isPlainObject(e)?e:{},l[r]=i.extend(u,s,o)):void 0!==o&&(l[r]=o)));return l},i.queue=function(e,o,r){if(e){o=(o||"fx")+"queue";var n=i.data(e,o);return r?(!n||i.isArray(r)?n=i.data(e,o,function(e,i){var o=i||[];return e&&(t(Object(e))?function(e,t){for(var i=+t.length,o=0,r=e.length;o<i;)e[r++]=t[o++];if(i!==i)for(;void 0!==t[o];)e[r++]=t[o++];e.length=r}(o,"string"==typeof e?[e]:e):[].push.call(o,e)),o}(r)):n.push(r),n):n||[]}},i.dequeue=function(e,t){i.each(e.nodeType?[e]:e,function(e,o){t=t||"fx";var r=i.queue(o,t),n=r.shift();"inprogress"===n&&(n=r.shift()),n&&("fx"===t&&r.unshift("inprogress"),n.call(o,function(){i.dequeue(o,t)}))})},i.fn=i.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var e=this[0],t=function(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position.toLowerCase();)t=t.offsetParent;return t||document}(e),o=this.offset(),r=/^(?:body|html)$/i.test(t.nodeName)?{top:0,left:0}:i(t).offset();return o.top-=parseFloat(e.style.marginTop)||0,o.left-=parseFloat(e.style.marginLeft)||0,t.style&&(r.top+=parseFloat(t.style.borderTopWidth)||0,r.left+=parseFloat(t.style.borderLeftWidth)||0),{top:o.top-r.top,left:o.left-r.left}}};var o={};i.expando="velocity"+(new Date).getTime(),i.uuid=0;for(var r={},a=r.hasOwnProperty,s=r.toString,l="Boolean Number String Function Array Date RegExp Object Error".split(" "),c=0;c<l.length;c++)r["[object "+l[c]+"]"]=l[c].toLowerCase();i.fn.init.prototype=i.fn,e.Velocity={Utilities:i}}}(window),function(a){"use strict";"object"===n(e)&&"object"===n(e.exports)?e.exports=a():(o=a,void 0!==(r="function"==typeof o?o.call(t,i,t,e):o)&&(e.exports=r))}(function(){"use strict";return function(e,t,i,o){function r(e){for(var t=-1,i=e?e.length:0,o=[];++t<i;){var r=e[t];r&&o.push(r)}return o}function n(e){return y.isWrapped(e)?e=b.call(e):y.isNode(e)&&(e=[e]),e}function a(e){var t=f.data(e,"velocity");return null===t?o:t}function s(e,t){var i=a(e);i&&i.delayTimer&&!i.delayPaused&&(i.delayRemaining=i.delay-t+i.delayBegin,i.delayPaused=!0,clearTimeout(i.delayTimer.setTimeout))}function l(e,t){var i=a(e);i&&i.delayTimer&&i.delayPaused&&(i.delayPaused=!1,i.delayTimer.setTimeout=setTimeout(i.delayTimer.next,i.delayRemaining))}function c(e){return function(t){return Math.round(t*e)*(1/e)}}function h(e,i,o,r){function n(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function s(e){return 3*e}function l(e,t,i){return((n(t,i)*e+a(t,i))*e+s(t))*e}function c(e,t,i){return 3*n(t,i)*e*e+2*a(t,i)*e+s(t)}function h(t,i){for(var r=0;r<m;++r){var n=c(i,e,o);if(0===n)return i;i-=(l(i,e,o)-t)/n}return i}function u(){for(var t=0;t<w;++t)S[t]=l(t*y,e,o)}function d(t,i,r){var n,a,s=0;do{a=i+(r-i)/2,n=l(a,e,o)-t,n>0?r=a:i=a}while(Math.abs(n)>v&&++s<b);return a}function p(t){for(var i=0,r=1,n=w-1;r!==n&&S[r]<=t;++r)i+=y;--r;var a=(t-S[r])/(S[r+1]-S[r]),s=i+a*y,l=c(s,e,o);return l>=g?h(t,s):0===l?s:d(t,i,i+y)}function f(){P=!0,e===i&&o===r||u()}var m=4,g=.001,v=1e-7,b=10,w=11,y=1/(w-1),C="Float32Array"in t;if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;e=Math.min(e,1),o=Math.min(o,1),e=Math.max(e,0),o=Math.max(o,0);var S=C?new Float32Array(w):new Array(w),P=!1,T=function(t){return P||f(),e===i&&o===r?t:0===t?0:1===t?1:l(p(t),i,r)};T.getControlPoints=function(){return[{x:e,y:i},{x:o,y:r}]};var O="generateBezier("+[e,i,o,r]+")";return T.toString=function(){return O},T}function u(e,t){var i=e;return y.isString(e)?P.Easings[e]||(i=!1):i=y.isArray(e)&&1===e.length?c.apply(null,e):y.isArray(e)&&2===e.length?T.apply(null,e.concat([t])):!(!y.isArray(e)||4!==e.length)&&h.apply(null,e),!1===i&&(i=P.Easings[P.defaults.easing]?P.defaults.easing:S),i}function d(e){if(e){var t=P.timestamp&&!0!==e?e:v.now(),i=P.State.calls.length;i>1e4&&(P.State.calls=r(P.State.calls),i=P.State.calls.length);for(var n=0;n<i;n++)if(P.State.calls[n]){var s=P.State.calls[n],l=s[0],c=s[2],h=s[3],u=!h,g=null,b=s[5],w=s[6];if(h||(h=P.State.calls[n][3]=t-16),b){if(!0!==b.resume)continue;h=s[3]=Math.round(t-w-16),s[5]=null}w=s[6]=t-h;for(var C=Math.min(w/c.duration,1),x=0,S=l.length;x<S;x++){var T=l[x],k=T.element;if(a(k)){var N=!1;if(c.display!==o&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var B=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];f.each(B,function(e,t){O.setPropertyValue(k,"display",t)})}O.setPropertyValue(k,"display",c.display)}c.visibility!==o&&"hidden"!==c.visibility&&O.setPropertyValue(k,"visibility",c.visibility);for(var j in T)if(T.hasOwnProperty(j)&&"element"!==j){var I,V=T[j],D=y.isString(V.easing)?P.Easings[V.easing]:V.easing;if(y.isString(V.pattern)){var _=1===C?function(e,t,i){var o=V.endValue[t];return i?Math.round(o):o}:function(e,t,i){var o=V.startValue[t],r=V.endValue[t]-o,n=o+r*D(C,c,r);return i?Math.round(n):n};I=V.pattern.replace(/{(\d+)(!)?}/g,_)}else if(1===C)I=V.endValue;else{var E=V.endValue-V.startValue;I=V.startValue+E*D(C,c,E)}if(!u&&I===V.currentValue)continue;if(V.currentValue=I,"tween"===j)g=I;else{var $;if(O.Hooks.registered[j]){$=O.Hooks.getRoot(j);var M=a(k).rootPropertyValueCache[$];M&&(V.rootPropertyValue=M)}var R=O.setPropertyValue(k,j,V.currentValue+(m<9&&0===parseFloat(I)?"":V.unitType),V.rootPropertyValue,V.scrollData);O.Hooks.registered[j]&&(O.Normalizations.registered[$]?a(k).rootPropertyValueCache[$]=O.Normalizations.registered[$]("extract",null,R[1]):a(k).rootPropertyValueCache[$]=R[1]),"transform"===R[0]&&(N=!0)}}c.mobileHA&&a(k).transformCache.translate3d===o&&(a(k).transformCache.translate3d="(0px, 0px, 0px)",N=!0),N&&O.flushTransformCache(k)}}c.display!==o&&"none"!==c.display&&(P.State.calls[n][2].display=!1),c.visibility!==o&&"hidden"!==c.visibility&&(P.State.calls[n][2].visibility=!1),c.progress&&c.progress.call(s[1],s[1],C,Math.max(0,h+c.duration-t),h,g),1===C&&p(n)}}P.State.isTicking&&A(d)}function p(e,t){if(!P.State.calls[e])return!1;for(var i=P.State.calls[e][0],r=P.State.calls[e][1],n=P.State.calls[e][2],s=P.State.calls[e][4],l=!1,c=0,h=i.length;c<h;c++){var u=i[c].element;t||n.loop||("none"===n.display&&O.setPropertyValue(u,"display",n.display),"hidden"===n.visibility&&O.setPropertyValue(u,"visibility",n.visibility));var d=a(u);if(!0!==n.loop&&(f.queue(u)[1]===o||!/\.velocityQueueEntryFlag/i.test(f.queue(u)[1]))&&d){d.isAnimating=!1,d.rootPropertyValueCache={};var p=!1;f.each(O.Lists.transforms3D,function(e,t){var i=/^scale/.test(t)?1:0,r=d.transformCache[t];d.transformCache[t]!==o&&new RegExp("^\\("+i+"[^.]").test(r)&&(p=!0,delete d.transformCache[t])}),n.mobileHA&&(p=!0,delete d.transformCache.translate3d),p&&O.flushTransformCache(u),O.Values.removeClass(u,"velocity-animating")}if(!t&&n.complete&&!n.loop&&c===h-1)try{n.complete.call(r,r)}catch(e){setTimeout(function(){throw e},1)}s&&!0!==n.loop&&s(r),d&&!0===n.loop&&!t&&(f.each(d.tweensContainer,function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360==0){var i=t.startValue;t.startValue=t.endValue,t.endValue=i}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),P(u,"reverse",{loop:!0,delay:n.delay})),!1!==n.queue&&f.dequeue(u,n.queue)}P.State.calls[e]=!1;for(var m=0,g=P.State.calls.length;m<g;m++)if(!1!==P.State.calls[m]){l=!0;break}!1===l&&(P.State.isTicking=!1,delete P.State.calls,P.State.calls=[])}var f,m=function(){if(i.documentMode)return i.documentMode;for(var e=7;e>4;e--){var t=i.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return o}(),g=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var i,o=(new Date).getTime();return i=Math.max(0,16-(o-e)),e=o+i,setTimeout(function(){t(o+i)},i)}}(),v=function(){var e=t.performance||{};if("function"!=typeof e.now){var i=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-i}}return e}(),b=function(){var e=Array.prototype.slice;try{return e.call(i.documentElement),e}catch(t){return function(t,i){var o=this.length;if("number"!=typeof t&&(t=0),"number"!=typeof i&&(i=o),this.slice)return e.call(this,t,i);var r,n=[],a=t>=0?t:Math.max(0,o+t),s=i<0?o+i:Math.min(i,o),l=s-a;if(l>0)if(n=new Array(l),this.charAt)for(r=0;r<l;r++)n[r]=this.charAt(a+r);else for(r=0;r<l;r++)n[r]=this[a+r];return n}}}(),w=function(){return Array.prototype.includes?function(e,t){return e.includes(t)}:Array.prototype.indexOf?function(e,t){return e.indexOf(t)>=0}:function(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return!0;return!1}},y={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isWrapped:function(e){return e&&e!==t&&y.isNumber(e.length)&&!y.isString(e)&&!y.isFunction(e)&&!y.isNode(e)&&(0===e.length||y.isNode(e[0]))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},C=!1;if(e.fn&&e.fn.jquery?(f=e,C=!0):f=t.Velocity.Utilities,m<=8&&!C)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(m<=7)return void(jQuery.fn.velocity=jQuery.fn.animate);var x=400,S="swing",P={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t.navigator.userAgent),isAndroid:/Android/i.test(t.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(t.navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(t.navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:f,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:x,easing:S,begin:o,complete:o,progress:o,display:o,visibility:o,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){f.data(e,"velocity",{isSVG:y.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:2},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();f.each(P.State.calls,function(t,i){if(i){if(e!==o&&(i[2].queue!==e||!1===i[2].queue))return!0;i[5]={resume:!1}}}),f.each(P.State.delayedElements,function(e,i){i&&s(i,t)})},resumeAll:function(e){var t=(new Date).getTime();f.each(P.State.calls,function(t,i){if(i){if(e!==o&&(i[2].queue!==e||!1===i[2].queue))return!0;i[5]&&(i[5].resume=!0)}}),f.each(P.State.delayedElements,function(e,i){i&&l(i,t)})}};t.pageYOffset!==o?(P.State.scrollAnchor=t,P.State.scrollPropertyLeft="pageXOffset",P.State.scrollPropertyTop="pageYOffset"):(P.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,P.State.scrollPropertyLeft="scrollLeft",P.State.scrollPropertyTop="scrollTop");var T=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,i,o){var r={x:t.x+o.dx*i,v:t.v+o.dv*i,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function i(i,o){var r={dx:i.v,dv:e(i)},n=t(i,.5*o,r),a=t(i,.5*o,n),s=t(i,o,a),l=1/6*(r.dx+2*(n.dx+a.dx)+s.dx),c=1/6*(r.dv+2*(n.dv+a.dv)+s.dv);return i.x=i.x+l*o,i.v=i.v+c*o,i}return function e(t,o,r){var n,a,s,l={x:-1,v:0,tension:null,friction:null},c=[0],h=0;for(t=parseFloat(t)||500,o=parseFloat(o)||20,r=r||null,l.tension=t,l.friction=o,n=null!==r,n?(h=e(t,o),a=h/r*.016):a=.016;;)if(s=i(s||l,a),c.push(1+s.x),h+=16,!(Math.abs(s.x)>1e-4&&Math.abs(s.v)>1e-4))break;return n?function(e){return c[e*(c.length-1)|0]}:h}}();P.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},f.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){P.Easings[t[0]]=h.apply(null,t[1])});var O=P.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<O.Lists.colors.length;e++){var t="color"===O.Lists.colors[e]?"0 0 0 1":"255 255 255 1";O.Hooks.templates[O.Lists.colors[e]]=["Red Green Blue Alpha",t]}var i,o,r;if(m)for(i in O.Hooks.templates)if(O.Hooks.templates.hasOwnProperty(i)){o=O.Hooks.templates[i],r=o[0].split(" ");var n=o[1].match(O.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),n.push(n.shift()),O.Hooks.templates[i]=[r.join(" "),n.join(" ")])}for(i in O.Hooks.templates)if(O.Hooks.templates.hasOwnProperty(i)){o=O.Hooks.templates[i],r=o[0].split(" ");for(var a in r)if(r.hasOwnProperty(a)){var s=i+r[a],l=a;O.Hooks.registered[s]=[i,l]}}},getRoot:function(e){var t=O.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var i=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return i&&w(O.Lists.units,i)?i:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(e,t,i){return O.Lists.colorNames.hasOwnProperty(i)?(t||"rgba(")+O.Lists.colorNames[i]+(t?"":",1)"):t+i})},cleanRootPropertyValue:function(e,t){return O.RegEx.valueUnwrap.test(t)&&(t=t.match(O.RegEx.valueUnwrap)[1]),O.Values.isCSSNullValue(t)&&(t=O.Hooks.templates[e][1]),t},extractValue:function(e,t){var i=O.Hooks.registered[e];if(i){var o=i[0],r=i[1];return t=O.Hooks.cleanRootPropertyValue(o,t),t.toString().match(O.RegEx.valueSplit)[r]}return t},injectValue:function(e,t,i){var o=O.Hooks.registered[e];if(o){var r,n=o[0],a=o[1];return i=O.Hooks.cleanRootPropertyValue(n,i),r=i.toString().match(O.RegEx.valueSplit),r[a]=t,r.join(" ")}return i}},Normalizations:{registered:{clip:function(e,t,i){switch(e){case"name":return"clip";case"extract":var o;return O.RegEx.wrappedValueAlreadyExtracted.test(i)?o=i:(o=i.toString().match(O.RegEx.valueUnwrap),o=o?o[1].replace(/,(\s+)?/g," "):i),o;case"inject":return"rect("+i+")"}},blur:function(e,t,i){switch(e){case"name":return P.State.isFirefox?"filter":"-webkit-filter";case"extract":var o=parseFloat(i);if(!o&&0!==o){var r=i.toString().match(/blur\(([0-9]+[A-z]+)\)/i);o=r?r[1]:0}return o;case"inject":return parseFloat(i)?"blur("+i+")":"none"}},opacity:function(e,t,i){if(m<=8)switch(e){case"name":return"filter";case"extract":var o=i.toString().match(/alpha\(opacity=(.*)\)/i);return i=o?o[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(i)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(i),10)+")"}else switch(e){case"name":return"opacity";case"extract":case"inject":return i}}},register:function(){function e(e,t,i){if("border-box"===O.getPropertyValue(t,"boxSizing").toString().toLowerCase()===(i||!1)){var o,r,n=0,a="width"===e?["Left","Right"]:["Top","Bottom"],s=["padding"+a[0],"padding"+a[1],"border"+a[0]+"Width","border"+a[1]+"Width"];for(o=0;o<s.length;o++)r=parseFloat(O.getPropertyValue(t,s[o])),isNaN(r)||(n+=r);return i?-n:n}return 0}function t(t,i){return function(o,r,n){switch(o){case"name":return t;case"extract":return parseFloat(n)+e(t,r,i);case"inject":return parseFloat(n)-e(t,r,i)+"px"}}}m&&!(m>9)||P.State.isGingerbread||(O.Lists.transformsBase=O.Lists.transformsBase.concat(O.Lists.transforms3D));for(var i=0;i<O.Lists.transformsBase.length;i++)!function(){var e=O.Lists.transformsBase[i];O.Normalizations.registered[e]=function(t,i,r){switch(t){case"name":return"transform";case"extract":return a(i)===o||a(i).transformCache[e]===o?/^scale/i.test(e)?1:0:a(i).transformCache[e].replace(/[()]/g,"");case"inject":var n=!1;switch(e.substr(0,e.length-1)){case"translate":n=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":P.State.isAndroid&&a(i).transformCache[e]===o&&r<1&&(r=1),n=!/(\d)$/i.test(r);break;case"skew":case"rotate":n=!/(deg|\d)$/i.test(r)}return n||(a(i).transformCache[e]="("+r+")"),a(i).transformCache[e]}}}();for(var r=0;r<O.Lists.colors.length;r++)!function(){var e=O.Lists.colors[r];O.Normalizations.registered[e]=function(t,i,r){switch(t){case"name":return e;case"extract":var n;if(O.RegEx.wrappedValueAlreadyExtracted.test(r))n=r;else{var a,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?a=s[r]!==o?s[r]:s.black:O.RegEx.isHex.test(r)?a="rgb("+O.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(a=s.black),n=(a||r).toString().match(O.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!m||m>8)&&3===n.split(" ").length&&(n+=" 1"),n;case"inject":return/^rgb/.test(r)?r:(m<=8?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(m<=8?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();O.Normalizations.registered.innerWidth=t("width",!0),O.Normalizations.registered.innerHeight=t("height",!0),O.Normalizations.registered.outerWidth=t("width"),O.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(m||P.State.isAndroid&&!P.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(P.State.prefixMatches[e])return[P.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],i=0,o=t.length;i<o;i++){var r;if(r=0===i?e:t[i]+e.replace(/^\w/,function(e){return e.toUpperCase()}),y.isString(P.State.prefixElement.style[r]))return P.State.prefixMatches[e]=r,[r,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(i,function(e,t,i,o){return t+t+i+i+o+o}),t=o.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(y.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var i=e.getAttribute(m<=7?"className":"class")||"";e.setAttribute("class",i+(i?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(y.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var i=e.getAttribute(m<=7?"className":"class")||"";e.setAttribute("class",i.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,i,r,n){function s(e,i){var r=0;if(m<=8)r=f.css(e,i);else{var l=!1;/^(width|height)$/.test(i)&&0===O.getPropertyValue(e,"display")&&(l=!0,O.setPropertyValue(e,"display",O.Values.getDisplayType(e)));var c=function(){l&&O.setPropertyValue(e,"display","none")};if(!n){if("height"===i&&"border-box"!==O.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var h=e.offsetHeight-(parseFloat(O.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(O.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(O.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(O.getPropertyValue(e,"paddingBottom"))||0);return c(),h}if("width"===i&&"border-box"!==O.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetWidth-(parseFloat(O.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(O.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(O.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(O.getPropertyValue(e,"paddingRight"))||0);return c(),u}}var d;d=a(e)===o?t.getComputedStyle(e,null):a(e).computedStyle?a(e).computedStyle:a(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===i&&(i="borderTopColor"),r=9===m&&"filter"===i?d.getPropertyValue(i):d[i],""!==r&&null!==r||(r=e.style[i]),c()}if("auto"===r&&/^(top|right|bottom|left)$/i.test(i)){var p=s(e,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(i))&&(r=f(e).position()[i]+"px")}return r}var l;if(O.Hooks.registered[i]){var c=i,h=O.Hooks.getRoot(c);r===o&&(r=O.getPropertyValue(e,O.Names.prefixCheck(h)[0])),O.Normalizations.registered[h]&&(r=O.Normalizations.registered[h]("extract",e,r)),l=O.Hooks.extractValue(c,r)}else if(O.Normalizations.registered[i]){var u,d;u=O.Normalizations.registered[i]("name",e),"transform"!==u&&(d=s(e,O.Names.prefixCheck(u)[0]),O.Values.isCSSNullValue(d)&&O.Hooks.templates[i]&&(d=O.Hooks.templates[i][1])),l=O.Normalizations.registered[i]("extract",e,d)}if(!/^[\d-]/.test(l)){var p=a(e);if(p&&p.isSVG&&O.Names.SVGAttribute(i))if(/^(height|width)$/i.test(i))try{l=e.getBBox()[i]}catch(e){l=0}else l=e.getAttribute(i);else l=s(e,O.Names.prefixCheck(i)[0])}return O.Values.isCSSNullValue(l)&&(l=0),P.debug>=2&&console.log("Get "+i+": "+l),l},setPropertyValue:function(e,i,o,r,n){var s=i;if("scroll"===i)n.container?n.container["scroll"+n.direction]=o:"Left"===n.direction?t.scrollTo(o,n.alternateValue):t.scrollTo(n.alternateValue,o);else if(O.Normalizations.registered[i]&&"transform"===O.Normalizations.registered[i]("name",e))O.Normalizations.registered[i]("inject",e,o),s="transform",o=a(e).transformCache[i];else{if(O.Hooks.registered[i]){var l=i,c=O.Hooks.getRoot(i);r=r||O.getPropertyValue(e,c),o=O.Hooks.injectValue(l,o,r),i=c}if(O.Normalizations.registered[i]&&(o=O.Normalizations.registered[i]("inject",e,o),i=O.Normalizations.registered[i]("name",e)),s=O.Names.prefixCheck(i)[0],m<=8)try{e.style[s]=o}catch(e){P.debug&&console.log("Browser does not support ["+o+"] for ["+s+"]")}else{var h=a(e);h&&h.isSVG&&O.Names.SVGAttribute(i)?e.setAttribute(i,o):e.style[s]=o}P.debug>=2&&console.log("Set "+i+" ("+s+"): "+o)}return[s,o]},flushTransformCache:function(e){var t="",i=a(e);if((m||P.State.isAndroid&&!P.State.isChrome)&&i&&i.isSVG){var o=function(t){return parseFloat(O.getPropertyValue(e,t))},r={translate:[o("translateX"),o("translateY")],skewX:[o("skewX")],skewY:[o("skewY")],scale:1!==o("scale")?[o("scale"),o("scale")]:[o("scaleX"),o("scaleY")],rotate:[o("rotateZ"),0,0]};f.each(a(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),r[e]&&(t+=e+"("+r[e].join(" ")+") ",delete r[e])})}else{var n,s;f.each(a(e).transformCache,function(i){if(n=a(e).transformCache[i],"transformPerspective"===i)return s=n,!0;9===m&&"rotateZ"===i&&(i="rotate"),t+=i+n+" "}),s&&(t="perspective"+s+" "+t)}O.setPropertyValue(e,"transform",t)}};O.Hooks.register(),O.Normalizations.register(),P.hook=function(e,t,i){var r;return e=n(e),f.each(e,function(e,n){if(a(n)===o&&P.init(n),i===o)r===o&&(r=O.getPropertyValue(n,t));else{var s=O.setPropertyValue(n,t,i);"transform"===s[0]&&P.CSS.flushTransformCache(n),r=s}}),r};var k=function e(){function r(){return m?k.promise||null:g}function c(e,r){function n(n){var h,p;if(l.begin&&0===N)try{l.begin.call(b,b)}catch(e){setTimeout(function(){throw e},1)}if("scroll"===I){var m,g,v,x=/^x$/i.test(l.axis)?"Left":"Top",T=parseFloat(l.offset)||0;l.container?y.isWrapped(l.container)||y.isNode(l.container)?(l.container=l.container[0]||l.container,m=l.container["scroll"+x],v=m+f(e).position()[x.toLowerCase()]+T):l.container=null:(m=P.State.scrollAnchor[P.State["scrollProperty"+x]],g=P.State.scrollAnchor[P.State["scrollProperty"+("Left"===x?"Top":"Left")]],v=f(e).offset()[x.toLowerCase()]+T),c={scroll:{rootPropertyValue:!1,startValue:m,currentValue:m,endValue:v,unitType:"",easing:l.easing,scrollData:{container:l.container,direction:x,alternateValue:g}},element:e},P.debug&&console.log("tweensContainer (scroll): ",c.scroll,e)}else if("reverse"===I){if(!(h=a(e)))return;if(!h.tweensContainer)return void f.dequeue(e,l.queue);"none"===h.opts.display&&(h.opts.display="auto"),"hidden"===h.opts.visibility&&(h.opts.visibility="visible"),h.opts.loop=!1,h.opts.begin=null,h.opts.complete=null,S.easing||delete l.easing,S.duration||delete l.duration,l=f.extend({},h.opts,l),p=f.extend(!0,{},h?h.tweensContainer:null);for(var B in p)if(p.hasOwnProperty(B)&&"element"!==B){var j=p[B].startValue;p[B].startValue=p[B].currentValue=p[B].endValue,p[B].endValue=j,y.isEmptyObject(S)||(p[B].easing=l.easing),P.debug&&console.log("reverse tweensContainer ("+B+"): "+JSON.stringify(p[B]),e)}c=p}else if("start"===I){h=a(e),h&&h.tweensContainer&&!0===h.isAnimating&&(p=h.tweensContainer);var V=function(r,n){var a,u=O.Hooks.getRoot(r),d=!1,m=n[0],g=n[1],v=n[2];if(!(h&&h.isSVG||"tween"===u||!1!==O.Names.prefixCheck(u)[1]||O.Normalizations.registered[u]!==o))return void(P.debug&&console.log("Skipping ["+u+"] due to a lack of browser support."));(l.display!==o&&null!==l.display&&"none"!==l.display||l.visibility!==o&&"hidden"!==l.visibility)&&/opacity|filter/.test(r)&&!v&&0!==m&&(v=0),l._cacheValues&&p&&p[r]?(v===o&&(v=p[r].endValue+p[r].unitType),d=h.rootPropertyValueCache[u]):O.Hooks.registered[r]?v===o?(d=O.getPropertyValue(e,u),v=O.getPropertyValue(e,r,d)):d=O.Hooks.templates[u][1]:v===o&&(v=O.getPropertyValue(e,r));var b,w,C,x=!1,S=function(e,t){var i,o;return o=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return i=e,""}),i||(i=O.Values.getUnitType(e)),[o,i]};if(v!==m&&y.isString(v)&&y.isString(m)){a="";var T=0,k=0,A=[],N=[],B=0,j=0,I=0;for(v=O.Hooks.fixColors(v),m=O.Hooks.fixColors(m);T<v.length&&k<m.length;){var V=v[T],D=m[k];if(/[\d\.-]/.test(V)&&/[\d\.-]/.test(D)){for(var _=V,E=D,$=".",R=".";++T<v.length;){if((V=v[T])===$)$="..";else if(!/\d/.test(V))break;_+=V}for(;++k<m.length;){if((D=m[k])===R)R="..";else if(!/\d/.test(D))break;E+=D}var L=O.Hooks.getUnit(v,T),G=O.Hooks.getUnit(m,k);if(T+=L.length,k+=G.length,L===G)_===E?a+=_+L:(a+="{"+A.length+(j?"!":"")+"}"+L,A.push(parseFloat(_)),N.push(parseFloat(E)));else{var F=parseFloat(_),z=parseFloat(E);a+=(B<5?"calc":"")+"("+(F?"{"+A.length+(j?"!":"")+"}":"0")+L+" + "+(z?"{"+(A.length+(F?1:0))+(j?"!":"")+"}":"0")+G+")",F&&(A.push(F),N.push(0)),z&&(A.push(0),N.push(z))}}else{if(V!==D){B=0;break}a+=V,T++,k++,0===B&&"c"===V||1===B&&"a"===V||2===B&&"l"===V||3===B&&"c"===V||B>=4&&"("===V?B++:(B&&B<5||B>=4&&")"===V&&--B<5)&&(B=0),0===j&&"r"===V||1===j&&"g"===V||2===j&&"b"===V||3===j&&"a"===V||j>=3&&"("===V?(3===j&&"a"===V&&(I=1),j++):I&&","===V?++I>3&&(j=I=0):(I&&j<(I?5:4)||j>=(I?4:3)&&")"===V&&--j<(I?5:4))&&(j=I=0)}}T===v.length&&k===m.length||(P.debug&&console.error('Trying to pattern match mis-matched strings ["'+m+'", "'+v+'"]'),a=o),a&&(A.length?(P.debug&&console.log('Pattern found "'+a+'" -> ',A,N,"["+v+","+m+"]"),v=A,m=N,w=C=""):a=o)}a||(b=S(r,v),v=b[0],C=b[1],b=S(r,m),m=b[0].replace(/^([+-\/*])=/,function(e,t){return x=t,""}),w=b[1],v=parseFloat(v)||0,m=parseFloat(m)||0,"%"===w&&(/^(fontSize|lineHeight)$/.test(r)?(m/=100,w="em"):/^scale/.test(r)?(m/=100,w=""):/(Red|Green|Blue)$/i.test(r)&&(m=m/100*255,w="")));if(/[\/*]/.test(x))w=C;else if(C!==w&&0!==v)if(0===m)w=C;else{s=s||function(){var o={myParent:e.parentNode||i.body,position:O.getPropertyValue(e,"position"),fontSize:O.getPropertyValue(e,"fontSize")},r=o.position===M.lastPosition&&o.myParent===M.lastParent,n=o.fontSize===M.lastFontSize;M.lastParent=o.myParent,M.lastPosition=o.position,M.lastFontSize=o.fontSize;var a={};if(n&&r)a.emToPx=M.lastEmToPx,a.percentToPxWidth=M.lastPercentToPxWidth,a.percentToPxHeight=M.lastPercentToPxHeight;else{var s=h&&h.isSVG?i.createElementNS("http://www.w3.org/2000/svg","rect"):i.createElement("div");P.init(s),o.myParent.appendChild(s),f.each(["overflow","overflowX","overflowY"],function(e,t){P.CSS.setPropertyValue(s,t,"hidden")}),P.CSS.setPropertyValue(s,"position",o.position),P.CSS.setPropertyValue(s,"fontSize",o.fontSize),P.CSS.setPropertyValue(s,"boxSizing","content-box"),f.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){P.CSS.setPropertyValue(s,t,"100%")}),P.CSS.setPropertyValue(s,"paddingLeft","100em"),a.percentToPxWidth=M.lastPercentToPxWidth=(parseFloat(O.getPropertyValue(s,"width",null,!0))||1)/100,a.percentToPxHeight=M.lastPercentToPxHeight=(parseFloat(O.getPropertyValue(s,"height",null,!0))||1)/100,a.emToPx=M.lastEmToPx=(parseFloat(O.getPropertyValue(s,"paddingLeft"))||1)/100,o.myParent.removeChild(s)}return null===M.remToPx&&(M.remToPx=parseFloat(O.getPropertyValue(i.body,"fontSize"))||16),null===M.vwToPx&&(M.vwToPx=parseFloat(t.innerWidth)/100,M.vhToPx=parseFloat(t.innerHeight)/100),a.remToPx=M.remToPx,a.vwToPx=M.vwToPx,a.vhToPx=M.vhToPx,P.debug>=1&&console.log("Unit ratios: "+JSON.stringify(a),e),a}();var H=/margin|padding|left|right|width|text|word|letter/i.test(r)||/X$/.test(r)||"x"===r?"x":"y";switch(C){case"%":v*="x"===H?s.percentToPxWidth:s.percentToPxHeight;break;case"px":break;default:v*=s[C+"ToPx"]}switch(w){case"%":v*=1/("x"===H?s.percentToPxWidth:s.percentToPxHeight);break;case"px":break;default:v*=1/s[w+"ToPx"]}}switch(x){case"+":m=v+m;break;case"-":m=v-m;break;case"*":m*=v;break;case"/":m=v/m}c[r]={rootPropertyValue:d,startValue:v,currentValue:v,endValue:m,unitType:w,easing:g},a&&(c[r].pattern=a),P.debug&&console.log("tweensContainer ("+r+"): "+JSON.stringify(c[r]),e)};for(var D in C)if(C.hasOwnProperty(D)){var _=O.Names.camelCase(D),E=function(t,i){var o,n,a;return y.isFunction(t)&&(t=t.call(e,r,A)),y.isArray(t)?(o=t[0],!y.isArray(t[1])&&/^[\d-]/.test(t[1])||y.isFunction(t[1])||O.RegEx.isHex.test(t[1])?a=t[1]:y.isString(t[1])&&!O.RegEx.isHex.test(t[1])&&P.Easings[t[1]]||y.isArray(t[1])?(n=i?t[1]:u(t[1],l.duration),a=t[2]):a=t[1]||t[2]):o=t,i||(n=n||l.easing),y.isFunction(o)&&(o=o.call(e,r,A)),y.isFunction(a)&&(a=a.call(e,r,A)),[o||0,n,a]}(C[D]);if(w(O.Lists.colors,_)){var $=E[0],L=E[1],G=E[2];if(O.RegEx.isHex.test($)){for(var F=["Red","Green","Blue"],z=O.Values.hexToRgb($),H=G?O.Values.hexToRgb(G):o,W=0;W<F.length;W++){var U=[z[W]];L&&U.push(L),H!==o&&U.push(H[W]),V(_+F[W],U)}continue}}V(_,E)}c.element=e}c.element&&(O.Values.addClass(e,"velocity-animating"),R.push(c),h=a(e),h&&(""===l.queue&&(h.tweensContainer=c,h.opts=l),h.isAnimating=!0),N===A-1?(P.State.calls.push([R,b,l,null,k.resolver,null,0]),!1===P.State.isTicking&&(P.State.isTicking=!0,d())):N++)}var s,l=f.extend({},P.defaults,S),c={};switch(a(e)===o&&P.init(e),parseFloat(l.delay)&&!1!==l.queue&&f.queue(e,l.queue,function(t,i){if(!0===i)return!0;P.velocityQueueEntryFlag=!0;var o=P.State.delayedElements.count++;P.State.delayedElements[o]=e;var r=function(e){return function(){P.State.delayedElements[e]=!1,t()}}(o);a(e).delayBegin=(new Date).getTime(),a(e).delay=parseFloat(l.delay),a(e).delayTimer={setTimeout:setTimeout(t,parseFloat(l.delay)),next:r}}),l.duration.toString().toLowerCase()){case"fast":l.duration=200;break;case"normal":l.duration=x;break;case"slow":l.duration=600;break;default:l.duration=parseFloat(l.duration)||1}if(!1!==P.mock&&(!0===P.mock?l.duration=l.delay=1:(l.duration*=parseFloat(P.mock)||1,l.delay*=parseFloat(P.mock)||1)),l.easing=u(l.easing,l.duration),l.begin&&!y.isFunction(l.begin)&&(l.begin=null),l.progress&&!y.isFunction(l.progress)&&(l.progress=null),l.complete&&!y.isFunction(l.complete)&&(l.complete=null),l.display!==o&&null!==l.display&&(l.display=l.display.toString().toLowerCase(),"auto"===l.display&&(l.display=P.CSS.Values.getDisplayType(e))),l.visibility!==o&&null!==l.visibility&&(l.visibility=l.visibility.toString().toLowerCase()),l.mobileHA=l.mobileHA&&P.State.isMobile&&!P.State.isGingerbread,!1===l.queue)if(l.delay){var h=P.State.delayedElements.count++;P.State.delayedElements[h]=e;var p=function(e){return function(){P.State.delayedElements[e]=!1,n()}}(h);a(e).delayBegin=(new Date).getTime(),a(e).delay=parseFloat(l.delay),a(e).delayTimer={setTimeout:setTimeout(n,parseFloat(l.delay)),next:p}}else n();else f.queue(e,l.queue,function(e,t){if(!0===t)return k.promise&&k.resolver(b),!0;P.velocityQueueEntryFlag=!0,n(e)});""!==l.queue&&"fx"!==l.queue||"inprogress"===f.queue(e)[0]||f.dequeue(e)}var h,m,g,v,b,C,S,T=arguments[0]&&(arguments[0].p||f.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||y.isString(arguments[0].properties));y.isWrapped(this)?(m=!1,v=0,b=this,g=this):(m=!0,v=1,b=T?arguments[0].elements||arguments[0].e:arguments[0]);var k={promise:null,resolver:null,rejecter:null};if(m&&P.Promise&&(k.promise=new P.Promise(function(e,t){k.resolver=e,k.rejecter=t})),T?(C=arguments[0].properties||arguments[0].p,S=arguments[0].options||arguments[0].o):(C=arguments[v],S=arguments[v+1]),!(b=n(b)))return void(k.promise&&(C&&S&&!1===S.promiseRejectEmpty?k.resolver():k.rejecter()));var A=b.length,N=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(C)&&!f.isPlainObject(S)){var B=v+1;S={};for(var j=B;j<arguments.length;j++)y.isArray(arguments[j])||!/^(fast|normal|slow)$/i.test(arguments[j])&&!/^\d/.test(arguments[j])?y.isString(arguments[j])||y.isArray(arguments[j])?S.easing=arguments[j]:y.isFunction(arguments[j])&&(S.complete=arguments[j]):S.duration=arguments[j]}var I;switch(C){case"scroll":I="scroll";break;case"reverse":I="reverse";break;case"pause":var V=(new Date).getTime();return f.each(b,function(e,t){s(t,V)}),f.each(P.State.calls,function(e,t){var i=!1;t&&f.each(t[1],function(e,r){var n=S===o?"":S;return!0!==n&&t[2].queue!==n&&(S!==o||!1!==t[2].queue)||(f.each(b,function(e,o){if(o===r)return t[5]={resume:!1},i=!0,!1}),!i&&void 0)})}),r();case"resume":return f.each(b,function(e,t){l(t,V)}),f.each(P.State.calls,function(e,t){var i=!1;t&&f.each(t[1],function(e,r){var n=S===o?"":S;return!0!==n&&t[2].queue!==n&&(S!==o||!1!==t[2].queue)||(!t[5]||(f.each(b,function(e,o){if(o===r)return t[5].resume=!0,i=!0,!1}),!i&&void 0))})}),r();case"finish":case"finishAll":case"stop":f.each(b,function(e,t){a(t)&&a(t).delayTimer&&(clearTimeout(a(t).delayTimer.setTimeout),a(t).delayTimer.next&&a(t).delayTimer.next(),delete a(t).delayTimer),"finishAll"!==C||!0!==S&&!y.isString(S)||(f.each(f.queue(t,y.isString(S)?S:""),function(e,t){y.isFunction(t)&&t()}),f.queue(t,y.isString(S)?S:"",[]))});var D=[];return f.each(P.State.calls,function(e,t){t&&f.each(t[1],function(i,r){var n=S===o?"":S;if(!0!==n&&t[2].queue!==n&&(S!==o||!1!==t[2].queue))return!0;f.each(b,function(i,o){if(o===r)if((!0===S||y.isString(S))&&(f.each(f.queue(o,y.isString(S)?S:""),function(e,t){y.isFunction(t)&&t(null,!0)}),f.queue(o,y.isString(S)?S:"",[])),"stop"===C){var s=a(o);s&&s.tweensContainer&&(!0===n||""===n)&&f.each(s.tweensContainer,function(e,t){t.endValue=t.currentValue}),D.push(e)}else"finish"!==C&&"finishAll"!==C||(t[2].duration=1)})})}),"stop"===C&&(f.each(D,function(e,t){p(t,!0)}),k.promise&&k.resolver(b)),r();default:if(!f.isPlainObject(C)||y.isEmptyObject(C)){if(y.isString(C)&&P.Redirects[C]){h=f.extend({},S);var _=h.duration,E=h.delay||0;return!0===h.backwards&&(b=f.extend(!0,[],b).reverse()),f.each(b,function(e,t){parseFloat(h.stagger)?h.delay=E+parseFloat(h.stagger)*e:y.isFunction(h.stagger)&&(h.delay=E+h.stagger.call(t,e,A)),h.drag&&(h.duration=parseFloat(_)||(/^(callout|transition)/.test(C)?1e3:x),h.duration=Math.max(h.duration*(h.backwards?1-e/A:(e+1)/A),.75*h.duration,200)),P.Redirects[C].call(t,t,h||{},e,A,b,k.promise?k:o)}),r()}var $="Velocity: First argument ("+C+") was not a property map, a known action, or a registered redirect. Aborting.";return k.promise?k.rejecter(new Error($)):t.console&&console.log($),r()}I="start"}var M={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},R=[];f.each(b,function(e,t){y.isNode(t)&&c(t,e)}),h=f.extend({},P.defaults,S),h.loop=parseInt(h.loop,10);var L=2*h.loop-1;if(h.loop)for(var G=0;G<L;G++){var F={delay:h.delay,progress:h.progress};G===L-1&&(F.display=h.display,F.visibility=h.visibility,F.complete=h.complete),e(b,"reverse",F)}return r()};P=f.extend(k,P),P.animate=k;var A=t.requestAnimationFrame||g;if(!P.State.isMobile&&i.hidden!==o){var N=function(){i.hidden?(A=function(e){return setTimeout(function(){e(!0)},16)},d()):A=t.requestAnimationFrame||g};N(),i.addEventListener("visibilitychange",N)}return e.Velocity=P,e!==t&&(e.fn.velocity=k,e.fn.velocity.defaults=P.defaults),f.each(["Down","Up"],function(e,t){P.Redirects["slide"+t]=function(e,i,r,n,a,s){var l=f.extend({},i),c=l.begin,h=l.complete,u={},d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};l.display===o&&(l.display="Down"===t?"inline"===P.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){0===r&&c&&c.call(a,a);for(var i in d)if(d.hasOwnProperty(i)){u[i]=e.style[i];var o=O.getPropertyValue(e,i);d[i]="Down"===t?[o,0]:[0,o]}u.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in u)u.hasOwnProperty(t)&&(e.style[t]=u[t]);r===n-1&&(h&&h.call(a,a),s&&s.resolver(a))},P(e,d,l)}}),f.each(["In","Out"],function(e,t){P.Redirects["fade"+t]=function(e,i,r,n,a,s){var l=f.extend({},i),c=l.complete,h={opacity:"In"===t?1:0};0!==r&&(l.begin=null),l.complete=r!==n-1?null:function(){c&&c.call(a,a),s&&s.resolver(a)},l.display===o&&(l.display="In"===t?"auto":"none"),P(this,h,l)}}),P}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})}).call(t,i(100)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,i){var o,r,n,a=("function"==typeof Symbol&&Symbol.iterator,function(){function e(t,i){if(void 0===t.length)throw t.length+"/"+i;var o=function(){for(var e=0;e<t.length&&0==t[e];)e+=1;for(var o=new Array(t.length-e+i),r=0;r<t.length-e;r+=1)o[r]=t[r+e];return o}(),r={};return r.getAt=function(e){return o[e]},r.getLength=function(){return o.length},r.multiply=function(t){for(var i=new Array(r.getLength()+t.getLength()-1),o=0;o<r.getLength();o+=1)for(var n=0;n<t.getLength();n+=1)i[o+n]^=a.gexp(a.glog(r.getAt(o))+a.glog(t.getAt(n)));return e(i,0)},r.mod=function(t){if(r.getLength()-t.getLength()<0)return r;for(var i=a.glog(r.getAt(0))-a.glog(t.getAt(0)),o=new Array(r.getLength()),n=0;n<r.getLength();n+=1)o[n]=r.getAt(n);for(var n=0;n<t.getLength();n+=1)o[n]^=a.gexp(a.glog(t.getAt(n))+i);return e(o,0).mod(t)},r}var t=function(t,i){var r=t,a=o[i],p=null,f=0,m=null,g=[],b={},w=function(e,t){f=4*r+17,p=function(e){for(var t=new Array(e),i=0;i<e;i+=1){t[i]=new Array(e);for(var o=0;o<e;o+=1)t[i][o]=null}return t}(f),y(0,0),y(f-7,0),y(0,f-7),S(),x(),T(e,t),r>=7&&P(e),null==m&&(m=A(r,a,g)),O(m,t)},y=function(e,t){for(var i=-1;i<=7;i+=1)if(!(e+i<=-1||f<=e+i))for(var o=-1;o<=7;o+=1)t+o<=-1||f<=t+o||(p[e+i][t+o]=0<=i&&i<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=o&&o<=4)},C=function(){for(var e=0,t=0,i=0;i<8;i+=1){w(!0,i);var o=n.getLostPoint(b);(0==i||e>o)&&(e=o,t=i)}return t},x=function(){for(var e=8;e<f-8;e+=1)null==p[e][6]&&(p[e][6]=e%2==0);for(var t=8;t<f-8;t+=1)null==p[6][t]&&(p[6][t]=t%2==0)},S=function(){for(var e=n.getPatternPosition(r),t=0;t<e.length;t+=1)for(var i=0;i<e.length;i+=1){var o=e[t],a=e[i];if(null==p[o][a])for(var s=-2;s<=2;s+=1)for(var l=-2;l<=2;l+=1)p[o+s][a+l]=-2==s||2==s||-2==l||2==l||0==s&&0==l}},P=function(e){for(var t=n.getBCHTypeNumber(r),i=0;i<18;i+=1){var o=!e&&1==(t>>i&1);p[Math.floor(i/3)][i%3+f-8-3]=o}for(var i=0;i<18;i+=1){var o=!e&&1==(t>>i&1);p[i%3+f-8-3][Math.floor(i/3)]=o}},T=function(e,t){for(var i=a<<3|t,o=n.getBCHTypeInfo(i),r=0;r<15;r+=1){var s=!e&&1==(o>>r&1);r<6?p[r][8]=s:r<8?p[r+1][8]=s:p[f-15+r][8]=s}for(var r=0;r<15;r+=1){var s=!e&&1==(o>>r&1);r<8?p[8][f-r-1]=s:r<9?p[8][15-r-1+1]=s:p[8][15-r-1]=s}p[f-8][8]=!e},O=function(e,t){for(var i=-1,o=f-1,r=7,a=0,s=n.getMaskFunction(t),l=f-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var c=0;c<2;c+=1)if(null==p[o][l-c]){var h=!1;a<e.length&&(h=1==(e[a]>>>r&1));var u=s(o,l-c);u&&(h=!h),p[o][l-c]=h,r-=1,-1==r&&(a+=1,r=7)}if((o+=i)<0||f<=o){o-=i,i=-i;break}}},k=function(t,i){for(var o=0,r=0,a=0,s=new Array(i.length),l=new Array(i.length),c=0;c<i.length;c+=1){var h=i[c].dataCount,u=i[c].totalCount-h;r=Math.max(r,h),a=Math.max(a,u),s[c]=new Array(h);for(var d=0;d<s[c].length;d+=1)s[c][d]=255&t.getBuffer()[d+o];o+=h;var p=n.getErrorCorrectPolynomial(u),f=e(s[c],p.getLength()-1),m=f.mod(p);l[c]=new Array(p.getLength()-1);for(var d=0;d<l[c].length;d+=1){var g=d+m.getLength()-l[c].length;l[c][d]=g>=0?m.getAt(g):0}}for(var v=0,d=0;d<i.length;d+=1)v+=i[d].totalCount;for(var b=new Array(v),w=0,d=0;d<r;d+=1)for(var c=0;c<i.length;c+=1)d<s[c].length&&(b[w]=s[c][d],w+=1);for(var d=0;d<a;d+=1)for(var c=0;c<i.length;c+=1)d<l[c].length&&(b[w]=l[c][d],w+=1);return b},A=function(e,t,i){for(var o=s.getRSBlocks(e,t),r=l(),a=0;a<i.length;a+=1){var c=i[a];r.put(c.getMode(),4),r.put(c.getLength(),n.getLengthInBits(c.getMode(),e)),c.write(r)}for(var h=0,a=0;a<o.length;a+=1)h+=o[a].dataCount;if(r.getLengthInBits()>8*h)throw"code length overflow. ("+r.getLengthInBits()+">"+8*h+")";for(r.getLengthInBits()+4<=8*h&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;;){if(r.getLengthInBits()>=8*h)break;if(r.put(236,8),r.getLengthInBits()>=8*h)break;r.put(17,8)}return k(r,o)};b.addData=function(e,t){t=t||"Byte";var i=null;switch(t){case"Numeric":i=c(e);break;case"Alphanumeric":i=h(e);break;case"Byte":i=u(e);break;case"Kanji":i=d(e);break;default:throw"mode:"+t}g.push(i),m=null},b.isDark=function(e,t){if(e<0||f<=e||t<0||f<=t)throw e+","+t;return p[e][t]},b.getModuleCount=function(){return f},b.make=function(){if(r<1){for(var e=1;e<40;e++){for(var t=s.getRSBlocks(e,a),i=l(),o=0;o<g.length;o++){var c=g[o];i.put(c.getMode(),4),i.put(c.getLength(),n.getLengthInBits(c.getMode(),e)),c.write(i)}for(var h=0,o=0;o<t.length;o++)h+=t[o].dataCount;if(i.getLengthInBits()<=8*h)break}r=e}w(!1,C())},b.createTableTag=function(e,t){e=e||2,t=void 0===t?4*e:t;var i="";i+='<table style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: "+t+"px;",i+='">',i+="<tbody>";for(var o=0;o<b.getModuleCount();o+=1){i+="<tr>";for(var r=0;r<b.getModuleCount();r+=1)i+='<td style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: 0px;",i+=" width: "+e+"px;",i+=" height: "+e+"px;",i+=" background-color: ",i+=b.isDark(o,r)?"#000000":"#ffffff",i+=";",i+='"/>';i+="</tr>"}return i+="</tbody>",i+="</table>"},b.createSvgTag=function(e,t){e=e||2,t=void 0===t?4*e:t;var i,o,r,n,a,s=b.getModuleCount()*e+2*t,l="";for(a="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",l+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',l+=' width="'+s+'px"',l+=' height="'+s+'px"',l+=' viewBox="0 0 '+s+" "+s+'" ',l+=' preserveAspectRatio="xMinYMin meet">',l+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',l+='<path d="',r=0;r<b.getModuleCount();r+=1)for(n=r*e+t,i=0;i<b.getModuleCount();i+=1)b.isDark(r,i)&&(o=i*e+t,l+="M"+o+","+n+a);return l+='" stroke="transparent" fill="black"/>',l+="</svg>"},b.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;var i=b.getModuleCount()*e+2*t,o=t,r=i-t;return v(i,i,function(t,i){if(o<=t&&t<r&&o<=i&&i<r){var n=Math.floor((t-o)/e),a=Math.floor((i-o)/e);return b.isDark(a,n)?0:1}return 1})},b.createImgTag=function(e,t,i){e=e||2,t=void 0===t?4*e:t;var o=b.getModuleCount()*e+2*t,r="";return r+="<img",r+=' src="',r+=b.createDataURL(e,t),r+='"',r+=' width="',r+=o,r+='"',r+=' height="',r+=o,r+='"',i&&(r+=' alt="',r+=i,r+='"'),r+="/>"};var N=function(e){e=void 0===e?2:e;var t,i,o,r,n,a=1*b.getModuleCount()+2*e,s=e,l=a-e,c={"██":"█","█ ":"▀"," █":"▄","  ":" "},h="";for(t=0;t<a;t+=2){for(o=Math.floor((t-s)/1),r=Math.floor((t+1-s)/1),i=0;i<a;i+=1)n="█",s<=i&&i<l&&s<=t&&t<l&&b.isDark(o,Math.floor((i-s)/1))&&(n=" "),s<=i&&i<l&&s<=t+1&&t+1<l&&b.isDark(r,Math.floor((i-s)/1))?n+=" ":n+="█",h+=c[n];h+="\n"}return a%2?h.substring(0,h.length-a-1)+Array(a+1).join("▀"):h.substring(0,h.length-1)};return b.createASCII=function(e,t){if((e=e||1)<2)return N(t);e-=1,t=void 0===t?2*e:t;var i,o,r,n,a=b.getModuleCount()*e+2*t,s=t,l=a-t,c=Array(e+1).join("██"),h=Array(e+1).join("  "),u="",d="";for(i=0;i<a;i+=1){for(r=Math.floor((i-s)/e),d="",o=0;o<a;o+=1)n=1,s<=o&&o<l&&s<=i&&i<l&&b.isDark(r,Math.floor((o-s)/e))&&(n=0),d+=n?c:h;for(r=0;r<e;r+=1)u+=d+"\n"}return u.substring(0,u.length-1)},b.renderTo2dContext=function(e,t){t=t||2;for(var i=b.getModuleCount(),o=0;o<i;o++)for(var r=0;r<i;r++)e.fillStyle=b.isDark(o,r)?"black":"white",e.fillRect(o*t,r*t,t,t)},b};t.stringToBytesFuncs={default:function(e){for(var t=[],i=0;i<e.length;i+=1){var o=e.charCodeAt(i);t.push(255&o)}return t}},t.stringToBytes=t.stringToBytesFuncs.default,t.createStringToBytes=function(e,t){var i=function(){for(var i=m(e),o=function(){var e=i.read();if(-1==e)throw"eof";return e},r=0,n={};;){var a=i.read();if(-1==a)break;var s=o(),l=o(),c=o(),h=String.fromCharCode(a<<8|s),u=l<<8|c;n[h]=u,r+=1}if(r!=t)throw r+" != "+t;return n}(),o="?".charCodeAt(0);return function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);if(n<128)t.push(n);else{var a=i[e.charAt(r)];"number"==typeof a?(255&a)==a?t.push(a):(t.push(a>>>8),t.push(255&a)):t.push(o)}}return t}};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},n=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],o={},n=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t};return o.getBCHTypeInfo=function(e){for(var t=e<<10;n(t)-n(1335)>=0;)t^=1335<<n(t)-n(1335);return 21522^(e<<10|t)},o.getBCHTypeNumber=function(e){for(var t=e<<12;n(t)-n(7973)>=0;)t^=7973<<n(t)-n(7973);return e<<12|t},o.getPatternPosition=function(e){return t[e-1]},o.getMaskFunction=function(e){switch(e){case r.PATTERN000:return function(e,t){return(e+t)%2==0};case r.PATTERN001:return function(e,t){return e%2==0};case r.PATTERN010:return function(e,t){return t%3==0};case r.PATTERN011:return function(e,t){return(e+t)%3==0};case r.PATTERN100:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case r.PATTERN101:return function(e,t){return e*t%2+e*t%3==0};case r.PATTERN110:return function(e,t){return(e*t%2+e*t%3)%2==0};case r.PATTERN111:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},o.getErrorCorrectPolynomial=function(t){for(var i=e([1],0),o=0;o<t;o+=1)i=i.multiply(e([1,a.gexp(o)],0));return i},o.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw"mode:"+e}}},o.getLostPoint=function(e){for(var t=e.getModuleCount(),i=0,o=0;o<t;o+=1)for(var r=0;r<t;r+=1){for(var n=0,a=e.isDark(o,r),s=-1;s<=1;s+=1)if(!(o+s<0||t<=o+s))for(var l=-1;l<=1;l+=1)r+l<0||t<=r+l||0==s&&0==l||a==e.isDark(o+s,r+l)&&(n+=1);n>5&&(i+=3+n-5)}for(var o=0;o<t-1;o+=1)for(var r=0;r<t-1;r+=1){var c=0;e.isDark(o,r)&&(c+=1),e.isDark(o+1,r)&&(c+=1),e.isDark(o,r+1)&&(c+=1),e.isDark(o+1,r+1)&&(c+=1),0!=c&&4!=c||(i+=3)}for(var o=0;o<t;o+=1)for(var r=0;r<t-6;r+=1)e.isDark(o,r)&&!e.isDark(o,r+1)&&e.isDark(o,r+2)&&e.isDark(o,r+3)&&e.isDark(o,r+4)&&!e.isDark(o,r+5)&&e.isDark(o,r+6)&&(i+=40);for(var r=0;r<t;r+=1)for(var o=0;o<t-6;o+=1)e.isDark(o,r)&&!e.isDark(o+1,r)&&e.isDark(o+2,r)&&e.isDark(o+3,r)&&e.isDark(o+4,r)&&!e.isDark(o+5,r)&&e.isDark(o+6,r)&&(i+=40);for(var h=0,r=0;r<t;r+=1)for(var o=0;o<t;o+=1)e.isDark(o,r)&&(h+=1);return i+=Math.abs(100*h/t/t-50)/5*10},o}(),a=function(){for(var e=new Array(256),t=new Array(256),i=0;i<8;i+=1)e[i]=1<<i;for(var i=8;i<256;i+=1)e[i]=e[i-4]^e[i-5]^e[i-6]^e[i-8];for(var i=0;i<255;i+=1)t[e[i]]=i;var o={};return o.glog=function(e){if(e<1)throw"glog("+e+")";return t[e]},o.gexp=function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]},o}(),s=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var i={};return i.totalCount=e,i.dataCount=t,i},i={},r=function(t,i){switch(i){case o.L:return e[4*(t-1)+0];case o.M:return e[4*(t-1)+1];case o.Q:return e[4*(t-1)+2];case o.H:return e[4*(t-1)+3];default:return}};return i.getRSBlocks=function(e,i){var o=r(e,i);if(void 0===o)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+i;for(var n=o.length/3,a=[],s=0;s<n;s+=1)for(var l=o[3*s+0],c=o[3*s+1],h=o[3*s+2],u=0;u<l;u+=1)a.push(t(c,h));return a},i}(),l=function(){var e=[],t=0,i={};return i.getBuffer=function(){return e},i.getAt=function(t){var i=Math.floor(t/8);return 1==(e[i]>>>7-t%8&1)},i.put=function(e,t){for(var o=0;o<t;o+=1)i.putBit(1==(e>>>t-o-1&1))},i.getLengthInBits=function(){return t},i.putBit=function(i){var o=Math.floor(t/8);e.length<=o&&e.push(0),i&&(e[o]|=128>>>t%8),t+=1},i},c=function(e){var t=i.MODE_NUMBER,o=e,r={};r.getMode=function(){return t},r.getLength=function(e){return o.length},r.write=function(e){for(var t=o,i=0;i+2<t.length;)e.put(n(t.substring(i,i+3)),10),i+=3;i<t.length&&(t.length-i==1?e.put(n(t.substring(i,i+1)),4):t.length-i==2&&e.put(n(t.substring(i,i+2)),7))};var n=function(e){for(var t=0,i=0;i<e.length;i+=1)t=10*t+a(e.charAt(i));return t},a=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return r},h=function(e){var t=i.MODE_ALPHA_NUM,o=e,r={};r.getMode=function(){return t},r.getLength=function(e){return o.length},r.write=function(e){for(var t=o,i=0;i+1<t.length;)e.put(45*n(t.charAt(i))+n(t.charAt(i+1)),11),i+=2;i<t.length&&e.put(n(t.charAt(i)),6)};var n=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return r},u=function(e){var o=i.MODE_8BIT_BYTE,r=t.stringToBytes(e),n={};return n.getMode=function(){return o},n.getLength=function(e){return r.length},n.write=function(e){for(var t=0;t<r.length;t+=1)e.put(r[t],8)},n},d=function(e){var o=i.MODE_KANJI,r=t.stringToBytesFuncs.SJIS;if(!r)throw"sjis not supported.";!function(e,t){var i=r("友");if(2!=i.length||38726!=(i[0]<<8|i[1]))throw"sjis not supported."}();var n=r(e),a={};return a.getMode=function(){return o},a.getLength=function(e){return~~(n.length/2)},a.write=function(e){for(var t=n,i=0;i+1<t.length;){var o=(255&t[i])<<8|255&t[i+1];if(33088<=o&&o<=40956)o-=33088;else{if(!(57408<=o&&o<=60351))throw"illegal char at "+(i+1)+"/"+o;o-=49472}o=192*(o>>>8&255)+(255&o),e.put(o,13),i+=2}if(i<t.length)throw"illegal char at "+(i+1)},a},p=function(){var e=[],t={};return t.writeByte=function(t){e.push(255&t)},t.writeShort=function(e){t.writeByte(e),t.writeByte(e>>>8)},t.writeBytes=function(e,i,o){i=i||0,o=o||e.length;for(var r=0;r<o;r+=1)t.writeByte(e[r+i])},t.writeString=function(e){for(var i=0;i<e.length;i+=1)t.writeByte(e.charCodeAt(i))},t.toByteArray=function(){return e},t.toString=function(){var t="";t+="[";for(var i=0;i<e.length;i+=1)i>0&&(t+=","),t+=e[i];return t+="]"},t},f=function(){var e=0,t=0,i=0,o="",r={},n=function(e){o+=String.fromCharCode(a(63&e))},a=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return r.writeByte=function(o){for(e=e<<8|255&o,t+=8,i+=1;t>=6;)n(e>>>t-6),t-=6},r.flush=function(){if(t>0&&(n(e<<6-t),e=0,t=0),i%3!=0)for(var r=3-i%3,a=0;a<r;a+=1)o+="="},r.toString=function(){return o},r},m=function(e){var t=e,i=0,o=0,r=0,n={};n.read=function(){for(;r<8;){if(i>=t.length){if(0==r)return-1;throw"unexpected end of file./"+r}var e=t.charAt(i);if(i+=1,"="==e)return r=0,-1;e.match(/^\s$/)||(o=o<<6|a(e.charCodeAt(0)),r+=6)}var n=o>>>r-8&255;return r-=8,n};var a=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return n},g=function(e,t){var i=e,o=t,r=new Array(e*t),n={};n.setPixel=function(e,t,o){r[t*i+e]=o},n.write=function(e){e.writeString("GIF87a"),e.writeShort(i),e.writeShort(o),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(i),e.writeShort(o),e.writeByte(0);var t=s(2);e.writeByte(2);for(var r=0;t.length-r>255;)e.writeByte(255),e.writeBytes(t,r,255),r+=255;e.writeByte(t.length-r),e.writeBytes(t,r,t.length-r),e.writeByte(0),e.writeString(";")};var a=function(e){var t=e,i=0,o=0,r={};return r.write=function(e,r){if(e>>>r!=0)throw"length over";for(;i+r>=8;)t.writeByte(255&(e<<i|o)),r-=8-i,e>>>=8-i,o=0,i=0;o|=e<<i,i+=r},r.flush=function(){i>0&&t.writeByte(o)},r},s=function(e){for(var t=1<<e,i=1+(1<<e),o=e+1,n=l(),s=0;s<t;s+=1)n.add(String.fromCharCode(s));n.add(String.fromCharCode(t)),n.add(String.fromCharCode(i));var c=p(),h=a(c);h.write(t,o);var u=0,d=String.fromCharCode(r[u]);for(u+=1;u<r.length;){var f=String.fromCharCode(r[u]);u+=1,n.contains(d+f)?d+=f:(h.write(n.indexOf(d),o),n.size()<4095&&(n.size()==1<<o&&(o+=1),n.add(d+f)),d=f)}return h.write(n.indexOf(d),o),h.write(i,o),h.flush(),c.toByteArray()},l=function(){var e={},t=0,i={};return i.add=function(o){if(i.contains(o))throw"dup key:"+o;e[o]=t,t+=1},i.size=function(){return t},i.indexOf=function(t){return e[t]},i.contains=function(t){return void 0!==e[t]},i};return n},v=function(e,t,i){for(var o=g(e,t),r=0;r<t;r+=1)for(var n=0;n<e;n+=1)o.setPixel(n,r,i(n,r));var a=p();o.write(a);for(var s=f(),l=a.toByteArray(),c=0;c<l.length;c+=1)s.writeByte(l[c]);return s.flush(),"data:image/gif;base64,"+s};return t}());!function(){a.stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t.push(o):o<2048?t.push(192|o>>6,128|63&o):o<55296||o>=57344?t.push(224|o>>12,128|o>>6&63,128|63&o):(i++,o=65536+((1023&o)<<10|1023&e.charCodeAt(i)),t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}return t}(e)}}(),function(i){r=[],o=i,void 0!==(n="function"==typeof o?o.apply(t,r):o)&&(e.exports=n)}(function(){return a})},function(e,t){},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=(i(10),i(3)),l=i(28),c=i(32),h=i(38),u=i(41),d=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;return this._=this.app.getService("locale")._,Object(s.e)().then(function(t){return e.projects=t.json(),e.projectId=e.getParam("projectId")||e.projects[0].id,e.project=e.projects.filter(function(t){return t.id==e.projectId})[0],e.subView=e.getParam("subView")||"subView1",{rows:[{view:"toolbar",localId:"stage",height:45,cols:[{view:"combo",localId:"project_combo",label:e._("Project"),width:400,value:e.projectId,options:e.getProjectOptions(),on:{onChange:function(t){e.project=e.projects.filter(function(e){return e.id==t})[0],e.startSubView(e.subView)}}},{localId:"tabbar-subViews",view:"segmented",multiview:!0,type:"clean",margin:0,borderless:!0,value:e.subView,options:[{id:"subView1",value:"<span class='webix_icon fa-film'></span> ANIMATION"},{id:"subView2",value:"<span class='webix_icon fa-ravelry'></span> GAS METERING"},{id:"subView3",value:"<span class='webix_icon fa-tasks'></span> GAS PROPERTIES"},{id:"subView4",value:"<span class='webix_icon fa-sitemap'></span> NETWORK"}]}]},{view:"multiview",id:"multi-visualization",value:e.subView,cells:[{id:"subView1",$subview:l.AnimationView,name:"subView1"},{id:"subView2",$subview:c.GasMeteringView,name:"subView2"},{id:"subView3",$subview:h.GasPropertiesView,name:"subView3"},{id:"subView4",$subview:u.NetworkView,name:"subView4"}],on:{onViewChange:function(t,i){e.stopSubView(t),e.startSubView(i)}}}]}}).catch(function(t){return e.projects=[],{view:"template",temlate:e._("Failed to load data")}})},t.prototype.startSubView=function(e){this.subView=e,this.getSubView(e)&&this.getSubView(e).updateView("START",this.project)},t.prototype.stopSubView=function(e){this.getSubView(e)&&this.getSubView(e).updateView("STOP")},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getSettings=function(){return this.getParentView().getSettings()},t.prototype.ready=function(){"subView1"==this.subView&&this.startSubView(this.subView)},t}(a.b);t.default=d},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),s=i(42),l=i(43),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getData=function(){var e=this;return new Promise(function(t,i){Object(l.c)().then(function(i){e.expressions=i.json(),t(e.expressions)}).catch(function(i){e.expressions=[],t(e.expressions)})})},t.prototype.getGridConfig=function(){return{localId:"expressionsGrid",title:"Expressions",view:"datatable",select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"name",header:[{content:"textFilter"},this._("Name")],fillspace:!0},{id:"dsc",header:[{content:"textFilter"},this._("Description")],fillspace:!0},{id:"code",hidden:!0}]}},t.prototype.getPopup=function(){return this.expressionPopup||(this.expressionPopup=this.ui(s.ExpressionView)),this.expressionPopup},t.prototype.addItem=function(e){return Object(l.a)(e)},t.prototype.updateItem=function(e){return Object(l.d)(e)},t.prototype.removeItem=function(e){return Object(l.b)(e.id)},t}(a.BaseMasterView);t.default=c},function(e,t,i){"use strict";function o(e){return e=e||{},{cols:[{},{width:100,view:"button",value:e.addButtonText,type:"form",click:function(){e.addButtonHandler&&e.addButtonHandler()}},{width:100,view:"button",value:e.updateButtonText,click:function(){e.updateButtonHandler&&e.updateButtonHandler()}},{width:100,view:"button",type:"danger",value:e.deleteButtonText,click:function(){e.deleteButtonHandler&&e.deleteButtonHandler()}}]}}Object.defineProperty(t,"__esModule",{value:!0}),t.FormButtons=o},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(134),s=(i.n(a),i(0)),l=i(18),c=(i.n(l),i(135)),h=(i.n(c),i(44)),u=i(46),d=i(47),p=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;return this._=this.app.getService("locale")._,{rows:[{view:"toolbar",height:32,elements:[{view:"label",label:"Home View"},{},{view:"icon",icon:"cog",click:function(){return e.hideSettings()}},{width:10}]},{rows:[{type:"space",id:"view-1",css:"homeBg",cols:[{id:"anim-view-1",cols:[{$subview:h.AnimationView,name:"AnimationView1"}]},{id:"trend-view",cols:[{$subview:u.TrendGraphicView,name:"TrendGraphicView"}]}]},{type:"space",id:"view-2",css:"homeBg",cols:[{id:"anim-view-2",cols:[{$subview:h.AnimationView,name:"AnimationView2"}]},{id:"alarm-view",cols:[{$subview:d.AlarmMonitorView,name:"AlarmMonitorView"}]}]}]}]}},t.prototype.startSubView=function(){var e=webix.storage.local.get("homeState");this.getSubView("AnimationView1")&&this.getSubView("AnimationView1").setOrder(1),this.getSubView("AnimationView2")&&this.getSubView("AnimationView2").setOrder(2),this.getSubView("AnimationView1")&&""!=e.anim1.projectId&&this.getSubView("AnimationView1").startAnimation(e.anim1.projectId,e.anim1.animeId),this.getSubView("AnimationView2")&&""!=e.anim2.projectId&&this.getSubView("AnimationView2").startAnimation(e.anim2.projectId,e.anim2.animeId),this.getSubView("TrendGraphicView")&&""!=e.trend.projectId&&this.getSubView("TrendGraphicView").startTrend(e.trend.projectId,e.trend.trendId),this.getSubView("AlarmMonitorView")&&""!=e.alarm.projectId&&this.getSubView("AlarmMonitorView").startMonitoring(e.alarm.projectId)},t.prototype.hideSettings=function(){this.getSubView("TrendGraphicView")&&this.getSubView("TrendGraphicView").hideSettings(),this.getSubView("AnimationView2")&&this.getSubView("AnimationView2").hideSettings(),this.getSubView("AnimationView1")&&this.getSubView("AnimationView1").hideSettings(),this.getSubView("AlarmMonitorView")&&this.getSubView("AlarmMonitorView").hideSettings(),this.generateDraggable()},t.prototype.ready=function(){this.localStorage(),this.startSubView(),this.generateDraggable()},t.prototype.generateDraggable=function(){this.getSubView("AlarmMonitorView")&&(this.getSubView("AlarmMonitorView").getVisibility()?(webix.DragControl.addDrag($$("anim-view-1").$view),webix.DragControl.addDrag($$("trend-view").$view),webix.DragControl.addDrag($$("anim-view-2").$view),webix.DragControl.addDrag($$("alarm-view").$view),webix.DragControl.addDrop($$("view-1").$view),webix.DragControl.addDrop($$("view-2").$view)):(webix.DragControl.addDrag($$("anim-view-1").$view,{$drag:function(){return!1}}),webix.DragControl.addDrag($$("trend-view").$view,{$drag:function(){return!1}}),webix.DragControl.addDrag($$("anim-view-2").$view,{$drag:function(){return!1}}),webix.DragControl.addDrag($$("alarm-view").$view,{$drag:function(){return!1}})))},t.prototype.localStorage=function(){if(!webix.storage.local.get("homeState")){var e={anim1:{projectId:"",animeId:""},anim2:{projectId:"",animeId:""},alarm:{projectId:""},trend:{projectId:"",trendId:""}};webix.storage.local.put("homeState",e)}},t}(s.b);t.default=p},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=(i(108),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this.app.getService("locale")._,i=this.app.getService("locale").getLang();return this.userService=this.app.getService("user"),{rows:[{},{cols:[{},{view:"form",elements:[{view:"label",height:150,align:"center",label:"<img src='/images/inscada.png' style='height:150px'>"},{localId:"loginForm",view:"form",width:425,borderless:!1,margin:10,elementsConfig:{labelPosition:"top"},rows:[{view:"text",name:"username",label:t("Username")},{view:"text",name:"password",label:t("Password"),type:"password"},{view:"button",value:t("Login"),click:function(){this.$scope.doLogin()},hotkey:"enter"}],rules:{username:webix.rules.isNotEmpty,password:webix.rules.isNotEmpty}},{name:"lang",view:"segmented",width:100,align:"right",options:[{id:"en",value:"EN"},{id:"tr",value:"TR"}],click:function(){return e.toggleLanguage()},value:i}]},{}]},{}]}},t.prototype.doLogin=function(){var e=this.$$("loginForm");if(e.validate()){var t=e.getValues();this.userService.login(t.username,t.password).catch(function(){webix.html.removeCss(e.$view,"invalid_login"),e.elements.password.focus(),webix.delay(function(){webix.html.addCss(e.$view,"invalid_login")})})}},t.prototype.toggleLanguage=function(){var e=this.app.getService("locale"),t=this.getRoot().queryView({name:"lang"}).getValue();e.setLang(t)},t.prototype.init=function(e){e.$view.querySelector("input").focus()},t}(a.b));t.default=s},function(e,t,i){"use strict";function o(){return Object(a.c)("/currentUser").then(function(e){return e.json()})}function r(e,t){return Object(a.d)("/login",{username:e,password:t}).then(function(e){return e.json()})}function n(){return Object(a.d)("/logout")}var a=i(5);t.a={status:o,login:r,logout:n}},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(136),s=(i.n(a),i(0)),l=i(49),c=i(50),h=i(51),u=i(52),d=i(48),p=i(53),f=i(3),m=(i(1),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._;return Object(f.e)().then(function(t){return e.projects=t.json(),e.projectOptions=e.projects.map(function(e){return{id:e.id,value:e.name}}),e.id=e.projectOptions[0].id,{rows:[{view:"toolbar",id:"myToolbar",cols:[{view:"combo",id:"project_combo",label:"Project:",width:400,options:e.projectOptions,value:e.id,on:{onChange:function(t){e.changeProject(t)}}}]},{cols:[{gravity:2.5,minWidth:600,rows:[{minHeight:250,gravity:1.5,type:"line",cols:[{$subview:l.ConnectionPanelView,name:"ConnectionPanelView"},{$subview:c.DevicePanelView,name:"DevicePanelView"},{$subview:h.FramePanelView,name:"FramePanelView"}]},{view:"resizer"},{minHeight:200,type:"line",cols:[{$subview:d.AlarmPanelView,name:"AlarmPanelView"},{$subview:p.ScriptPanelView,name:"ScriptPanelView"}]}]},{view:"resizer"},{minWidth:250,$subview:u.VariablePanelView,name:"VariablePanelView"}]}]}}).catch(function(t){return e.projects=[],{view:"template",temlate:"Failed to load panel data"}})},t.prototype.changeProject=function(e){this.getSubView("ConnectionPanelView").load(e),this.getSubView("AlarmPanelView").load(e),this.getSubView("ScriptPanelView").load(e)},t.prototype.runPeriodically=function(){var e=this,t=this.getParentView().getSettings();this.timer=setInterval(function(){try{e.getSubView("ConnectionPanelView").refreshConnectionStatuses()}catch(e){}try{e.getSubView("VariablePanelView").refreshVariableValues()}catch(e){}try{e.getSubView("AlarmPanelView").refresh()}catch(e){}try{e.getSubView("ScriptPanelView").refresh()}catch(e){}},t.cPeriod)},t.prototype.stopPeriodically=function(){this.timer&&clearInterval(this.timer)},t.prototype.init=function(){},t.prototype.ready=function(){this.id&&(this.changeProject(this.id),this.runPeriodically())},t.prototype.destroy=function(){this.stopPeriodically()},t}(s.b));t.default=m},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(3),l=i(1),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this.app.getService("locale")._;return Object(s.e)().then(function(t){return e.projects=t.json(),e.mapData=e.projects.filter(function(e){return null!=e.latitude&&null!=e.longitude}).map(function(e){return{id:e.projectId,lat:e.latitude,lng:e.longitude,label:e.name}}),e.center=e.calculateCenter(e.mapData),{key:l.c,view:"google-map",localId:"map",zoom:6,center:e.center,data:e.mapData}}).catch(function(t){return e.projects=[],{key:"AIzaSyAfLMIPRWZ38UBDTWFprndLc-vkhfiJmBQ",view:"google-map",localId:"map",zoom:6,center:[39.91987,32.85427]}})},t.prototype.calculateCenter=function(e){for(var t=0,i=0,o=0;o<e.length;o++)t+=e[o].lat,i+=e[o].lng;var r=[];return r.push(t/e.length),r.push(i/e.length),r},t.prototype.init=function(){},t}(a.b);t.default=c},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),s=i(54),l=i(55),c=i(3),h=i(1),u=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getData=function(){return new Promise(function(e,t){Object(c.e)().then(function(t){e(t.json())}).catch(function(t){e([])})})},t.prototype.getGridConfig=function(){var e=this;return{localId:"projectsGrid",title:"Projects",view:"datatable",select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"name",header:[this._("Name"),{content:"textFilter"}],fillspace:!0},{id:"dsc",header:[this._("Description"),{content:"textFilter"}],fillspace:!0},{id:"startDate",header:this._("Start Date"),width:125,format:webix.Date.dateToStr("%d/%m/%Y")},{id:"endDate",header:this._("End Date"),width:125,format:webix.Date.dateToStr("%d/%m/%Y")},{id:"address",header:this._("Address"),fillspace:!0},{id:"isActive",header:this._("Is Active?"),template:this.customCheckbox,css:{"text-align":"center"}}],on:{onSelectChange:function(){e.reloadDetail()},onItemDblClick:function(t,i,o){Object(h.g)(e.$$("projectsGrid").getSelectedItem(),e.$$("projectsGrid").Aj,"Projects")}},extra:[{view:"uploader",id:"import_uploader",label:"Import",autosend:!0,type:"iconButton",icon:"upload",align:"center",width:100,on:{onUploadComplete:function(t){t.success?(e.showError("info",t.message),e.reloadProjects()):e.showError("error",t.message)},onFileUploadError:function(t,i){e.reloadProjects()}}},{view:"button",label:"Export",type:"iconButton",icon:"download",width:100,click:function(){var t=e.$$("projectsGrid").getSelectedItem();t&&Object(c.c)(t.id)}}]}},t.prototype.getDetailGridConfig=function(){return{localId:"projectProperties",title:this._("Properties"),view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0,required:!0},{id:"name",header:this._("Name"),fillspace:!0},{id:"value",header:this._("Value"),fillspace:!0}]}},t.prototype.reloadDetail=function(){var e=JSON.parse(this.getSelected().properties),t=this.getDetailGrid();if(t.clearAll(),null!=e){for(var i=[],o=Object.keys(e),r=0;r<o.length;r++)i.push({name:o[r],value:e[o[r]]});t.parse(i)}},t.prototype.getDetailPopup=function(){return this.propertyPopup||(this.propertyPopup=this.ui(l.PropertyView)),this.propertyPopup},t.prototype.saveDetail=function(e,t){var i=this,o=this.getSelected(),r=JSON.parse(o.properties);null==r&&(r={}),r[e.name]=e.value,o.properties=JSON.stringify(r),this.updateItem(o).then(function(){i.getGrid().updateItem(o.id,o),i.data[i.data.findIndex(function(e){return e.id==o.id})]=o,t||i.hideDetailPopup(),i.reloadDetail()})},t.prototype.removeDetail=function(){var e=this,t=this.getSelected(),i=this.getSelectedDetail(),o=JSON.parse(t.properties);null==o&&(o={}),delete o[i.name],t.properties=JSON.stringify(o),this.updateItem(t).then(function(){e.getGrid().updateItem(t.id,t),e.data[e.data.findIndex(function(e){return e.id==t.id})]=t,e.reloadDetail()})},t.prototype.getContractDayOptions=function(){return c.a.map(function(e){return{id:e,value:e}})},t.prototype.getPopup=function(){return this.projectPopup||(this.projectPopup=this.ui(s.ProjectView)),this.projectPopup},t.prototype.addItem=function(e){return Object(c.b)(e)},t.prototype.updateItem=function(e){return Object(c.g)(e)},t.prototype.removeItem=function(e){return Object(c.f)(e)},t}(a.BaseMasterView);t.default=u},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(58),l=i(60),c=i(56),h=i(14),u=i(3),d=i(1),p=i(4),f=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this.myformat=webix.Date.dateToStr("%d-%m-%Y-00:00:00");var t=this._=this.app.getService("locale")._;return this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure to continue?")},Object(u.e)().then(function(i){return e.projects=i.json(),{rows:[{cols:[{gravity:2,rows:[Object(p.CrudToolbar)({title:t("Reports"),add:function(){e.add()},edit:function(){e.update()},remove:function(){e.remove()},extra:[{localId:"projectCombo",view:"combo",options:e.getProjectOptions(),width:400,label:"Project",on:{onChange:function(t){return e.changeProject(t)}}}]}),{localId:"reportsGrid",view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"name",header:[{content:"textFilter"},t("Name")],fillspace:!0},{id:"dsc",header:[{content:"textFilter"},t("Description")],fillspace:!0},{id:"period",header:[{content:"selectFilter"},e._("Period")]},{id:"reportTime",header:e._("Report Time"),width:50},{id:"printFlag",header:e._("Print?")},{id:"reportDay",header:e._("Report Day")},{id:"printDay",header:e._("Print Day")},{id:"printTime",header:e._("Print Time"),width:50}],on:{onSelectChange:function(){var e=this.$scope.getSelected();e&&this.$scope.getSubView("reportGroupsView").load(e.id)}}}]},{view:"resizer"},{$subview:s.ReportGroupsView,name:"reportGroupsView"}]},{view:"resizer"},{$subview:l.ReportSubgroupsView,name:"reportSubgroupsView"}]}})},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.changeProject=function(e){var t=this.reports.filter(function(t){return t.projectId==e});this.getSubView("reportGroupsView").clear(),this.$$("reportsGrid").clearAll(),this.$$("reportsGrid").parse(t)},t.prototype.loadData=function(){var e=this;Object(h.l)().then(function(t){e.reports=t.json(),e.$$("reportsGrid").clearAll(),e.$$("reportsGrid").parse(e.reports)})},t.prototype.getReportOptions=function(){return this.reports.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getReportGroupOptions=function(){return this.getSubView("reportGroupsView").getReportGroupOptions()},t.prototype.getPeriodOptions=function(){return h.m.map(function(e){return{id:e,value:e}})},t.prototype.getDayOptions=function(){return h.g.map(function(e){return{id:e,value:e}})},t.prototype.clear=function(){this.getGrid().clearAll()},t.prototype.getGrid=function(){return this.$$("reportsGrid")},t.prototype.getSelected=function(){var e=this.getGrid(),t=e.getSelectedId();return t?e.getItem(t):null},t.prototype.add=function(){this.showPopup({})},t.prototype.update=function(){var e=this.getSelected();e&&this.showPopup(e)},t.prototype.remove=function(){var e=this,t=this.getSelected();t&&Object(d.a)(this.confirmOptions,function(){return Object(h.o)(t.id).then(function(){e.getSubView("reportGroupsView").clear(),e.getGrid().remove(t.id),Object(d.d)(e._("Report removed"))})})},t.prototype.save=function(e,t){var i=this;e.id?Object(d.a)(this.confirmOptions,function(){return Object(h.t)(e).then(function(){i.reports[i.reports.findIndex(function(t){return t.id==e.id})]=e,i.$$("reportsGrid").updateItem(e.id,e),Object(d.d)(i._("Report updated successfully")),i.hidePopup()})}):Object(d.a)(this.confirmOptions,function(){return Object(h.a)(e).then(function(e){var o=e.json();i.reports.push(o);var r=i.$$("reportsGrid").add(o);i.$$("reportsGrid").select(r),i.$$("reportsGrid").showItem(r),Object(d.d)(i._("A new report added")),t||i.hidePopup()})})},t.prototype.showPopup=function(e){var t=this.getPopup();t.bindTo(e),t.show()},t.prototype.hidePopup=function(){this.getPopup().hide()},t.prototype.getPopup=function(){return this.reportPopup||(this.reportPopup=this.ui(c.ReportView)),this.reportPopup},t.prototype.ready=function(){this.loadData()},t}(a.b);t.default=f},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),s=i(63),l=i(12),c=i(3),h=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getData=function(){var e=this;return new Promise(function(t,i){webix.promise.all([Object(l.d)(),Object(c.e)()]).then(function(i){e.projects=i[1].json(),t(i[0].json())}).catch(function(i){e.projects=[],t([])})})},t.prototype.getGridConfig=function(){var e=this;return{localId:"scriptsGrid",title:"Scripts",view:"datatable",select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"projectId",editor:"combo",header:[{content:"selectFilter"},this._("Project")],fillspace:!0,collection:this.getProjectOptions()},{id:"name",header:[{content:"textFilter"},this._("Name")],fillspace:!0},{id:"dsc",header:[{content:"textFilter"},this._("Description")],fillspace:!0},{id:"period",header:this._("Period")},{id:"log",header:this._("Log"),template:this.customCheckbox,css:{"text-align":"center"}}],extra:[{view:"icon",icon:"rocket",click:function(){return e.runCode()}}]}},t.prototype.runCode=function(){var e=this,t=this.$$("scriptsGrid").getSelectedItem();Object(l.h)(t.id).then(function(t){var i=t.text();e.showOutput(i)}).catch(function(t){e.showOutput(e._("Error in code syntax"))})},t.prototype.showOutput=function(e){""==e&&(e=this._("Empty output"));var t={view:"popup",padding:0,position:"center",id:"scriptPopup",body:{width:500,height:220,id:"devicePicker",view:"form",elementsConfig:{labelWidth:100},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Script Output")},{},{view:"icon",icon:"window-close",click:function(){webix.$$("scriptPopup").close()}}]},{height:10},{localId:"lineId",template:this._("Output message"),type:"section"},{view:"template",template:e,align:"center"},{height:10}]}]}};this.ui(t).show()},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getPopup=function(){return this.scriptPopup||(this.scriptPopup=this.ui(s.ScriptView)),this.scriptPopup},t.prototype.addItem=function(e){return Object(l.a)(e)},t.prototype.updateItem=function(e){return Object(l.j)(e)},t.prototype.removeItem=function(e){return Object(l.f)(e)},t}(a.BaseMasterView);t.default=h},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){return{rows:[{view:"template",template:'<iframe id="support-view" width="100%" height="100%" style="border:none;" src="https://inscada.gitbook.io/ver-lite/" target="_parent"></iframe>'}]}},t}(a.b);t.default=s},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(64),l=i(1),c=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._,i=this.app.getService("locale").getLang(),o=this.app.getService("user").getUser();this.app.getService("locale").polyglot.onMissingKey=function(e){return e};for(var r={view:"toolbar",elements:[{view:"icon",icon:"bars",click:function(){return $$("top:menu").toggle()}},{view:"label",label:"INSCADA"},{},{name:"lang",width:300,optionWidth:100,view:"segmented",label:t("Language"),options:[{id:"en",value:"English"},{id:"tr",value:"Türkçe"}],click:function(){return e.toggleLanguage()},value:i},{view:"icon",icon:"envelope",width:45},{view:"icon",icon:"cog",width:45,click:function(){return e.showSettingsPopup()}},{view:"button",type:"icon",icon:"sign-out",label:o.name,width:125,click:function(){return e.logout()}}]},n={value:t("Development"),id:"development",icon:"bug",data:[{value:t("Projects"),id:"projects",icon:"briefcase",page:"projects.projects"},{value:t("Connections"),id:"connections",icon:"plug",page:"connections.connections"},{value:t("Devices"),id:"devices",icon:"desktop",page:"devices.devices"},{value:t("Animations"),id:"animations",icon:"film",page:"animations.animations"},{value:t("Alarms"),id:"alarms",icon:"bullhorn",page:"alarms.alarms"},{value:t("Trends"),id:"trends",icon:"signal",page:"trends.trends"},{value:t("Scripts"),id:"scripts",icon:"file",page:"scripts.scripts"},{value:t("Expressions"),id:"expression_template",icon:"file-code-o",page:"expressions.expressions"},{value:t("Variables"),id:"variables",icon:"tags",page:"variables.variables"},{value:t("Reports"),id:"reports",icon:"print",page:"reports.reports"}]},a={value:t("Wizard"),id:"wizard",icon:"rebel",data:[{value:t("Gas Metering"),id:"gas_metering",icon:"ravelry",page:"wizard.gasMetering.devices"},{value:t("Gas Control"),id:"gas_control",icon:"wpexplorer"},{value:t("Hpp Unit"),id:"hpp_unit",icon:"superpowers"},{value:t("Device Library"),id:"device_template",icon:"sitemap",page:"wizard.deviceTemplate.devices"}]},s={value:t("Users"),id:"users",icon:"user",page:"users.users"},l={view:"sidebar",id:"top:menu",select:!0,data:[{value:t("Home"),id:"home",icon:"home",page:"home"},{value:t("Visualization"),id:"visualization",icon:"bullseye",page:"enduser.visualization.visualization"},{value:t("Control Panel"),id:"panel",icon:"server",page:"panel.panel"},{value:t("Project Map"),id:"map",icon:"map",page:"projects.map"},{value:t("Variable History"),id:"variableHistory",icon:"tags",page:"enduser.variableHistory"},{value:t("Alarm History"),id:"alarmHistory",icon:"bullhorn",page:"enduser.alarmHistory"},{value:t("Alarm Monitor"),id:"alarmMonitor",icon:"window-maximize",page:"enduser.alarmMonitor"},{value:t("Trend Graphics"),id:"trendGraphics",icon:"signal",page:"enduser.trend"},{value:t("Reports"),id:"reportView",icon:"file-pdf-o",page:"enduser.report"},{value:t("Logs"),id:"logs",icon:"history",page:"enduser.logs"},{value:t("Jobs"),id:"jobs",icon:"server",page:"enduser.jobs"},{value:t("Help"),id:"help",icon:"support",page:"support"},{value:t("About"),id:"about",icon:"info-circle"}]},c=0;c<o.authorities.length;c++)if("ROLE_ANONYMOUS"==o.authorities[c].authority||"Admin"==o.authorities[c].authority){l.data.splice(1,0,n),l.data.splice(2,0,a),l.data.splice(13,0,s);break}return{rows:[r,{cols:[l,{$subview:!0}]}]}},t.prototype.showSettingsPopup=function(e){this.getSettingsPopup().show()},t.prototype.getSettings=function(){return this.getSettingsPopup().getSettings()},t.prototype.getSettingsPopup=function(){return this.settingsPopup||(this.settingsPopup=this.ui(s.SettingsView)),this.settingsPopup},t.prototype.init=function(){var e=this;this.$$("top:menu").attachEvent("onItemClick",function(t){e.showPage(t)}),this.$$("top:menu").getPopupList().attachEvent("onItemClick",function(t){e.showPage(t)})},t.prototype.showPage=function(e){var t=this.$$("top:menu").getItem(e);t.page&&this.app.show("/top/"+t.page)},t.prototype.toggleLanguage=function(){var e=this.app.getService("locale"),t=this.getRoot().queryView({name:"lang"}).getValue();e.setLang(t)},t.prototype.logout=function(){var e=this;Object(l.a)({ok:this._("Yes"),cancel:this._("No"),text:this._("You are about to logged out. Are you sure you want to proceed?")},function(){return e.app.show("/logout")})},t}(a.b);t.default=c},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),s=i(65),l=i(66),c=i(17),h=i(3),u=i(6),d=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getData=function(){var e=this;return new Promise(function(t,i){webix.promise.all([Object(h.e)(),Object(c.d)()]).then(function(i){e.projects=i[0].json(),t(i[1].json())}).catch(function(i){e.projects=[],t([])})})},t.prototype.getGridConfig=function(){var e=this;return{localId:"trendsGrid",title:"Trends",view:"datatable",select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"projectId",editor:"combo",header:[{content:"selectFilter"},this._("Project")],fillspace:!0,collection:this.getProjectOptions()},{id:"name",header:[{content:"textFilter"},this._("Name")],fillspace:!0},{id:"dsc",header:[{content:"textFilter"},this._("Description")],fillspace:!0},{id:"period",header:this._("Period")}],on:{onSelectChange:function(){var t=e.getSelectedTrend();e.updateVariables(t.projectId),e.refreshTrendTagTable(t.id)}}}},t.prototype.getDetailGridConfig=function(){return{localId:"trendTagsGrid",title:"Trend Tags",view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0,required:!0},{id:"trendId",hidden:!0,required:!0},{id:"name",header:[{content:"textFilter"},this._("Name")],fillspace:!0},{id:"dsc",header:[{content:"textFilter"},this._("Description")],fillspace:!0},{id:"minScale",header:this._("Min. Scale")},{id:"maxScale",header:this._("Max. Scale")},{id:"color",header:this._("Color")},{id:"thickness",header:this._("Thickness")},{id:"status",header:this._("Status"),template:this.customCheckbox,css:{"text-align":"center"}}],load:function(e){return Object(c.c)(e.id)}}},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getVariableOptions=function(){return this.variables.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getSelectedTrend=function(){return this.$$("trendsGrid").getSelectedItem()},t.prototype.getSelectedTrendOption=function(){var e=this.$$("trendsGrid").getSelectedItem();return[{id:e.id,value:e.name}]},t.prototype.updateVariables=function(e){var t=this;Object(u.q)(e).then(function(e){t.variables=e.json()})},t.prototype.refreshTrendTagTable=function(e){var t=this;this.$$("trendTagsGrid").clearAll(),Object(c.c)(e).then(function(e){t.$$("trendTagsGrid").parse(e.json())})},t.prototype.getPopup=function(){return this.trendPopup||(this.trendPopup=this.ui(s.TrendView)),this.trendPopup},t.prototype.getDetailPopup=function(){return this.trendTagPopup||(this.trendTagPopup=this.ui(l.TrendTagView)),this.trendTagPopup},t.prototype.addItem=function(e){return Object(c.a)(e)},t.prototype.updateItem=function(e){return Object(c.g)(e)},t.prototype.removeItem=function(e){return Object(c.e)(e)},t.prototype.addItemDetail=function(e,t){return Object(c.b)(e,t)},t.prototype.updateItemDetail=function(e,t){return Object(c.h)(e,t)},t.prototype.removeItemDetail=function(e,t){return Object(c.f)(e,t)},t}(a.BaseMasterView);t.default=d},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),s=i(69),l=i(68),c=i(67),h=i(70),u=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getData=function(){return new Promise(function(e,t){Object(h.e)().then(function(t){e(t.json())}).catch(function(t){e([])})})},t.prototype.getGridConfig=function(){var e=this;return{localId:"usersGrid",title:"Users",view:"datatable",select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"username",header:[{content:"textFilter"},this._("Username")],fillspace:!0},{id:"email",header:[{content:"textFilter"},this._("Email")],fillspace:!0}],extra:[{view:"icon",icon:"key",click:function(){return e.showResetPasswordPopup()}}]}},t.prototype.getDetailGridConfig=function(){return{localId:"userRolesGrid",title:"User Roles",view:"datatable",data:[],select:"row",css:"rows",resizeColumn:!0,scroll:"xy",columns:[{id:"id",hidden:!0},{id:"username",hidden:!0},{id:"role",header:this._("Role"),fillspace:!0}],load:function(e){return Object(h.d)(e.username)}}},t.prototype.getRoleOptions=function(){return h.a.map(function(e){return{id:e,value:e}})},t.prototype.getPopup=function(){return this.userPopup||(this.userPopup=this.ui(s.UserView)),this.userPopup},t.prototype.getDetailPopup=function(){return this.rolePopup||(this.rolePopup=this.ui(l.RoleView)),this.rolePopup},t.prototype.addItem=function(e){return Object(h.b)(e)},t.prototype.updateItem=function(e){return Object(h.h)(e)},t.prototype.removeItem=function(e){return Object(h.f)(e)},t.prototype.addItemDetail=function(e,t){return Object(h.c)(e,t)},t.prototype.updateItemDetail=function(e,t){return Object(h.i)(e,t)},t.prototype.removeItemDetail=function(e,t){return Object(h.g)(e,t)},t.prototype.showResetPasswordPopup=function(){this.getSelected()&&(this.resetPasswordPopup=this.resetPasswordPopup||this.ui(c.ResetPasswordView),this.resetPasswordPopup.show())},t.prototype.resetPassword=function(){},t}(a.BaseMasterView);t.default=u},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(7),s=i(72),l=i(71),c=i(6),h=i(9),u=i(8),d=i(3),p=i(43),f=i(1),m=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.getData=function(){var e=this;return new Promise(function(t,i){Object(d.e)().then(function(i){e.projects=i.json(),t([])}).catch(function(i){e.projects=[],t([])}),Object(p.c)().then(function(t){e.expressions=t.json()})})},t.prototype.getGridConfig=function(){var e=this;return{localId:"variablesGrid",title:"Variables",extra:[{localId:"projectCombo",view:"combo",options:this.getProjectOptions(),width:400,label:"Project",on:{onChange:function(t){return e.changeProject(t)}}},{view:"icon",icon:"refresh",click:function(){return e.refreshVariableValues()}},{view:"icon",icon:"arrow-up",click:function(){return e.setVariableValue()}},{view:"icon",icon:"search",click:function(){return e.showSearchPopup()}}],view:"datatable",select:"row",scroll:"xy",css:"rows",rowLineHeight:25,rowHeight:25,resizeColumn:!0,columns:[{id:"id",hidden:!0},{id:"projectId",hidden:!0},{id:"connectionId",hidden:!0},{id:"deviceId",hidden:!0},{id:"frameId",hidden:!0},{id:"name",header:[this._("Name"),{content:"textFilter"}],width:370},{id:"dsc",header:[this._("Description"),{content:"textFilter"}]},{id:"code",header:this._("Code")},{id:"type",header:this._("Type"),collection:this.getVariableTypeOptions()},{id:"date",header:this._("Date"),css:{color:"#27b6c6","font-size":"12","font-weight":"bold"},width:200},{id:"value",header:this._("Value"),css:{color:"#27c659","font-weight":"bold"}},{id:"logType",header:this._("Log Type")},{id:"unit",header:this._("Unit")},{id:"startAddress",header:this._("Start Address"),sort:"int"},{id:"byteSwapFlag",header:this._("Byte Swap"),template:this.customCheckbox,css:{"text-align":"center"}},{id:"wordSwapFlag",header:this._("Word Swap"),template:this.customCheckbox,css:{"text-align":"center"}},{id:"retainFlag",header:this._("Retain Flag"),template:this.customCheckbox,css:{"text-align":"center"}},{id:"isActive",header:this._("Is Active?"),template:this.customCheckbox,css:{"text-align":"center"}},{id:"expressionType",header:this._("Expression Type")}],on:{onItemDblClick:function(t,i,o){Object(f.g)(e.$$("variablesGrid").getSelectedItem(),e.$$("variablesGrid").Aj,"Variable")}}}},t.prototype.changeProject=function(e){var t=this;this.projectId=e,Object(c.q)(this.projectId).then(function(e){t.variables=e.json();var i=t.getGrid();i.clearAll(),i.parse(t.variables)})},t.prototype.getOptions=function(e){return webix.promise.all([Object(h.d)(e.projectId),Object(u.h)(e.connectionId),Object(u.i)(e.connectionId,e.deviceId)]).then(function(e){return e}).catch(function(e){return[]})},t.prototype.getProjectOptions=function(){return this.projects.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getDeviceById=function(e){if(this.devices)return this.devices.filter(function(t){return t.id==e})[0]},t.prototype.getConnectionOptions=function(e,t){return Object(h.d)(e).then(function(e){return t(e.json().map(function(e){return{id:e.id,value:e.name}}))}).catch(function(e){return t([])})},t.prototype.getDeviceOptions=function(e,t){var i=this;return Object(u.h)(e).then(function(e){i.devices=e.json(),t(e.json().map(function(e){return{id:e.id,value:e.name}}))}).catch(function(e){return t([])})},t.prototype.getFrameOptions=function(e,t,i){var o=this;return Object(u.i)(e,t).then(function(e){o.frames=e.json(),i(e.json().map(function(e){return{id:e.id,value:e.name}}))}).catch(function(e){return i([])})},t.prototype.getFrameById=function(e){if(this.frames)return this.frames.filter(function(t){return t.id==e})[0]},t.prototype.getVariableTypeOptions=function(){return c.d.map(function(e){return{id:e,value:e}})},t.prototype.getVariableLogTypeOptions=function(){return c.b.map(function(e){return{id:e,value:e}})},t.prototype.getVariableUnitOptions=function(){return c.e.map(function(e){return{id:e,value:e}})},t.prototype.getVariableExprTypeOptions=function(){return c.a.map(function(e){return{id:e,value:e}})},t.prototype.getVariablePointClassOptions=function(){return c.c.map(function(e){return{id:e,value:e}})},t.prototype.getVariationTypes=function(e){return e.map(function(e){return{id:e,value:e}})},t.prototype.getExpressionOptions=function(){return this.expressions.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getExpressions=function(){return this.expressions},t.prototype.getExpression=function(e){return this.expressions.filter(function(t){return t.id==e})[0]},t.prototype.showSearchPopup=function(){this.getSearchPopup().show()},t.prototype.search=function(e){this.$$("variablesGrid").filter(function(t){for(var i in e){var o=e[i];if(o)if("name"==i){if(-1==t[i].toUpperCase().indexOf(o.toUpperCase()))return!1}else if(t[i]!=o)return!1}return!0})},t.prototype.refreshVariableValues=function(){var e=this,t=webix.Date.dateToStr("%Y-%m-%d, %H:%i:%s:%S");this.projectId&&Object(c.n)(this.projectId).then(function(i){var o=i.json();e.$$("variablesGrid").eachRow(function(i){var r=e.$$("variablesGrid").getItem(i),n=o[i];n&&(r.value=n.value,r.date=t(new Date(n.date)))}),e.$$("variablesGrid").refresh()})},t.prototype.setVariableValue=function(){var e=this.getSelected();if(e){var t=this.ui({view:"window",height:200,width:300,modal:!0,position:"center",move:!0,head:{view:"toolbar",cols:[{view:"label",label:e.name},{view:"icon",icon:"window-close",align:"right",click:function(){return t.close()}}]},body:{view:"form",elements:[{view:"text",name:"value",label:this._("Value"),value:e.value},{view:"button",label:this._("Set"),click:function(){var i=this.getFormView().elements.value.getValue();Object(c.s)(e.id,i).then(function(){return t.close()})}}]}});t.show()}},t.prototype.getPopup=function(){return this.variablePopup||(this.variablePopup=this.ui(s.VariableView)),this.variablePopup},t.prototype.getSearchPopup=function(){return this.variableSearchPopup||(this.variableSearchPopup=this.ui(l.VariableSearchView)),this.variableSearchPopup},t.prototype.runPeriodically=function(){var e=this;this.timer=setInterval(function(){try{e.refreshVariableValues()}catch(e){}},5e3)},t.prototype.stopPeriodically=function(){this.timer&&clearInterval(this.timer)},t.prototype.ready=function(){this.refreshVariableValues(),this.runPeriodically(),this.projects&&this.projects.length>0&&this.$$("projectCombo").setValue(this.projects[0].id)},t.prototype.destroy=function(){this.stopPeriodically()},t.prototype.addItem=function(e){return Object(c.f)(e)},t.prototype.updateItem=function(e){return Object(c.u)(e)},t.prototype.removeItem=function(e){return Object(c.r)(e)},t}(a.BaseMasterView);t.default=m},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(73),l=i(74),c=i(76),h=i(13),u=i(4),d=i(1),p=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this,t=this._=this.app.getService("locale")._;this.confirmOptions={ok:this._("Yes"),cancel:this._("No"),text:this._("Are you sure you want to continue?")};var i={title:t("Device Templates"),add:function(){return e.add()},edit:function(){return e.update()},remove:function(){return e.remove()},extra:[{view:"uploader",id:"import_uploader",label:"Import",upload:Object(h.p)(),autosend:!0,type:"iconButton",icon:"upload",align:"center",width:100,on:{onUploadComplete:function(t){t.success?(e.showError("info",t.message),e.reloadDevices()):e.showError("error",t.message)},onFileUploadError:function(t,i){e.reloadDevices()}}},{view:"button",label:"Export",type:"iconButton",icon:"download",width:100,click:function(){var t=e.$$("devicesGrid").getSelectedItem();t&&Object(h.l)(t.id)}}]};return Object(h.m)().then(function(t){return e.devices=t.json(),{rows:[{cols:[{rows:[Object(u.CrudToolbar)(i),{localId:"devicesGrid",title:"Devices",view:"datatable",select:"row",css:"rows",scroll:"xy",resizeColumn:!0,data:e.devices,columns:[{id:"id",hidden:!0},{id:"name",header:[{content:"textFilter"},e._("Name")],adjust:!0},{id:"dsc",header:[{content:"textFilter"},e._("Description")],adjust:!0},{id:"stationAddress",header:e._("Station Address")},{id:"protocol",header:e._("Protocol"),width:200},{id:"scanTime",header:e._("Scan Time")}],on:{onSelectChange:function(){var t=e.getSelected();t&&e.getSubView("framesView").load(t)}}}]},{$subview:l.FramesView,name:"framesView"}]},{$subview:c.VariablesView,name:"variablesView"}]}}).catch(function(e){return{view:"template",template:"Failed to load devices data"}})},t.prototype.reloadDevices=function(){var e=this;Object(h.m)().then(function(t){e.devices=t.json(),e.clear(),e.$$("devicesGrid").parse(e.devices)})},t.prototype.showError=function(e,t){webix.message({type:e,text:t})},t.prototype.getSelectedDeviceItem=function(){return this.$$("devicesGrid").getSelectedItem()},t.prototype.getDeviceOptions=function(){return this.devices.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getFrameOptions=function(){return this.getSubView("framesView").getFrameOptions()},t.prototype.getSelectedFrameItem=function(){return this.getSubView("framesView").getSelectedFrameItem()},t.prototype.getProtocolOptions=function(){return h.e.map(function(e){return{id:e,value:e}})},t.prototype.getDeviceTypeOptions=function(){return h.a.map(function(e){return{id:e,value:e}})},t.prototype.getStreamTypeOptions=function(){return h.g.map(function(e){return{id:e,value:e}})},t.prototype.getSplitModeOptions=function(){return h.f.map(function(e){return{id:e,value:e}})},t.prototype.getTimeRegisterFormatOptions=function(){return h.h.map(function(e){return{id:e,value:e}})},t.prototype.getSelected=function(){var e=this.getGrid(),t=e.getSelectedId();return t?e.getItem(t):null},t.prototype.add=function(){this.showPopup({})},t.prototype.update=function(){var e=this.getSelected();e&&this.showPopup(e)},t.prototype.save=function(e,t){var i=this;e.id?Object(d.a)(this.confirmOptions,function(){return i.updateItem(e).then(function(){i.getGrid().updateItem(e.id,e),Object(d.d)(i._("Item updated")),i.hidePopup()})}):Object(d.a)(this.confirmOptions,function(){return i.addItem(e).then(function(e){var o=e.json(),r=i.getGrid(),n=r.add(o);r.select(n),r.showItem(n),Object(d.d)(i._("A new item added")),t||i.hidePopup(),i.devices.push(o)})})},t.prototype.remove=function(){var e=this,t=this.getSelected();t&&Object(d.a)(this.confirmOptions,function(){return e.removeItem(t).then(function(){Object(d.d)(e._("Item removed")),e.getSubView("framesView").clear(),e.getGrid().remove(t.id),e.devices.splice(e.devices.findIndex(function(e){return e.id==t.id}),1)})})},t.prototype.clear=function(){this.getGrid().clearAll(),this.getSubView("framesView").clear()},t.prototype.getGrid=function(){return this.$$("devicesGrid")},t.prototype.showPopup=function(e){var t=this.getPopup();e.type&&t.bindTo(e),t.bindTo(e),t.show()},t.prototype.hidePopup=function(){this.getPopup().hide()},t.prototype.getPopup=function(){return this.devicePopup||(this.devicePopup=this.ui(s.DeviceView)),this.devicePopup},t.prototype.addItem=function(e){return Object(h.i)(e)},t.prototype.updateItem=function(e){return Object(h.u)(e)},t.prototype.removeItem=function(e){return Object(h.r)(e)},t}(a.b);t.default=p},function(e,t,i){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(0),s=i(79),l=i(81),c=i(78),h=i(83),u=i(13),d=(i(1),i(4),function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return n(t,e),t.prototype.config=function(){var e=this;this._=this.app.getService("locale")._;return this.data={},this.devices=[],this.updated=!1,{view:"multiview",id:"multi-wizard",cells:[{id:"devices-view",rows:[{view:"toolbar",cols:[{view:"label",label:"GAS STATION MODEL"},{view:"button",width:100,type:"next",align:"right",label:"Next",click:function(){1==e.updated&&e.generateModules(),webix.$$("multi-wizard").setValue("streams-view"),e.updated=!1}}]},{height:495,view:"template",type:"clean",template:'<div style="margin:1px; width:100%; text-align:center;background:#00283f"><img src="/images/wizard/station.svg"></div>'},{view:"toolbar",cols:[{view:"label",label:"Device List"},{view:"icon",icon:"plus",align:"right",click:function(){e.deviceForm()}},{view:"icon",icon:"minus",align:"right",click:function(){e.removeDevice()}}]},{localId:"deviceList",view:"datatable",data:[],select:"row",css:"rows",editable:!0,resizeColumn:!0,scroll:"xy",columns:[{id:"deviceId",hidden:!0},{id:"no",header:"Item",adjust:!0},{id:"name",header:this._("Name"),fillspace:!0,adjust:!0},{id:"dsc",header:this._("Description"),fillspace:!0},{id:"protocol",header:this._("Protocol"),adjust:!0},{id:"stationAddress",header:this._("Station Address"),adjust:!0}]}]},{$subview:l.StreamsView,name:"streamsView"},{$subview:s.SettingsView,name:"settingsView"},{$subview:c.ConnectionsView,name:"connectionsView"},{$subview:h.SummaryView,name:"summaryView"}]}},t.prototype.removeDevice=function(){var e=this.$$("deviceList").getSelectedItem();e&&this.$$("deviceList").remove(e.id),this.usedDevices=this.$$("deviceList").serialize(),this.orderDevices(this.usedDevices),this.$$("deviceList").clearAll(),this.$$("deviceList").parse(this.usedDevices)},t.prototype.deviceForm=function(){var e=this;webix.$$("deviceFormPopup")&&webix.$$("deviceFormPopup").close();var t={view:"popup",padding:0,position:"center",id:"deviceFormPopup",body:{width:450,id:"deviceForm",view:"form",elementsConfig:{labelWidth:100},elements:[{rows:[{view:"toolbar",cols:[{view:"label",label:this._("Device Form")},{},{view:"icon",icon:"window-close",click:function(){return webix.$$("deviceFormPopup").hide()}}]},{height:10},{view:"combo",label:"Type",name:"type",required:!0,options:this.getDeviceTypes(),on:{onChange:function(t){var i=e.devices.filter(function(e){return e.type==t}).map(function(e){return{id:e.id,value:e.name}});webix.$$("deviceCombo").define("options",i),webix.$$("deviceCombo").refresh()}}},{view:"combo",label:"Device",name:"deviceId",id:"deviceCombo",required:!0},{view:"button",type:"form",width:125,align:"right",label:this._("Add"),click:function(){return e.save()}}]}]}};webix.ui(t).show()},t.prototype.save=function(){if(webix.$$("deviceForm").validate()){this.usedDevices||(this.usedDevices=[]);var e=webix.$$("deviceForm").getValues(),t=this.devices.filter(function(t){return t.id==e.deviceId})[0],i={deviceId:t.id,name:t.name,dsc:t.dsc,station:t.station,protocol:t.protocol,type:t.type,scanTime:t.scanTime,stationAddress:t.stationAddress,streamType:t.streamType,streamNumber:t.streamNumber};this.usedDevices.push(i),this.orderDevices(this.usedDevices),this.$$("deviceList").clearAll(),this.$$("deviceList").parse(this.usedDevices),webix.$$("deviceFormPopup").hide()}},t.prototype.orderDevices=function(e){this.updated=!0;for(var t=1;t<=e.length;t++)e[t-1].no=t},t.prototype.generateModules=function(){this.modules=[];for(var e=1,t=0;t<this.usedDevices.length;t++){var i=this.usedDevices[t];if("FLOWCOMPUTER"==i.type)for(var o=0;o<i.streamNumber;o++){var r={deviceId:i.deviceId,device:i,devicePosition:t,type:i.type,streamType:i.streamType,order:e,module:o+1};this.modules.push(r),e++}else{var r={deviceId:i.deviceId,device:i,devicePosition:t,type:i.type,streamType:"GC",order:e,module:""};this.modules.push(r),e++}}this.getSubView("streamsView").loadModuleList(this.modules)},t.prototype.getDeviceOptions=function(){return this.devices.map(function(e){return{id:e.id,value:e.name}})},t.prototype.getUsedDevices=function(){return this.usedDevices},t.prototype.getExistingDevices=function(){return this.devices},t.prototype.getDeviceTypes=function(){return u.a.map(function(e){return{id:e,value:e}})},t.prototype.ready=function(){var e=this;Object(u.m)().then(function(t){e.devices=t.json()})},t}(a.b));t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"Inscada Login":"Inscada Login",Username:"Username",Password:"Password",Login:"Login",Language:"Language",Projects:"Projects","Project Map":"Project Map",Devices:"Devices",Animations:"Animations",Alarms:"Alarms",Trends:"Trends","Trend Tags":"Trend Tags","Trend Tag":"Trend Tag",Scripts:"Scripts",Reports:"Reports",Logs:"Logs",Users:"Users",Help:"Help",About:"About",Home:"Home",Connection:"Connection","Trend Graphics":"Trend Graphics",Connections:"Connections","Report Group":"Report Group",Aggregate:"Aggregate","Device Templates":"Device Templates","Frame Templates":"Frame Templates","Variable Templates":"Variable Templates",Search:"Search","Are you sure you want to schedule/unschedule the selected script?":"Are you sure you want to schedule/unschedule the selected script?","Add New":"Add New",Save:"Save",Delete:"Delete",Yes:"Yes",No:"No",Status:"Status",Properties:"Properties","Are you sure to continue?":"Are you sure to continue?","Form data is invalid":"Form data is invalid",Visualisation:"Visualisation",Development:"Development","Gas Metering":"Gas Metering","Gas Control":"Gas Control","Control panel":"Control panel",Group:"Group",Module:"Module","Station Adress":"Station Adress",Protocol:"Protocol","On Date":"On Date","Acknowledge Date":"Acknowledge Date",Settings:"Settings",General:"General","Start adress":"Start adress","Scan Time":"Scan Time","Device Library":"Device Library",Expressions:"Expressions",Variables:"Variables",Wizard:"Wizard","Variable History":"Variable History",Jobs:"Jobs",Ip:"Ip",Port:"Port",Timeout:"Timeout",Frames:"Frames","Is Writeable?":"Is Writeable?","Is Readable?":"Is Readable?","Buffer size":"Buffer size","Print Time":"Print Time","Print Day":"Print Day","Print Hour":"Print Hour","Report Day":"Report Day","Report Time":"Report Time","Report Hour":"Report Hour","Print?":"Print?",Project:"Project",Name:"Name",Description:"Description","Start Date":"Start Date","End Date":"End Date","Is Active?":"Is Active?",Location:"Location",Address:"Address",Latitude:"Latitude",Longitude:"Longitude",Contract:"Contract","Contract Day":"Contract Day","Contract Hour":"Contract Hour","A new project added":"A new project added","Project updated successfully":"Project updated successfully","Project removed":"Project removed",Value:"Value","Are you sure you want to continue?":"Are you sure you want to continue?","Hpp Unit":"Hpp Unit",Reload:"Reload",Acknowledge:"Acknowledge",Quantity:"Quantity","Log Type":"Log Type",Unit:"Unit","Expression Type":"Expression Type","Retain Flag":"Retain Flag","Word Swap":"Word Swap","Byte Swap":"Byte Swap",Load:"Load","Date Range":"Date Range","Variable Picker":"Variable Picker","Last Value":"Last Value","First Value":"First Value","Min Value":"Min Value","Max Value":"Max Value","Sum Value":"Sum Value","Count Value":"Count Value","Acknowledge Date Range":"Acknowledge Date Range","Off Date Range":"Off Date Range","On date Range":"On Date Range","Search Form":"Search Form","Off Date":"Off Date","Interval (Second)":"Interval (Second)",On:"On",Off:"Off",Live:"Live",Preview:"Preview",Cancel:"Cancel",Schedule:"Schedule","Log Severity":"Log Severity",Activity:"Activity",Source:"Source",Message:"Message",Remove:"Remove","User Roles":"User Roles",Role:"Role",Expression:"Expression",Delay:"Delay",Category:"Category","On Script":"On Script","Off Script":"Off Script","Ack Script":"Ack Script","A new alarm added":"A new alarm added","Alarm updated successfully":"Alarm updated successfully","Alarm removed":"Alarm removed","Alarm History":"Alarm History",Type:"Type",Import:"Import",Date:"Date","Are you sure you want to activate/deactivate the selected alarm?":"Are you sure you want to activate/deactivate the selected alarm?","Are you sure you want to Start/Stop the selected connection?":"Are you sure you want to Start/Stop the selected connection?",Code:"Code",Priority:"Priority",Period:"Period",Log:"Log","A new script added":"A new script added","Script updated successfully":"Script updated successfully","Script removed":"Script removed","Deviation Variable":"Deviation Variable","Total Variable":"Total Variable","Calculation Type":"Calculation Type",Order:"Order","Report Variables":"Report Variables","Subgroup Order":"Subgroup Order","Report Subgroups":"Report Subgroups","Group Order":"Group Order","Animation Elements":"Animation Elements","Parent Animation":"Parent Animation",Color:"Color",Duration:"Duration","Play Order":"Play Order","Play at Main?":"Play at Main?","Svg Content":"Svg Content","Animation Type":"Animation Type","A new animation added":"A new animation added","Animation updated successfully":"Animation updated successfully","Animation removed":"Animation removed","A new animation element added":"A new animation element added","Animation element updated successfully":"Animation element updated successfully","Animation element removed":"Animation element removed","Min. Scale":"Min. Scale","Max. Scale":"Max. Scale",Thickness:"Thickness"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"Inscada Login":"Inscada Giriş",Username:"Kullanıcı Adı",Password:"Şifre",Login:"Giriş",Language:"Dil",Projects:"Projeler","Project Map":"Proje Haritası",Devices:"Cihazlar",Animations:"Animasyonlar",Alarms:"Alarmlar",Trends:"Trendler","Trend Tags":"Trend Etiketleri","Trend Tag":"Trend Etiketi",Scripts:"Betikler",Reports:"Raporlar",Logs:"Günlük",Users:"Kullanıcılar",Help:"Yardım",About:"Hakkında",Home:"Anasayfa",Connection:"Bağlantı","Trend Graphics":"Popüler Grafikler",Connections:"Bağlantılar","Report Group":"Grubu Bildir",Aggregate:"Toplam","Device Templates":"Cihaz Şablonları","Frame Templates":"Çerçeve ŞAblonları","Variable Templates":"Değişken Şablonları",Search:"Arama","Are you sure you want to schedule/unschedule the selected script?":"Seçili senaryoyu programlamak/programlamamak istediğinize emin misiniz?","Add New":"Ekle",Save:"Kaydet",Delete:"Sil",Yes:"Evet",No:"Hayır",Status:"Durum",Properties:"Özellikler","Are you sure to continue?":"Devam etmek istediğinizden emin misiniz?","Form data is invalid":"Form verileri eksik veya hatalı",Visualisation:"Görüntüleme",Development:"Gelişme","Gas Metering":"Gaz Ölçümü","Gas Control":"Gaz Kontrolü","Coontrol panel":"Kontrol Paneli",Group:"Grup",Module:"Modül","Station Adress":"İstasyon Adresi",Protocol:"Protokol","On Date":"Tarihinde","Acknowledge Date":"Kabul tarihi",Settings:"Ayarlar",General:"Genel","Start adress":"Başlangıç Adresi","Scan Time":"Tarama Vakti","Device Library":"Cihaz Kütüphanesi",Expressions:"İfadeler",Variables:"Değişkenler",Wizard:"Sihirbaz","Variable History":"Değişken Geçmişi",Jobs:"işler",Ip:"Ip",Port:"Giriş",Timeout:"Zaman Aşımı",Frames:"Çerçeveler","Is Writeable?":"Yazılabilir mi?","Is Readable?":"Okunabilir mi?","Buffer size":"Tampon Boyutu","Print Time":"Baskı Vakti","Print Day":"Baskı Günü","Print Hour":"Baskı Saati","Report Day":"Rapor Günü","Report Time":"Rapor Vakti","Report Hour":"Rapor saati","Print?":"Baskı?",Project:"Proje",Name:"Ad",Description:"Açıklama","Start Date":"Başlangıç Tarihi","End Date":"Bitiş Tarihi","Is Active?":"Aktif mi?",Location:"Lokasyon",Address:"Adres",Latitude:"Enlem",Longitude:"Boylam",Contract:"Sözleşme","Contract Day":"Sözleşme Günü","Contract Hour":"Sözleşme Saati","A new project added":"Yeni proje eklendi","Project updated successfully":"Proje başarıyla güncellendi","Project removed":"Proje silind   i",Value:"Değer","Are you sure you want to continue?":"Devam etmek istediğinize emin misiniz?","Hpp Unit":"Hpp Ünitesi",Reload:"Yeniden Yükleme",Acknowledge:"Kabul",Quantity:"Miktar","Log Type":"Günlük Türü",Unit:"Birim","Expression Type":"İfade Türü","Retain Flag":"Bayrağı Tut","Word Swap":"Kelime takası","Byte Swap":"Bayt Takası",Load:"Yük","Date Range":"Tarih Aralığı","Variable Picker":"Değişken Seçici","Last Value":"Son Değer","First Value":"İlk Değer","Min Value":"Minimum Değer","Max Value":"Maximum Değer","Sum Value":"Toplam Değer","Count Value":"Sayım Değeri","Acknowledge Date Range":"Kabul Tarih Aralığı","Off Date Range":"Kapalı Tarih Aralığı","On date Range":"Açık Tarih Aralığı","Search Form":"Arama Formu","Off Date":"Kapalı Tarih","Interval (Second)":"Aralık (İkinci)",On:"Açık",Off:"Kapalı",Live:"Canlı",Preview:"Önizleme",Cancel:"İptal",Schedule:"Program","Log Severity":"Kütük Şiddeti",Activity:"Aktivite",Source:"Kaynak",Message:"Message",Remove:"Kaldırmak","User Roles":"Kullanıcı Rolleri",Role:"Rol",Expression:"İfade",Delay:"Bekleme Süresi",Category:"Kategori","On Script":"Alarm Açık Betiği","Off Script":"Alarm Kapalı Betiği","Ack Script":"Alarm Onay Betiği","A new alarm added":"Yeni alarm eklendi","Alarm updated successfully":"Alarm başarıyla güncellendi","Alarm removed":"Alarm silindi","Alarm History":"Alarm Geçmişi",Type:"Tip",Import:"İthal",Date:"Tarih","Are you sure you want to activate/deactivate the selected alarm?":"Seçili alarmı aktifleştirmek/aktifleştirmemek isrediğinizden emin misinz?","Are you sure you want to Start/Stop the selected connection?":"Seçili bağlantıyı başlatmak/durdurmak istediğinizden emin misiniz?",Code:"Kod",Priority:"Öncelik",Period:"Periyot",Log:"Günlük","A new script added":"Yeni betik eklendi","Script updated successfully":"Betik başarıyla güncellendi","Script removed":"Betik silindi","Deviation Variable":"Sapma Değişkeni","Total Variable":"Toplam Değişken","Calculation Type":"Hesaplama Tipi",Order:"Sipariş","Report Variables":"Rapor Değişkenleri","Subgroup Order":"Alt Grup Siparişi","Report Subgroups":"Alt Grupları Bildir","Group Order":"Grup Siparişi","Animation Elements":"Animasyon Elemanları","Parent Animation":"Üst Animasyon",Color:"Renk",Duration:"Süre","Play Order":"Oynatma Sırası","Play at Main?":"Başlangıçta Oynatılsın?","Svg Content":"Svg İçeriği","Animation Type":"Animasyon Tipi","A new animation added":"Yeni animasyon eklendi","Animation updated successfully":"Animasyon başarıyla güncellendi","Animation removed":"Animasyon silindi","A new animation element added":"Yeni animasyon elemanı eklendi","Animation element updated successfully":"Animasyon elemanı başarıyla güncellendi","Animation element removed":"Animasyon elemanı silindi","Min. Scale":"Min. Ölçek","Max. Scale":"Max. Ölçek",Thickness:"Kalınlık"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(124),r=(i.n(o),i(125)),n=(i.n(r),i(84)),a=(i.n(n),i(0)),s=i(108);webix.ready(function(){var e=new a.a({id:"inscada management ui",version:1,start:"/top/home",debug:!0});e.use(a.c.User,{model:s.a}),e.use(a.c.Locale),e.render(),e.attachEvent("app:error:resolve",function(e,t){window.console.error(t)})})},function(e,t){},function(e,t){},function(e,t,i){"use strict";i.d(t,"a",function(){return u});var o=i(85),r=i(127),n=i(128),a=i(87),s=i(86),l=i(130),c=(i.n(l),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),u=function(e){function t(t){var i=e.call(this)||this;return i.webix=t.webix||webix,i.config=i.webix.extend({name:"App",version:"1.0",start:"/home"},t,!0),i._name=i.config.name,i._services={},webix.extend(i,webix.EventSystem),i}return h(t,e),t.prototype.getService=function(e){var t=this._services[e];return"function"==typeof t&&(t=this._services[e]=t(this)),t},t.prototype.setService=function(e,t){this._services[e]=t},t.prototype.copyConfig=function(e,t,i){if(e.$ui?e={$subview:new r.a(this,"",e)}:(e instanceof o.a||"function"==typeof e&&e.prototype instanceof o.a)&&(e={$subview:e}),e.$subview)return this.addSubView(e,t,i);t=t||(e instanceof Array?[]:{});for(var n in e){var a=e[n];"function"==typeof a&&a.prototype instanceof o.a&&(a={$subview:a}),!a||"object"!==(void 0===a?"undefined":c(a))||a instanceof webix.DataCollection||a instanceof RegExp?t[n]=a:a instanceof Date?t[n]=new Date(a):t[n]=this.copyConfig(a,a instanceof Array?[]:{},i)}return t},t.prototype.getRouter=function(){return this.$router},t.prototype.clickHandler=function(e){if(e){var t=e.target||e.srcElement;if(t&&t.getAttribute){var i=t.getAttribute("trigger");i&&this.trigger(i);var o=t.getAttribute("route");o&&this.show(o)}}},t.prototype.refresh=function(){var e=this._container;this._view.destructor(),this._view=this._container=null,this.render(e,Object(s.a)(this.getRouter().get()),this._parent)},t.prototype.loadView=function(e){var t=this,o=this.config.views,r=null;if(""===e)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{o&&"string"==typeof(r="function"==typeof o?o(e):o[e])&&(e=r,r=null),r||(e=e.replace(/\./g,"/"),r=i(131)("./"+e))}catch(t){r=this._loadError(e,t)}return r.then||(r=Promise.resolve(r)),r=r.then(function(e){return e.__esModule?e.default:e}).catch(function(i){return t._loadError(e,i)})},t.prototype.createFromURL=function(e,t){var i=this,o=e[0],r=o.page;return t&&t.getName()===r?Promise.resolve(t):this.loadView(o.page).then(function(e){return i.createView(e,r)})},t.prototype.createView=function(e,t){if("function"==typeof e){if(e.prototype instanceof o.a)return new e(this,t);e=e()}return e instanceof o.a?e:e.$ui?new r.a(this,t,e):new n.a(this,t,e)},t.prototype.show=function(e){return this.$router.get()!==e?this._render(e):Promise.resolve(!0)},t.prototype.canNavigate=function(e,t){var i={url:Object(s.a)(e),redirect:e,confirm:Promise.resolve(!0)};return this.callEvent("app:guard",[e,t||this._view,i])?i.confirm.catch(function(){return i.redirect=null}).then(function(){return i.redirect}):Promise.reject("")},t.prototype.destructor=function(){this._view.destructor()},t.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this.apply(e,t)},t.prototype.apply=function(e,t){this.callEvent(e,t)},t.prototype.action=function(e){return this.webix.bind(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.apply(e,t)},this)},t.prototype.on=function(e,t){this.attachEvent(e,t)},t.prototype.use=function(e,t){e(this,null,t)},t.prototype.error=function(e,t){if(this.callEvent(e,t),this.callEvent("app:error",t),this.config.debug)for(var i=0;i<t.length;i++)if(console.error(t[i]),t[i]instanceof Error){var o=t[i].message;0===o.indexOf("Module build failed")?(o=o.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+o+"</pre>"):(o+="<br><br>Check console for more details",webix.message({type:"error",text:o,expire:-1}))}},t.prototype._render=function(e){var t=this;!this.$router&&(webix.attachEvent("onClick",function(e){return t.clickHandler(e)}),e=this._first_start(e));var i="string"==typeof e?e:Object(s.b)(e);return this.canNavigate(i).then(function(e){return null!==e?(t.$router.set(e,{silent:!0}),t._render_stage(e)):null})},t.prototype._render_stage=function(e){var t=this,i="string"==typeof e?Object(s.a)(e):e;return webix.ui.freeze(function(){return t.createFromURL(i,t._view).then(function(e){var o=t._view;return t._view=e,e.render(t._container,i,t._parent).then(function(r){return o&&o!==t._view&&o.destructor(),t._view.getRoot().getParentView()&&(t._container=r),t._root=r,t.callEvent("app:route",[i]),e})}).catch(function(e){t.error("app:error:render",[e])})})},t.prototype._urlChange=function(e){return alert("Not implemented"),Promise.resolve(!0)},t.prototype._first_start=function(e){var t=this,i=function(e){return setTimeout(function(){t._render(e)},1)};if(this.$router=new(this.config.router||a.a)(i,this.config),this._container===document.body&&!1!==this.config.animation){var o=this._container;webix.html.addCss(o,"webixappstart"),setTimeout(function(){webix.html.removeCss(o,"webixappstart"),webix.html.addCss(o,"webixapp")},10)}return e&&1!==e.length||(e=this.$router.get()||this.config.start,this.$router.set(e,{silent:!0})),e},t.prototype._loadError=function(e,t){return this.error("app:error:resolve",[t,e]),{template:" "}},t.prototype.addSubView=function(e,t,i){var r=!0!==e.$subview?e.$subview:null,n=e.name||(r?this.webix.uid():"default");t.id=e.id||"s"+this.webix.uid();var a=i[n]={id:t.id,url:r};return a.url instanceof o.a&&(a.view=a.url),t},t}(o.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var o=i(20),r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),n=function(e){function t(t,i,o){var r=e.call(this,t,i)||this;return r._ui=o,r._windows=[],r}return r(t,e),t.prototype.getRoot=function(){if(this.app.config.jet1xMode){var e=this.getParentView();if(e)return e.getRoot()}return this._root},t.prototype.config=function(){return this._ui.$ui||this._ui},t.prototype.destructor=function(){var t=this._ui.$ondestroy;t&&t();for(var i=0,o=this._windows;i<o.length;i++){o[i].destructor()}e.prototype.destructor.call(this)},t.prototype.show=function(t,i){if(0===t.indexOf("/")||0===t.indexOf("./"))return e.prototype.show.call(this,t,i);e.prototype.show.call(this,"../"+t,i)},t.prototype.init=function(){this.app.config.legacyEarlyInit&&this._realInitHandler()},t.prototype.ready=function(){this.app.config.legacyEarlyInit||this._realInitHandler()},t.prototype._realInitHandler=function(){var e=this._ui.$oninit;if(e){var i=this.getRoot();e(i,i.$scope)}var o=this._ui.$onevent;if(o)for(var r in o)this.on(this.app,r,o[r]);var n=this._ui.$windows;if(n)for(var a=0,s=n;a<s.length;a++){var l=s[a];if(l.$ui){var c=new t(this.app,this.getName(),l);c.render(document.body),this._windows.push(c)}else this.ui(l)}},t.prototype._urlChange=function(t){var i=this;return e.prototype._urlChange.call(this,t).then(function(){var e=i._ui.$onurlchange;if(e){var o=i.getRoot();e(t[0].params,t.slice(1),o.$scope)}})},t}(o.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var o=i(20),r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),n=function(e){function t(t,i,o){var r=e.call(this,t,i)||this;return r._ui=o,r}return r(t,e),t.prototype.config=function(){return this._ui},t}(o.a)},function(e,t,i){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){var i,r=[],n={},a=e.routie,s=function(e,t){this.name=t,this.path=e,this.keys=[],this.fns=[],this.params={},this.regex=l(this.path,this.keys,!1,!1)};s.prototype.addHandler=function(e){this.fns.push(e)},s.prototype.removeHandler=function(e){for(var t=0,i=this.fns.length;t<i;t++){if(e==this.fns[t])return void this.fns.splice(t,1)}},s.prototype.run=function(e){for(var t=0,i=this.fns.length;t<i;t++)if(!1===this.fns[t].apply(this,e))return!1;return!0},s.prototype.match=function(e,t){var i=this.regex.exec(e);if(!i)return!1;for(var o=1,r=i.length;o<r;++o){var n=this.keys[o-1],a="string"==typeof i[o]?decodeURIComponent(i[o]):i[o];n&&(this.params[n.name]=a),t.push(a)}return!0},s.prototype.toURL=function(e){var t=this.path;for(var i in e)t=t.replace("/:"+i,"/"+e[i]);if(t=t.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=t.indexOf(":"))throw new Error("missing parameters for url: "+t);return t};var l=function(e,t,i,o){return e instanceof RegExp?e:(e instanceof Array&&(e="("+e.join("|")+")"),e=e.concat(o?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,i,o,r,n,a){return t.push({name:r,optional:!!a}),i=i||"",(a?"":i)+"(?:"+(a?i:"")+(o||"")+(n||o&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+e+"$",i?"":"i"))},c=function(e,t){var i=e.split(" "),o=2==i.length?i[0]:null;e=2==i.length?i[1]:i[0],n[e]||(n[e]=new s(e,o),r.push(n[e])),n[e].addHandler(t)},h=function e(t,i){if("function"==typeof i)c(t,i),e.reload();else if("object"==(void 0===t?"undefined":o(t))){for(var r in t)c(r,t[r]);e.reload()}else void 0===i&&e.navigate(t)};h.lookup=function(e,t){for(var i=0,o=r.length;i<o;i++){var n=r[i];if(n.name==e)return n.toURL(t)}},h.remove=function(e,t){var i=n[e];i&&i.removeHandler(t)},h.removeAll=function(){n={},r=[],i=""},h.navigate=function(e,t){t=t||{};var i=t.silent||!1;i&&m(),setTimeout(function(){window.location.hash=e,i&&setTimeout(function(){f()},1)},1)},h.noConflict=function(){return e.routie=a,h};var u=function(){return window.location.hash.substring(1)},d=function(e,t){var i=[];return t.match(e,i)?!1!==t.run(i)?1:0:-1},p=h.reload=function(){for(var e=u(),t=0,o=r.length;t<o;t++){var n=r[t],a=d(e,n);if(1===a){i=e;break}if(0===a){h.navigate(i,{silent:!0});break}}},f=function(){e.addEventListener?e.addEventListener("hashchange",p,!1):e.attachEvent("onhashchange",p)},m=function(){e.removeEventListener?e.removeEventListener("hashchange",p):e.detachEvent("onhashchange",p)};if(f(),i=u(),t)return h;e.routie=h};e.exports=r(window,!0),e.exports.default=e.exports},function(e,t){var i=webix,o=webix.version.split(".");10*o[0]+1*o[1]<53&&(i.ui.freeze=function(e){var t=e();return t&&t.then?t.then(function(e){return i.ui.$freeze=!1,i.ui.resize(),e}):(i.ui.$freeze=!1,i.ui.resize()),t});var r=i.ui.baselayout.prototype.addView,n=i.ui.baselayout.prototype.removeView,a={addView:function(e,t){if(this.$scope&&this.$scope.webixJet){var i=this.$scope,o={};e=i.app.copyConfig(e,{},o),r.apply(this,[e,t]);for(var n in o)!function(e){i._renderFrame(e,o[e],i.getUrl()).then(function(){i._subs[e]=o[e]})}(n);return e.id}return r.apply(this,arguments)},removeView:function(){if(n.apply(this,arguments),this.$scope&&this.$scope.webixJet){var e=this.$scope._subs;for(var t in e)webix.$$(e[t].id)||delete e[t]}}};i.extend(i.ui.layout.prototype,a,!0),i.extend(i.ui.baselayout.prototype,a,!0),webix.protoUI({name:"jetapp",$init:function(e){this.$app=new this.app(e);var t=webix.uid().toString();e.body={id:t},this.$ready.push(function(){this.$app.render(webix.$$(t))})}},webix.ui.proxy)},function(e,t,i){function o(e){return i(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./alarms/alarm":21,"./alarms/alarm.js":21,"./alarms/alarms":88,"./alarms/alarms.js":88,"./animations/animation":22,"./animations/animation.js":22,"./animations/animationElement":15,"./animations/animationElement.js":15,"./animations/animationElements":23,"./animations/animationElements.js":23,"./animations/animations":89,"./animations/animations.js":89,"./baseDetailView":2,"./baseDetailView.js":2,"./baseMasterView":7,"./baseMasterView.js":7,"./connections/connection":24,"./connections/connection.js":24,"./connections/connections":90,"./connections/connections.js":90,"./crudToolbar":4,"./crudToolbar.js":4,"./devices/device":25,"./devices/device.js":25,"./devices/devices":91,"./devices/devices.js":91,"./devices/frame":26,"./devices/frame.js":26,"./enduser/alarmHistory":92,"./enduser/alarmHistory.js":92,"./enduser/alarmMonitor":93,"./enduser/alarmMonitor.js":93,"./enduser/jobs":94,"./enduser/jobs.js":94,"./enduser/logs":95,"./enduser/logs.js":95,"./enduser/report":96,"./enduser/report.js":96,"./enduser/trend":97,"./enduser/trend.js":97,"./enduser/variableHistory":98,"./enduser/variableHistory.js":98,"./enduser/visualization/animation":28,"./enduser/visualization/animation.js":28,"./enduser/visualization/animator":29,"./enduser/visualization/animator.js":29,"./enduser/visualization/gmModel/chart":30,"./enduser/visualization/gmModel/chart.js":30,"./enduser/visualization/gmModel/data":31,"./enduser/visualization/gmModel/data.js":31,"./enduser/visualization/gmModel/gasMetering":32,"./enduser/visualization/gmModel/gasMetering.js":32,"./enduser/visualization/gmModel/grid":34,"./enduser/visualization/gmModel/grid.js":34,"./enduser/visualization/gmModel/model":33,"./enduser/visualization/gmModel/model.js":33,"./enduser/visualization/gmModel/pGrid":35,"./enduser/visualization/gmModel/pGrid.js":35,"./enduser/visualization/gmModel/unit":36,"./enduser/visualization/gmModel/unit.js":36,"./enduser/visualization/gpModel/data":37,"./enduser/visualization/gpModel/data.js":37,"./enduser/visualization/gpModel/gasProperties":38,"./enduser/visualization/gpModel/gasProperties.js":38,"./enduser/visualization/gpModel/grid":39,"./enduser/visualization/gpModel/grid.js":39,"./enduser/visualization/gpModel/unit":40,"./enduser/visualization/gpModel/unit.js":40,"./enduser/visualization/network":41,"./enduser/visualization/network.js":41,"./enduser/visualization/visualization":103,"./enduser/visualization/visualization.js":103,"./expressions/expression":42,"./expressions/expression.js":42,"./expressions/expressions":104,"./expressions/expressions.js":104,"./formButtons":105,"./formButtons.js":105,"./home":106,"./home.js":106,"./home/alarmMonitor":47,"./home/alarmMonitor.js":47,"./home/animation":44,"./home/animation.js":44,"./home/animator":45,"./home/animator.js":45,"./home/trend":46,"./home/trend.js":46,"./login":107,"./login.js":107,"./panel/alarmPanel":48,"./panel/alarmPanel.js":48,"./panel/connectionPanel":49,"./panel/connectionPanel.js":49,"./panel/devicePanel":50,"./panel/devicePanel.js":50,"./panel/framePanel":51,"./panel/framePanel.js":51,"./panel/panel":109,"./panel/panel.js":109,"./panel/scriptPanel":53,"./panel/scriptPanel.js":53,"./panel/variablePanel":52,"./panel/variablePanel.js":52,"./projects/map":110,"./projects/map.js":110,"./projects/project":54,"./projects/project.js":54,"./projects/projects":111,"./projects/projects.js":111,"./projects/property":55,"./projects/property.js":55,"./reports/report":56,"./reports/report.js":56,"./reports/reportGroup":57,"./reports/reportGroup.js":57,"./reports/reportGroups":58,"./reports/reportGroups.js":58,"./reports/reportSubgroup":59,"./reports/reportSubgroup.js":59,"./reports/reportSubgroups":60,"./reports/reportSubgroups.js":60,"./reports/reportVariable":62,"./reports/reportVariable.js":62,"./reports/reportVariables":61,"./reports/reportVariables.js":61,"./reports/reports":112,"./reports/reports.js":112,"./scripts/script":63,"./scripts/script.js":63,"./scripts/scripts":113,"./scripts/scripts.js":113,"./settings":64,"./settings.js":64,"./support":114,"./support.js":114,"./top":115,"./top.js":115,"./trends/trend":65,"./trends/trend.js":65,"./trends/trendTag":66,"./trends/trendTag.js":66,"./trends/trends":116,"./trends/trends.js":116,"./users/resetPassword":67,"./users/resetPassword.js":67,"./users/role":68,"./users/role.js":68,"./users/user":69,"./users/user.js":69,"./users/users":117,"./users/users.js":117,"./variables/search":71,"./variables/search.js":71,"./variables/variable":72,"./variables/variable.js":72,"./variables/variables":118,"./variables/variables.js":118,"./wizard/deviceTemplate/device":73,"./wizard/deviceTemplate/device.js":73,"./wizard/deviceTemplate/devices":119,"./wizard/deviceTemplate/devices.js":119,"./wizard/deviceTemplate/frame":75,"./wizard/deviceTemplate/frame.js":75,"./wizard/deviceTemplate/frames":74,"./wizard/deviceTemplate/frames.js":74,"./wizard/deviceTemplate/variable":77,"./wizard/deviceTemplate/variable.js":77,"./wizard/deviceTemplate/variables":76,"./wizard/deviceTemplate/variables.js":76,"./wizard/gasMetering/connections":78,"./wizard/gasMetering/connections.js":78,"./wizard/gasMetering/devices":120,"./wizard/gasMetering/devices.js":120,"./wizard/gasMetering/group":82,"./wizard/gasMetering/group.js":82,"./wizard/gasMetering/list":80,"./wizard/gasMetering/list.js":80,"./wizard/gasMetering/settings":79,"./wizard/gasMetering/settings.js":79,"./wizard/gasMetering/streams":81,"./wizard/gasMetering/streams.js":81,"./wizard/gasMetering/summary":83,"./wizard/gasMetering/summary.js":83};o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id=131},function(e,t,i){"use strict";function o(){return Object(r.c)("/jobs")}t.a=o;var r=i(5)},function(e,t,i){"use strict";function o(e){var t="?";for(var i in e)e.hasOwnProperty(i)&&(t+=i+"="+e[i]+"&");return Object(a.c)("/logs"+t)}function r(e,t){var i="dateSt="+e+"&dateEn="+t;return Object(a.b)("/logs?"+i)}function n(){return Object(a.d)("/logs/truncate")}i.d(t,"b",function(){return s}),i.d(t,"a",function(){return l}),t.c=o,t.e=r,t.d=n;var a=i(5),s=["Communication Service","Alarm Service","Script Service"],l=["Error","Warning","Information"]},function(e,t){},function(e,t){!function(){var e=window.AmCharts;e.GaugeAxis=e.Class({construct:function(t){this.cname="GaugeAxis",this.radius="95%",this.createEvents("rollOverBand","rollOutBand","clickBand"),this.labelsEnabled=!0,this.startAngle=-120,this.endAngle=120,this.startValue=0,this.endValue=200,this.gridCount=5,this.tickLength=10,this.minorTickLength=5,this.tickColor="#555555",this.labelFrequency=this.tickThickness=this.tickAlpha=1,this.inside=!0,this.labelOffset=10,this.showLastLabel=this.showFirstLabel=!0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridInside=!0,this.topTextYOffset=0,this.topTextBold=!0,this.bottomTextYOffset=0,this.bottomTextBold=!0,this.centerY=this.centerX="0%",this.bandOutlineAlpha=this.bandOutlineThickness=0,this.bandOutlineColor="#000000",this.bandAlpha=1,this.bcn="gauge-axis",e.applyTheme(this,t,"GaugeAxis")},value2angle:function(e){return(e-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(t){if(void 0!==t){this.topText=t;var i=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var o=this.topTextFontSize;o||(o=i.fontSize);var r=this.topTextColor;r||(r=i.color),t=e.text(i.container,t,r,i.fontFamily,o,void 0,this.topTextBold),e.setCN(i,t,"axis-top-label"),t.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset),this.set.push(t),this.topTF=t}}},setBottomText:function(t){if(void 0!==t){this.bottomText=t;var i=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var o=this.bottomTextFontSize;o||(o=i.fontSize);var r=this.bottomTextColor;r||(r=i.color),t=e.text(i.container,t,r,i.fontFamily,o,void 0,this.bottomTextBold),e.setCN(i,t,"axis-bottom-label"),t.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset),this.bottomTF=t,this.set.push(t)}}},draw:function(){var t=this.chart,i=t.container.set();this.set=i,e.setCN(t,i,this.bcn),e.setCN(t,i,this.bcn+"-"+this.id),t.graphsSet.push(i),this.bandSet=t.container.set(),this.set.push(this.bandSet);var o=this.startValue,r=this.endValue,n=this.valueInterval;isNaN(n)&&(n=(r-o)/this.gridCount);var a=this.minorTickInterval;isNaN(a)&&(a=n/5);var s=this.startAngle,l=this.endAngle,c=this.tickLength,h=(r-o)/n+1,u=(l-s)/(h-1);this.singleValueAngle=u/n;var d=t.container,p=this.tickColor,f=this.tickAlpha,m=this.tickThickness,a=n/a,g=u/a,v=this.minorTickLength,b=this.labelFrequency,w=this.radiusReal;this.inside||(w-=15),this.radiusRealReal=w;var y=t.centerX+e.toCoordinate(this.centerX,t.realWidth),C=t.centerY+e.toCoordinate(this.centerY,t.realHeight);this.centerXReal=y,this.centerYReal=C;var x,S,P={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0};this.gridInside?S=x=w:(x=w-c,S=x+v),this.minorTickRadius=S,this.drawBands();var T=this.axisThickness/2,l=e.wedge(d,y,C,s,l-s,x+T,x+T,x-T,0,P);for(e.setCN(t,l.wedge,"axis-line"),i.push(l),l=e.doNothing,e.isModern||(l=Math.round),P=e.getDecimals(o),x=e.getDecimals(r),r=e.getDecimals(n),r=Math.max(r,P,x),n=e.roundTo(n,r+1),P=0;P<h;P++){T=e.roundTo(o+P*n,r),x=s+P*u;var O=l(y+w*Math.sin(x/180*Math.PI)),k=l(C-w*Math.cos(x/180*Math.PI)),A=l(y+(w-c)*Math.sin(x/180*Math.PI)),N=l(C-(w-c)*Math.cos(x/180*Math.PI)),O=e.line(d,[O,A],[k,N],p,f,m,0,!1,!1,!0);e.setCN(t,O,"axis-tick"),i.push(O),O=-1,A=this.labelOffset,this.inside||(A=-A-c,O=1);var k=y+(w-c-A)*Math.sin(x/180*Math.PI),A=C-(w-c-A)*Math.cos(x/180*Math.PI),B=this.fontSize;isNaN(B)&&(B=t.fontSize);var N=Math.sin((x-90)/180*Math.PI),j=Math.cos((x-90)/180*Math.PI);if(0<b&&this.labelsEnabled&&P/b==Math.round(P/b)&&(this.showLastLabel||P!=h-1)&&(this.showFirstLabel||0!==P)){var I;I=this.usePrefixes?e.addPrefix(T,t.prefixesOfBigNumbers,t.prefixesOfSmallNumbers,t.nf,!0):e.formatNumber(T,t.nf,r);var V=this.unit;V&&(I="left"==this.unitPosition?V+I:I+V),(V=this.labelFunction)&&(I=V(T)),T=this.color,void 0===T&&(T=t.color),T=e.text(d,I,T,t.fontFamily,B),e.setCN(t,T,"axis-label"),B=T.getBBox(),T.translate(k+O*B.width/2*j,A+O*B.height/2*N),i.push(T)}if(P<h-1)for(T=1;T<a;T++)N=x+g*T,O=l(y+S*Math.sin(N/180*Math.PI)),k=l(C-S*Math.cos(N/180*Math.PI)),A=l(y+(S-v)*Math.sin(N/180*Math.PI)),N=l(C-(S-v)*Math.cos(N/180*Math.PI)),O=e.line(d,[O,A],[k,N],p,f,m,0,!1,!1,!0),e.setCN(t,O,"axis-tick-minor"),i.push(O)}this.axisCreated=!0,this.setTopText(this.topText),this.setBottomText(this.bottomText),t=t.graphsSet.getBBox(),this.width=t.width,this.height=t.height},drawBands:function(){var t=this.bands;if(t)for(var i=0;i<t.length;i++){var o=t[i];o&&(o.axis=this,e.processObject(o,e.GaugeBand,this.theme),o.draw(o.startValue,o.endValue))}},fireEvent:function(e,t,i){this.fire({type:e,dataItem:t,chart:this,event:i})},addEventListeners:function(t,i){var o=this,r=o.chart;t.mouseover(function(e){r.showBalloon(i.balloonText,i.color,!0),o.fireEvent("rollOverBand",i,e)}).mouseout(function(e){r.hideBalloon(),o.fireEvent("rollOutBand",i,e)}).click(function(t){o.fireEvent("clickBand",i,t),e.getURL(i.url,r.urlTarget)}).touchend(function(t){o.fireEvent("clickBand",i,t),e.getURL(i.url,r.urlTarget)})}})}(),function(){var e=window.AmCharts;e.GaugeArrow=e.Class({construct:function(t){this.cname="GaugeArrow",this.color="#000000",this.nailAlpha=this.alpha=1,this.startWidth=this.nailRadius=8,this.endWidth=0,this.borderAlpha=1,this.radius="90%",this.nailBorderAlpha=this.innerRadius=0,this.nailBorderThickness=1,this.frame=0,e.applyTheme(this,t,"GaugeArrow")},setValue:function(e){var t=this.chart;t&&t.setValue?t.setValue(this,e):this.previousValue=this.value=e}}),e.GaugeBand=e.Class({construct:function(){this.cname="GaugeBand",this.frame=0},draw:function(t,i){var o=this.axis;this.bandGraphics&&this.bandGraphics.remove();var r=o.chart,n=o.startAngle,a=o.radiusRealReal,s=o.singleValueAngle,l=r.container,c=o.minorTickLength,h=e.toCoordinate(this.radius,a);isNaN(h)&&(h=o.minorTickRadius),a=e.toCoordinate(this.innerRadius,a),isNaN(a)&&(a=h-c);var n=n+s*(t-o.startValue),c=s*(i-t),u=this.outlineColor;void 0===u&&(u=o.bandOutlineColor);var d=this.outlineThickness;isNaN(d)&&(d=o.bandOutlineThickness);var p=this.outlineAlpha;isNaN(p)&&(p=o.bandOutlineAlpha),s=this.alpha,isNaN(s)&&(s=o.bandAlpha),u={fill:this.color,stroke:u,"stroke-width":d,"stroke-opacity":p},this.url&&(u.cursor="pointer"),d=this.gradientRatio,d||(d=o.bandGradientRatio),l=e.wedge(l,o.centerXReal,o.centerYReal,n,c,h,h,a,0,u,d,void 0,void 0,"radial"),e.setCN(r,l.wedge,"axis-band"),void 0!==this.id&&e.setCN(r,l.wedge,"axis-band-"+this.id),l.setAttr("opacity",s),o.bandSet.push(l),this.bandGraphics=l,this.currentStartValue=t,this.currentEndValue=i,o.addEventListeners(l,this)},update:function(){var t=this.axis,i=t.chart;if(t&&t.value2angle){if(this.frame>=i.totalFrames)i=this.endValue,t=this.startValue;else{this.frame++;var o=e.getEffect(i.startEffect),t=e[o](0,this.frame,this.previousStartValue,this.startValue-this.previousStartValue,i.totalFrames),i=e[o](0,this.frame,this.previousEndValue,this.endValue-this.previousEndValue,i.totalFrames);isNaN(t)&&(t=this.startValue),isNaN(i)&&(i=this.endValue)}t==this.currentStartValue&&i==this.currentEndValue||this.draw(t,i)}},setStartValue:function(e){this.previousStartValue=this.startValue,this.startValue=e,this.frame=0},setEndValue:function(e){this.previousEndValue=this.endValue,this.endValue=e,this.frame=0}})}(),function(){var e=window.AmCharts;e.AmAngularGauge=e.Class({inherits:e.AmChart,construct:function(t){this.cname="AmAngularGauge",e.AmAngularGauge.base.construct.call(this,t),this.theme=t,this.type="gauge",this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10,this.faceColor="#FAFAFA",this.faceAlpha=0,this.faceBorderWidth=1,this.faceBorderColor="#555555",this.faceBorderAlpha=0,this.arrows=[],this.axes=[],this.startDuration=1,this.startEffect="easeOutSine",this.adjustSize=!0,this.extraHeight=this.extraWidth=0,e.applyTheme(this,t,this.cname)},addAxis:function(e){e.chart=this,this.axes.push(e)},formatString:function(t,i){return t=e.formatValue(t,i,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){e.AmAngularGauge.base.initChart.call(this);var t;0===this.axes.length&&(t=new e.GaugeAxis(this.theme),this.addAxis(t));var i;for(i=0;i<this.axes.length;i++)t=this.axes[i],t=e.processObject(t,e.GaugeAxis,this.theme),t.id||(t.id="axisAuto"+i+"_"+(new Date).getTime()),t.chart=this,this.axes[i]=t;var o=this.arrows;for(i=0;i<o.length;i++){t=o[i],t=e.processObject(t,e.GaugeArrow,this.theme),t.id||(t.id="arrowAuto"+i+"_"+(new Date).getTime()),t.chart=this,o[i]=t;var r=t.axis;e.isString(r)&&(t.axis=e.getObjById(this.axes,r)),t.axis||(t.axis=this.axes[0]),isNaN(t.value)&&t.setValue(t.axis.startValue),isNaN(t.previousValue)&&(t.previousValue=t.axis.startValue)}this.setLegendData(o),this.drawChart(),this.totalFrames=this.startDuration*e.updateRate},drawChart:function(){e.AmAngularGauge.base.drawChart.call(this);var t=this.container,i=this.updateWidth();this.realWidth=i;var o=this.updateHeight();this.realHeight=o;var r=e.toCoordinate,n=r(this.marginLeft,i),a=r(this.marginRight,i),s=r(this.marginTop,o)+this.getTitleHeight(),l=r(this.marginBottom,o),c=r(this.radius,i,o),r=i-n-a,h=o-s-l+this.extraHeight;c||(c=Math.min(r,h)/2),c<this.minRadius&&(c=this.minRadius),this.radiusReal=c,this.centerX=(i-n-a)/2+n,this.centerY=(o-s-l)/2+s+this.extraHeight/2,isNaN(this.gaugeX)||(this.centerX=this.gaugeX),isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var u,i=this.faceAlpha,o=this.faceBorderAlpha;for((0<i||0<o)&&(u=e.circle(t,c,this.faceColor,i,this.faceBorderWidth,this.faceBorderColor,o,!1),u.translate(this.centerX,this.centerY),u.toBack(),(t=this.facePattern)&&u.pattern(t,NaN,this.path)),i=c=t=0;i<this.axes.length;i++)o=this.axes[i],n=o.radius,o.radiusReal=e.toCoordinate(n,this.radiusReal),o.draw(),a=1,-1!==String(n).indexOf("%")&&(a=1+(100-Number(n.substr(0,n.length-1)))/100),o.width*a>t&&(t=o.width*a),o.height*a>c&&(c=o.height*a);for((i=this.legend)&&i.invalidateSize(),this.adjustSize&&!this.sizeAdjusted&&(u&&(u=u.getBBox(),u.width>t&&(t=u.width),u.height>c&&(c=u.height)),u=0,(h>c||r>t)&&(u=Math.min(h-c,r-t)),5<u&&(this.extraHeight=u,this.sizeAdjusted=!0,this.validateNow())),r=this.arrows.length,i=0;i<r;i++)h=this.arrows[i],h.drawnAngle=NaN;this.dispDUpd()},validateSize:function(){this.extraHeight=this.extraWidth=0,this.chartCreated=this.sizeAdjusted=!1,e.AmAngularGauge.base.validateSize.call(this)},addArrow:function(e){this.arrows.push(e)},removeArrow:function(t){e.removeFromArray(this.arrows,t),this.validateNow()},removeAxis:function(t){e.removeFromArray(this.axes,t),this.validateNow()},drawArrow:function(t,i){t.set&&t.set.remove();var o=this.container;t.set=o.set(),e.setCN(this,t.set,"gauge-arrow"),e.setCN(this,t.set,"gauge-arrow-"+t.id);var r=t.axis,n=r.radiusReal,a=r.centerXReal,s=r.centerYReal,l=t.startWidth,c=t.endWidth,h=e.toCoordinate(t.innerRadius,r.radiusReal),u=e.toCoordinate(t.radius,r.radiusReal);r.inside||(u-=15);var d=t.nailColor;d||(d=t.color);var p=t.nailColor;p||(p=t.color),0<t.nailRadius&&(d=e.circle(o,t.nailRadius,d,t.nailAlpha,t.nailBorderThickness,d,t.nailBorderAlpha),e.setCN(this,d,"gauge-arrow-nail"),t.set.push(d),d.translate(a,s)),isNaN(u)&&(u=n-r.tickLength);var r=Math.sin(i/180*Math.PI),n=Math.cos(i/180*Math.PI),d=Math.sin((i+90)/180*Math.PI),f=Math.cos((i+90)/180*Math.PI),o=e.polygon(o,[a-l/2*d+h*r,a+u*r-c/2*d,a+u*r+c/2*d,a+l/2*d+h*r],[s+l/2*f-h*n,s-u*n+c/2*f,s-u*n-c/2*f,s-l/2*f-h*n],t.color,t.alpha,1,p,t.borderAlpha,void 0,!0);e.setCN(this,o,"gauge-arrow"),t.set.push(o),this.graphsSet.push(t.set),t.hidden&&this.hideArrow(t)},setValue:function(e,t){e.axis&&e.axis.value2angle&&(e.frame=0,e.previousValue=e.value),e.value=t;var i=this.legend;i&&i.updateValues(),this.accessible&&this.background&&this.makeAccessible(this.background,t)},handleLegendEvent:function(e){var t=e.type;if(e=e.dataItem,!this.legend.data&&e)switch(t){case"hideItem":this.hideArrow(e);break;case"showItem":this.showArrow(e)}},hideArrow:function(e){e.set.hide(),e.hidden=!0,this.legend&&this.legend.invalidateSize()},showArrow:function(e){e.set.show(),e.hidden=!1,this.legend&&this.legend.invalidateSize()},updateAnimations:function(){e.AmAngularGauge.base.updateAnimations.call(this);for(var t,i,o=this.arrows.length,r=0;r<o;r++)t=this.arrows[r],t.axis&&t.axis.value2angle&&(t.frame>=this.totalFrames?i=t.value:(t.frame++,t.clockWiseOnly&&t.value<t.previousValue&&(i=t.axis,t.previousValue-=i.endValue-i.startValue),i=e.getEffect(this.startEffect),i=e[i](0,t.frame,t.previousValue,t.value-t.previousValue,this.totalFrames),isNaN(i)&&(i=t.value)),i=t.axis.value2angle(i),t.drawnAngle!=i&&(this.drawArrow(t,i),t.drawnAngle=i));for(o=this.axes,t=o.length-1;0<=t;t--)if(i=o[t],i.bands)for(r=i.bands.length-1;0<=r;r--){var n=i.bands[r];n.update&&n.update()}}})}()},function(e,t){},function(e,t,i){"use strict";!function(){function e(e,t){this.name=t.storeName||t.id+":route",this.cb=e}e.prototype.set=function(e,t){var i=this;webix.storage.session.put(this.name,e),t&&t.silent||setTimeout(function(){return i.cb(e)},1)},e.prototype.get=function(){return webix.storage.session.get(this.name)}}()},function(e,t,i){"use strict";!function(){function e(e,t){var i=this;this.cb=e,window.onpopstate=function(){return i.cb(i.get())},this.prefix=t.routerPrefix||""}e.prototype.set=function(e,t){var i=this;this.get()!==e&&window.history.pushState(null,null,this.prefix+e),t&&t.silent||setTimeout(function(){return i.cb(e)},1)},e.prototype.get=function(){var e=window.location.pathname.replace(this.prefix,"");return"/"!==e?e:""}}()},function(e,t,i){"use strict";!function(){function e(e,t){this.path="",this.cb=e}e.prototype.set=function(e,t){var i=this;this.path=e,t&&t.silent||setTimeout(function(){return i.cb(e)},1)},e.prototype.get=function(){return this.path}}()},function(e,t,i){"use strict";function o(e,t,i){t.on(e,"app:guard",function(e,o,r){if(o===t||o.contains(t)){var n=i();r.confirm=!1===n?Promise.reject(n):r.confirm.then(function(){return n})}})}t.a=o},function(e,t,i){"use strict";function o(e,t,o){o=o||{};var r=o.storage,a=r?r.get("lang")||"en":o.lang||"en",s={_:null,polyglot:null,getLang:function(){return a},setLang:function(t,l){var c=(o.path?o.path+"/":"")+t,h=i(143)("./"+c);h.__esModule&&(h=h.default);var u=s.polyglot=new n.a({phrases:h});u.locale(t),s._=webix.bind(u.t,u),a=t,r&&r.put("lang",a),l||e.refresh()}};e.setService("locale",s),s.setLang(a,!0)}t.a=o;var r=i(142),n=i.n(r)},function(e,t,i){"use strict";function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e,t,i){for(var r in e)o(e,r)&&t.call(i||e,e[r],r,e)}function n(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function a(e){e="Warning: "+e,"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(e){}}function s(e){var t={};return r(e,function(e,i){r(e,function(e){t[e]=i})}),t}function l(e){var t=s(y);return t[e]||t[g.call(e,/-/,1)[0]]||t.en}function c(e,t){return w[l(e)](t)}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function u(e){var t=e&&e.prefix||"%{",i=e&&e.suffix||"}";if(t===v||i===v)throw new RangeError('"'+v+'" token is reserved for pluralization');return new RegExp(h(t)+"(.*?)"+h(i),"g")}function d(e,t,i,r){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var a=e,s=r||S,l="number"==typeof t?{smart_count:t}:t;if(null!=l.smart_count&&a){var h=g.call(a,v);a=n(h[c(i||"en",l.smart_count)]||h[0])}return a=m.call(a,s,function(e,t){return o(l,t)&&null!=l[t]?m.call(l[t],C,x):e})}function p(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var i=t.allowMissing?d:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:i,this.warn=t.warn||a,this.tokenRegex=u(t.interpolation)}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=String.prototype.replace,g=String.prototype.split,v="||||",b=function(e){var t=e%10;return 11!==e&&1===t?0:2<=t&&t<=4&&!(e>=12&&e<=14)?1:2},w={arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:b,chinese:function(){return 0},croatian:b,french:function(e){return e>1?1:0},german:function(e){return 1!==e?1:0},russian:b,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},y={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]},C=/\$/g,x="$$",S=/%\{(.*?)\}/g;p.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},p.prototype.extend=function(e,t){r(e,function(e,i){var o=t?t+"."+i:i;"object"===(void 0===e?"undefined":f(e))?this.extend(e,o):this.phrases[o]=e},this)},p.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:r(e,function(e,i){var o=t?t+"."+i:i;"object"===(void 0===e?"undefined":f(e))?this.unset(e,o):delete this.phrases[o]},this)},p.prototype.clear=function(){this.phrases={}},p.prototype.replace=function(e){this.clear(),this.extend(e)},p.prototype.t=function(e,t){var i,o,r=null==t?{}:t;if("string"==typeof this.phrases[e])i=this.phrases[e];else if("string"==typeof r._)i=r._;else if(this.onMissingKey){var n=this.onMissingKey;o=n(e,r,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+e+'"'),o=e;return"string"==typeof i&&(o=d(i,r,this.currentLocale,this.tokenRegex)),o},p.prototype.has=function(e){return o(this.phrases,e)},p.transformPhrase=function(e,t,i){return d(e,t,i)},e.exports=p},function(e,t,i){function o(e){return i(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./en":121,"./en.js":121,"./tr":122,"./tr.js":122};o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id=143},function(e,t,i){"use strict";function o(e,t,i){t.urls&&(i=t.urls[i]||i),e.show("./"+i)}function r(e,t,i){var r=t.$$(i.id||i),n=!1;r.attachEvent("onchange",function(){n||o(t,i,this.getValue())}),r.attachEvent("onafterselect",function(){if(!n){var e=null;r.setValue?e=this.getValue():r.getSelectedId&&(e=r.getSelectedId()),o(t,i,e)}}),t.on(e,"app:route",function(e){var i=e[t.getIndex()];if(i){n=!0;var o=i.page;r.setValue&&r.getValue()!==o?r.setValue(o):r.select&&r.exists(o)&&r.getSelectedId()!==o&&r.select(o),n=!1}})}t.a=r},function(e,t,i){"use strict";function o(e,t,i){function o(e){var o=t.$$(i.target);o&&(e||(e="<div class='status_"+p+"'><span class='webix_icon fa-"+b[p]+"'></span> "+v[p]+"</div>"),o.setHTML(e))}function a(){f--,u("good")}function s(e){f--,u("error",e)}function l(e){f++,u("saving"),e&&e.then&&e.then(a,s)}function c(){return p}function h(){0===f&&o(" ")}function u(t,i){f<0&&(f=0),"saving"===t?(p="saving",o()):(m="error"===t,0===f&&(p=m?"error":"good",m?e.error("app:error:server",[i.responseText||i]):g&&setTimeout(h,g),o()))}function d(e){var i=webix.dp(e);i&&(t.on(i,"onAfterDataSend",l),t.on(i,"onAfterSaveError",function(e,t,i){return s(i)}),t.on(i,"onAfterSave",a))}var p="good",f=0,m=!1,g=i.expire;g||!1===g||(g=2e3);var v=i.texts||n,b=i.icons||r;"string"==typeof i&&(i={target:i}),e.setService("status",{getStatus:c,setStatus:u,track:d}),i.remote&&t.on(webix,"onRemoteCall",l),i.ajax&&t.on(webix,"onBeforeAjax",function(e,t,i,o,r,n,a){l(a)}),i.data&&d(i.data)}t.a=o;var r={good:"check",error:"warning",saving:"refresh fa-spin"},n={good:"Ok",error:"Error",saving:"Connecting..."}},function(e,t,i){"use strict";function o(e,t,i){i=i||{};var o=i.storage,r=o?o.get("theme")||"flat-default":i.theme||"flat-default",n={getTheme:function(){return r},setTheme:function(t,i){for(var n=t.split("-"),a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var l=a[s].getAttribute("title");l&&(l===t||l===n[0]?a[s].disabled=!1:a[s].disabled=!0)}webix.skin.set(n[0]),webix.html.removeCss(document.body,"theme-"+r),webix.html.addCss(document.body,"theme-"+t),r=t,o&&o.put("theme",t),i||e.refresh()}};e.setService("theme",n),n.setTheme(r,!0)}t.a=o},function(e,t,i){"use strict";function o(e,t,i){for(var o=0;o<i.length;o++)e.setParam(i[o],t[o+1]?t[o+1].page:"")}function r(e,t,i){var r=i.route||i;t.on(e,"app:urlchange",function(e,i){t===e&&(o(t,i,r),i.splice(1,r.length))}),t.on(e,"app:paramchange",function(e,i,o,n){if(t===e&&n)for(var a=0;a<r.length;a++)if(r[a]===i)return t.show([a,o]),!1}),o(t,t.getUrl(),r)}t.a=r},function(e,t,i){"use strict";function o(e,t,i){function o(e,t){e===n?(u.logout(),t.redirect=s):e===r||u.getStatus()||(t.redirect=r)}i=i||{};var r=i.login||"/login",n=i.logout||"/logout",a=i.afterLogin||e.config.start,s=i.afterLogout||"/login",l=i.ping||3e5,c=i.model,h=i.user,u={getUser:function(){return h},getStatus:function(e){return e?c.status().catch(function(){return null}).then(function(e){h=e}):null!==h},login:function(t,i){return c.login(t,i).then(function(t){if(h=t,!t)throw new Error("Access denied");e.callEvent("app:user:login",[h]),e.show(a)})},logout:function(){return h=null,c.logout().then(function(t){return e.callEvent("app:user:logout",[]),t})}};e.setService("user",u),e.attachEvent("app:guard",function(e,t,i){return void 0===h&&(i.confirm=u.getStatus(!0).then(function(){return o(e,i)})),o(e,i)}),l&&setInterval(function(){return u.getStatus(!0)},l)}t.a=o}]);